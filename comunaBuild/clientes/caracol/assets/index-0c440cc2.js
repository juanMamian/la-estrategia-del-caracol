var Dw=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var n9=Dw((f9,gd)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();function yd(e,t){const o=Object.create(null),i=e.split(",");for(let r=0;r<i.length;r++)o[i[r]]=!0;return t?r=>!!o[r.toLowerCase()]:r=>!!o[r]}function Re(e){if(Fe(e)){const t={};for(let o=0;o<e.length;o++){const i=e[o],r=_t(i)?Rw(i):Re(i);if(r)for(const n in r)t[n]=r[n]}return t}else{if(_t(e))return e;if(ct(e))return e}}const Pw=/;(?![^(]*\))/g,kw=/:([^]+)/,Ow=/\/\*.*?\*\//gs;function Rw(e){const t={};return e.replace(Ow,"").split(Pw).forEach(o=>{if(o){const i=o.split(kw);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function de(e){let t="";if(_t(e))t=e;else if(Fe(e))for(let o=0;o<e.length;o++){const i=de(e[o]);i&&(t+=i+" ")}else if(ct(e))for(const o in e)e[o]&&(t+=o+" ");return t.trim()}const Mw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Fw=yd(Mw);function Dv(e){return!!e||e===""}function Bw(e,t){if(e.length!==t.length)return!1;let o=!0;for(let i=0;o&&i<e.length;i++)o=Yr(e[i],t[i]);return o}function Yr(e,t){if(e===t)return!0;let o=Xf(e),i=Xf(t);if(o||i)return o&&i?e.getTime()===t.getTime():!1;if(o=$n(e),i=$n(t),o||i)return e===t;if(o=Fe(e),i=Fe(t),o||i)return o&&i?Bw(e,t):!1;if(o=ct(e),i=ct(t),o||i){if(!o||!i)return!1;const r=Object.keys(e).length,n=Object.keys(t).length;if(r!==n)return!1;for(const s in e){const a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!Yr(e[s],t[s]))return!1}}return String(e)===String(t)}function bd(e,t){return e.findIndex(o=>Yr(o,t))}const ve=e=>_t(e)?e:e==null?"":Fe(e)||ct(e)&&(e.toString===Ov||!ze(e.toString))?JSON.stringify(e,Pv,2):String(e),Pv=(e,t)=>t&&t.__v_isRef?Pv(e,t.value):wi(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((o,[i,r])=>(o[`${i} =>`]=r,o),{})}:Vi(t)?{[`Set(${t.size})`]:[...t.values()]}:ct(t)&&!Fe(t)&&!Rv(t)?String(t):t,ft={},bi=[],_o=()=>{},Lw=()=>!1,$w=/^on[^a-z]/,Da=e=>$w.test(e),wd=e=>e.startsWith("onUpdate:"),Ot=Object.assign,Ed=(e,t)=>{const o=e.indexOf(t);o>-1&&e.splice(o,1)},Uw=Object.prototype.hasOwnProperty,Je=(e,t)=>Uw.call(e,t),Fe=Array.isArray,wi=e=>os(e)==="[object Map]",Vi=e=>os(e)==="[object Set]",Xf=e=>os(e)==="[object Date]",ze=e=>typeof e=="function",_t=e=>typeof e=="string",$n=e=>typeof e=="symbol",ct=e=>e!==null&&typeof e=="object",kv=e=>ct(e)&&ze(e.then)&&ze(e.catch),Ov=Object.prototype.toString,os=e=>Ov.call(e),qw=e=>os(e).slice(8,-1),Rv=e=>os(e)==="[object Object]",_d=e=>_t(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ws=yd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Pa=e=>{const t=Object.create(null);return o=>t[o]||(t[o]=e(o))},jw=/-(\w)/g,Bo=Pa(e=>e.replace(jw,(t,o)=>o?o.toUpperCase():"")),zw=/\B([A-Z])/g,oi=Pa(e=>e.replace(zw,"-$1").toLowerCase()),ka=Pa(e=>e.charAt(0).toUpperCase()+e.slice(1)),Cl=Pa(e=>e?`on${ka(e)}`:""),Un=(e,t)=>!Object.is(e,t),Qs=(e,t)=>{for(let o=0;o<e.length;o++)e[o](t)},da=(e,t,o)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:o})},fa=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Vw=e=>{const t=_t(e)?Number(e):NaN;return isNaN(t)?e:t};let Zf;const Hw=()=>Zf||(Zf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let vo;class Ww{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=vo,!t&&vo&&(this.index=(vo.scopes||(vo.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const o=vo;try{return vo=this,t()}finally{vo=o}}}on(){vo=this}off(){vo=this.parent}stop(t){if(this._active){let o,i;for(o=0,i=this.effects.length;o<i;o++)this.effects[o].stop();for(o=0,i=this.cleanups.length;o<i;o++)this.cleanups[o]();if(this.scopes)for(o=0,i=this.scopes.length;o<i;o++)this.scopes[o].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Qw(e,t=vo){t&&t.active&&t.effects.push(e)}function Gw(){return vo}const Sd=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Mv=e=>(e.w&yr)>0,Fv=e=>(e.n&yr)>0,Kw=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=yr},Jw=e=>{const{deps:t}=e;if(t.length){let o=0;for(let i=0;i<t.length;i++){const r=t[i];Mv(r)&&!Fv(r)?r.delete(e):t[o++]=r,r.w&=~yr,r.n&=~yr}t.length=o}},iu=new WeakMap;let Nn=0,yr=1;const nu=30;let yo;const Qr=Symbol(""),su=Symbol("");class Ad{constructor(t,o=null,i){this.fn=t,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,Qw(this,i)}run(){if(!this.active)return this.fn();let t=yo,o=vr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=yo,yo=this,vr=!0,yr=1<<++Nn,Nn<=nu?Kw(this):eh(this),this.fn()}finally{Nn<=nu&&Jw(this),yr=1<<--Nn,yo=this.parent,vr=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){yo===this?this.deferStop=!0:this.active&&(eh(this),this.onStop&&this.onStop(),this.active=!1)}}function eh(e){const{deps:t}=e;if(t.length){for(let o=0;o<t.length;o++)t[o].delete(e);t.length=0}}let vr=!0;const Bv=[];function Hi(){Bv.push(vr),vr=!1}function Wi(){const e=Bv.pop();vr=e===void 0?!0:e}function Yt(e,t,o){if(vr&&yo){let i=iu.get(e);i||iu.set(e,i=new Map);let r=i.get(o);r||i.set(o,r=Sd()),Lv(r)}}function Lv(e,t){let o=!1;Nn<=nu?Fv(e)||(e.n|=yr,o=!Mv(e)):o=!e.has(yo),o&&(e.add(yo),yo.deps.push(e))}function Jo(e,t,o,i,r,n){const s=iu.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(o==="length"&&Fe(e)){const l=Number(i);s.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(o!==void 0&&a.push(s.get(o)),t){case"add":Fe(e)?_d(o)&&a.push(s.get("length")):(a.push(s.get(Qr)),wi(e)&&a.push(s.get(su)));break;case"delete":Fe(e)||(a.push(s.get(Qr)),wi(e)&&a.push(s.get(su)));break;case"set":wi(e)&&a.push(s.get(Qr));break}if(a.length===1)a[0]&&au(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);au(Sd(l))}}function au(e,t){const o=Fe(e)?e:[...e];for(const i of o)i.computed&&th(i);for(const i of o)i.computed||th(i)}function th(e,t){(e!==yo||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Yw=yd("__proto__,__v_isRef,__isVue"),$v=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter($n)),Xw=Nd(),Zw=Nd(!1,!0),eE=Nd(!0),oh=tE();function tE(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...o){const i=Xe(this);for(let n=0,s=this.length;n<s;n++)Yt(i,"get",n+"");const r=i[t](...o);return r===-1||r===!1?i[t](...o.map(Xe)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...o){Hi();const i=Xe(this)[t].apply(this,o);return Wi(),i}}),e}function oE(e){const t=Xe(this);return Yt(t,"has",e),t.hasOwnProperty(e)}function Nd(e=!1,t=!1){return function(i,r,n){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&n===(e?t?yE:Vv:t?zv:jv).get(i))return i;const s=Fe(i);if(!e){if(s&&Je(oh,r))return Reflect.get(oh,r,n);if(r==="hasOwnProperty")return oE}const a=Reflect.get(i,r,n);return($n(r)?$v.has(r):Yw(r))||(e||Yt(i,"get",r),t)?a:zt(a)?s&&_d(r)?a:a.value:ct(a)?e?Hv(a):rs(a):a}}const rE=Uv(),iE=Uv(!0);function Uv(e=!1){return function(o,i,r,n){let s=o[i];if(Pi(s)&&zt(s)&&!zt(r))return!1;if(!e&&(!ha(r)&&!Pi(r)&&(s=Xe(s),r=Xe(r)),!Fe(o)&&zt(s)&&!zt(r)))return s.value=r,!0;const a=Fe(o)&&_d(i)?Number(i)<o.length:Je(o,i),l=Reflect.set(o,i,r,n);return o===Xe(n)&&(a?Un(r,s)&&Jo(o,"set",i,r):Jo(o,"add",i,r)),l}}function nE(e,t){const o=Je(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&o&&Jo(e,"delete",t,void 0),i}function sE(e,t){const o=Reflect.has(e,t);return(!$n(t)||!$v.has(t))&&Yt(e,"has",t),o}function aE(e){return Yt(e,"iterate",Fe(e)?"length":Qr),Reflect.ownKeys(e)}const qv={get:Xw,set:rE,deleteProperty:nE,has:sE,ownKeys:aE},lE={get:eE,set(e,t){return!0},deleteProperty(e,t){return!0}},cE=Ot({},qv,{get:Zw,set:iE}),Cd=e=>e,Oa=e=>Reflect.getPrototypeOf(e);function Ns(e,t,o=!1,i=!1){e=e.__v_raw;const r=Xe(e),n=Xe(t);o||(t!==n&&Yt(r,"get",t),Yt(r,"get",n));const{has:s}=Oa(r),a=i?Cd:o?Id:qn;if(s.call(r,t))return a(e.get(t));if(s.call(r,n))return a(e.get(n));e!==r&&e.get(t)}function Cs(e,t=!1){const o=this.__v_raw,i=Xe(o),r=Xe(e);return t||(e!==r&&Yt(i,"has",e),Yt(i,"has",r)),e===r?o.has(e):o.has(e)||o.has(r)}function Ts(e,t=!1){return e=e.__v_raw,!t&&Yt(Xe(e),"iterate",Qr),Reflect.get(e,"size",e)}function rh(e){e=Xe(e);const t=Xe(this);return Oa(t).has.call(t,e)||(t.add(e),Jo(t,"add",e,e)),this}function ih(e,t){t=Xe(t);const o=Xe(this),{has:i,get:r}=Oa(o);let n=i.call(o,e);n||(e=Xe(e),n=i.call(o,e));const s=r.call(o,e);return o.set(e,t),n?Un(t,s)&&Jo(o,"set",e,t):Jo(o,"add",e,t),this}function nh(e){const t=Xe(this),{has:o,get:i}=Oa(t);let r=o.call(t,e);r||(e=Xe(e),r=o.call(t,e)),i&&i.call(t,e);const n=t.delete(e);return r&&Jo(t,"delete",e,void 0),n}function sh(){const e=Xe(this),t=e.size!==0,o=e.clear();return t&&Jo(e,"clear",void 0,void 0),o}function xs(e,t){return function(i,r){const n=this,s=n.__v_raw,a=Xe(s),l=t?Cd:e?Id:qn;return!e&&Yt(a,"iterate",Qr),s.forEach((c,u)=>i.call(r,l(c),l(u),n))}}function Is(e,t,o){return function(...i){const r=this.__v_raw,n=Xe(r),s=wi(n),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=r[e](...i),u=o?Cd:t?Id:qn;return!t&&Yt(n,"iterate",l?su:Qr),{next(){const{value:d,done:p}=c.next();return p?{value:d,done:p}:{value:a?[u(d[0]),u(d[1])]:u(d),done:p}},[Symbol.iterator](){return this}}}}function ir(e){return function(...t){return e==="delete"?!1:this}}function uE(){const e={get(n){return Ns(this,n)},get size(){return Ts(this)},has:Cs,add:rh,set:ih,delete:nh,clear:sh,forEach:xs(!1,!1)},t={get(n){return Ns(this,n,!1,!0)},get size(){return Ts(this)},has:Cs,add:rh,set:ih,delete:nh,clear:sh,forEach:xs(!1,!0)},o={get(n){return Ns(this,n,!0)},get size(){return Ts(this,!0)},has(n){return Cs.call(this,n,!0)},add:ir("add"),set:ir("set"),delete:ir("delete"),clear:ir("clear"),forEach:xs(!0,!1)},i={get(n){return Ns(this,n,!0,!0)},get size(){return Ts(this,!0)},has(n){return Cs.call(this,n,!0)},add:ir("add"),set:ir("set"),delete:ir("delete"),clear:ir("clear"),forEach:xs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{e[n]=Is(n,!1,!1),o[n]=Is(n,!0,!1),t[n]=Is(n,!1,!0),i[n]=Is(n,!0,!0)}),[e,o,t,i]}const[dE,fE,hE,pE]=uE();function Td(e,t){const o=t?e?pE:hE:e?fE:dE;return(i,r,n)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?i:Reflect.get(Je(o,r)&&r in i?o:i,r,n)}const mE={get:Td(!1,!1)},vE={get:Td(!1,!0)},gE={get:Td(!0,!1)},jv=new WeakMap,zv=new WeakMap,Vv=new WeakMap,yE=new WeakMap;function bE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wE(e){return e.__v_skip||!Object.isExtensible(e)?0:bE(qw(e))}function rs(e){return Pi(e)?e:xd(e,!1,qv,mE,jv)}function EE(e){return xd(e,!1,cE,vE,zv)}function Hv(e){return xd(e,!0,lE,gE,Vv)}function xd(e,t,o,i,r){if(!ct(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const n=r.get(e);if(n)return n;const s=wE(e);if(s===0)return e;const a=new Proxy(e,s===2?i:o);return r.set(e,a),a}function Ei(e){return Pi(e)?Ei(e.__v_raw):!!(e&&e.__v_isReactive)}function Pi(e){return!!(e&&e.__v_isReadonly)}function ha(e){return!!(e&&e.__v_isShallow)}function Wv(e){return Ei(e)||Pi(e)}function Xe(e){const t=e&&e.__v_raw;return t?Xe(t):e}function Qv(e){return da(e,"__v_skip",!0),e}const qn=e=>ct(e)?rs(e):e,Id=e=>ct(e)?Hv(e):e;function Gv(e){vr&&yo&&(e=Xe(e),Lv(e.dep||(e.dep=Sd())))}function Kv(e,t){e=Xe(e);const o=e.dep;o&&au(o)}function zt(e){return!!(e&&e.__v_isRef===!0)}function _E(e){return Jv(e,!1)}function SE(e){return Jv(e,!0)}function Jv(e,t){return zt(e)?e:new AE(e,t)}class AE{constructor(t,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?t:Xe(t),this._value=o?t:qn(t)}get value(){return Gv(this),this._value}set value(t){const o=this.__v_isShallow||ha(t)||Pi(t);t=o?t:Xe(t),Un(t,this._rawValue)&&(this._rawValue=t,this._value=o?t:qn(t),Kv(this))}}function _i(e){return zt(e)?e.value:e}const NE={get:(e,t,o)=>_i(Reflect.get(e,t,o)),set:(e,t,o,i)=>{const r=e[t];return zt(r)&&!zt(o)?(r.value=o,!0):Reflect.set(e,t,o,i)}};function Yv(e){return Ei(e)?e:new Proxy(e,NE)}var Xv;class CE{constructor(t,o,i,r){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this[Xv]=!1,this._dirty=!0,this.effect=new Ad(t,()=>{this._dirty||(this._dirty=!0,Kv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const t=Xe(this);return Gv(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Xv="__v_isReadonly";function TE(e,t,o=!1){let i,r;const n=ze(e);return n?(i=e,r=_o):(i=e.get,r=e.set),new CE(i,r,n||!r,o)}function gr(e,t,o,i){let r;try{r=i?e(...i):e()}catch(n){Ra(n,t,o)}return r}function ao(e,t,o,i){if(ze(e)){const n=gr(e,t,o,i);return n&&kv(n)&&n.catch(s=>{Ra(s,t,o)}),n}const r=[];for(let n=0;n<e.length;n++)r.push(ao(e[n],t,o,i));return r}function Ra(e,t,o,i=!0){const r=t?t.vnode:null;if(t){let n=t.parent;const s=t.proxy,a=o;for(;n;){const c=n.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,s,a)===!1)return}n=n.parent}const l=t.appContext.config.errorHandler;if(l){gr(l,null,10,[e,s,a]);return}}xE(e,o,r,i)}function xE(e,t,o,i=!0){console.error(e)}let jn=!1,lu=!1;const jt=[];let Ro=0;const Si=[];let qo=null,Lr=0;const Zv=Promise.resolve();let Dd=null;function eg(e){const t=Dd||Zv;return e?t.then(this?e.bind(this):e):t}function IE(e){let t=Ro+1,o=jt.length;for(;t<o;){const i=t+o>>>1;zn(jt[i])<e?t=i+1:o=i}return t}function Pd(e){(!jt.length||!jt.includes(e,jn&&e.allowRecurse?Ro+1:Ro))&&(e.id==null?jt.push(e):jt.splice(IE(e.id),0,e),tg())}function tg(){!jn&&!lu&&(lu=!0,Dd=Zv.then(rg))}function DE(e){const t=jt.indexOf(e);t>Ro&&jt.splice(t,1)}function PE(e){Fe(e)?Si.push(...e):(!qo||!qo.includes(e,e.allowRecurse?Lr+1:Lr))&&Si.push(e),tg()}function ah(e,t=jn?Ro+1:0){for(;t<jt.length;t++){const o=jt[t];o&&o.pre&&(jt.splice(t,1),t--,o())}}function og(e){if(Si.length){const t=[...new Set(Si)];if(Si.length=0,qo){qo.push(...t);return}for(qo=t,qo.sort((o,i)=>zn(o)-zn(i)),Lr=0;Lr<qo.length;Lr++)qo[Lr]();qo=null,Lr=0}}const zn=e=>e.id==null?1/0:e.id,kE=(e,t)=>{const o=zn(e)-zn(t);if(o===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return o};function rg(e){lu=!1,jn=!0,jt.sort(kE);const t=_o;try{for(Ro=0;Ro<jt.length;Ro++){const o=jt[Ro];o&&o.active!==!1&&gr(o,null,14)}}finally{Ro=0,jt.length=0,og(),jn=!1,Dd=null,(jt.length||Si.length)&&rg()}}function OE(e,t,...o){if(e.isUnmounted)return;const i=e.vnode.props||ft;let r=o;const n=t.startsWith("update:"),s=n&&t.slice(7);if(s&&s in i){const u=`${s==="modelValue"?"model":s}Modifiers`,{number:d,trim:p}=i[u]||ft;p&&(r=o.map(f=>_t(f)?f.trim():f)),d&&(r=o.map(fa))}let a,l=i[a=Cl(t)]||i[a=Cl(Bo(t))];!l&&n&&(l=i[a=Cl(oi(t))]),l&&ao(l,e,6,r);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ao(c,e,6,r)}}function ig(e,t,o=!1){const i=t.emitsCache,r=i.get(e);if(r!==void 0)return r;const n=e.emits;let s={},a=!1;if(!ze(e)){const l=c=>{const u=ig(c,t,!0);u&&(a=!0,Ot(s,u))};!o&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!n&&!a?(ct(e)&&i.set(e,null),null):(Fe(n)?n.forEach(l=>s[l]=null):Ot(s,n),ct(e)&&i.set(e,s),s)}function Ma(e,t){return!e||!Da(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,oi(t))||Je(e,t))}let Ut=null,Fa=null;function pa(e){const t=Ut;return Ut=e,Fa=e&&e.type.__scopeId||null,t}function Ge(e){Fa=e}function Ke(){Fa=null}function ht(e,t=Ut,o){if(!t||e._n)return e;const i=(...r)=>{i._d&&yh(-1);const n=pa(t);let s;try{s=e(...r)}finally{pa(n),i._d&&yh(1)}return s};return i._n=!0,i._c=!0,i._d=!0,i}function Tl(e){const{type:t,vnode:o,proxy:i,withProxy:r,props:n,propsOptions:[s],slots:a,attrs:l,emit:c,render:u,renderCache:d,data:p,setupState:f,ctx:g,inheritAttrs:y}=e;let T,w;const _=pa(e);try{if(o.shapeFlag&4){const D=r||i;T=ko(u.call(D,D,d,n,f,p,g)),w=l}else{const D=t;T=ko(D.length>1?D(n,{attrs:l,slots:a,emit:c}):D(n,null)),w=t.props?l:RE(l)}}catch(D){kn.length=0,Ra(D,e,1),T=Se(lo)}let x=T;if(w&&y!==!1){const D=Object.keys(w),{shapeFlag:M}=x;D.length&&M&7&&(s&&D.some(wd)&&(w=ME(w,s)),x=br(x,w))}return o.dirs&&(x=br(x),x.dirs=x.dirs?x.dirs.concat(o.dirs):o.dirs),o.transition&&(x.transition=o.transition),T=x,pa(_),T}const RE=e=>{let t;for(const o in e)(o==="class"||o==="style"||Da(o))&&((t||(t={}))[o]=e[o]);return t},ME=(e,t)=>{const o={};for(const i in e)(!wd(i)||!(i.slice(9)in t))&&(o[i]=e[i]);return o};function FE(e,t,o){const{props:i,children:r,component:n}=e,{props:s,children:a,patchFlag:l}=t,c=n.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&l>=0){if(l&1024)return!0;if(l&16)return i?lh(i,s,c):!!s;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const p=u[d];if(s[p]!==i[p]&&!Ma(c,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===s?!1:i?s?lh(i,s,c):!0:!!s;return!1}function lh(e,t,o){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let r=0;r<i.length;r++){const n=i[r];if(t[n]!==e[n]&&!Ma(o,n))return!0}return!1}function BE({vnode:e,parent:t},o){for(;t&&t.subTree===e;)(e=t.vnode).el=o,t=t.parent}const LE=e=>e.__isSuspense;function $E(e,t){t&&t.pendingBranch?Fe(e)?t.effects.push(...e):t.effects.push(e):PE(e)}function Gs(e,t){if(Et){let o=Et.provides;const i=Et.parent&&Et.parent.provides;i===o&&(o=Et.provides=Object.create(i)),o[e]=t}}function Qo(e,t,o=!1){const i=Et||Ut;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return o&&ze(t)?t.call(i.proxy):t}}const Ds={};function Ks(e,t,o){return ng(e,t,o)}function ng(e,t,{immediate:o,deep:i,flush:r,onTrack:n,onTrigger:s}=ft){const a=Gw()===(Et==null?void 0:Et.scope)?Et:null;let l,c=!1,u=!1;if(zt(e)?(l=()=>e.value,c=ha(e)):Ei(e)?(l=()=>e,i=!0):Fe(e)?(u=!0,c=e.some(x=>Ei(x)||ha(x)),l=()=>e.map(x=>{if(zt(x))return x.value;if(Ei(x))return jr(x);if(ze(x))return gr(x,a,2)})):ze(e)?t?l=()=>gr(e,a,2):l=()=>{if(!(a&&a.isUnmounted))return d&&d(),ao(e,a,3,[p])}:l=_o,t&&i){const x=l;l=()=>jr(x())}let d,p=x=>{d=w.onStop=()=>{gr(x,a,4)}},f;if(Qn)if(p=_o,t?o&&ao(t,a,3,[l(),u?[]:void 0,p]):l(),r==="sync"){const x=R_();f=x.__watcherHandles||(x.__watcherHandles=[])}else return _o;let g=u?new Array(e.length).fill(Ds):Ds;const y=()=>{if(w.active)if(t){const x=w.run();(i||c||(u?x.some((D,M)=>Un(D,g[M])):Un(x,g)))&&(d&&d(),ao(t,a,3,[x,g===Ds?void 0:u&&g[0]===Ds?[]:g,p]),g=x)}else w.run()};y.allowRecurse=!!t;let T;r==="sync"?T=y:r==="post"?T=()=>Kt(y,a&&a.suspense):(y.pre=!0,a&&(y.id=a.uid),T=()=>Pd(y));const w=new Ad(l,T);t?o?y():g=w.run():r==="post"?Kt(w.run.bind(w),a&&a.suspense):w.run();const _=()=>{w.stop(),a&&a.scope&&Ed(a.scope.effects,w)};return f&&f.push(_),_}function UE(e,t,o){const i=this.proxy,r=_t(e)?e.includes(".")?sg(i,e):()=>i[e]:e.bind(i,i);let n;ze(t)?n=t:(n=t.handler,o=t);const s=Et;ki(this);const a=ng(r,n.bind(i),o);return s?ki(s):Gr(),a}function sg(e,t){const o=t.split(".");return()=>{let i=e;for(let r=0;r<o.length&&i;r++)i=i[o[r]];return i}}function jr(e,t){if(!ct(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),zt(e))jr(e.value,t);else if(Fe(e))for(let o=0;o<e.length;o++)jr(e[o],t);else if(Vi(e)||wi(e))e.forEach(o=>{jr(o,t)});else if(Rv(e))for(const o in e)jr(e[o],t);return e}function ag(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fg(()=>{e.isMounted=!0}),pg(()=>{e.isUnmounting=!0}),e}const io=[Function,Array],qE={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:io,onEnter:io,onAfterEnter:io,onEnterCancelled:io,onBeforeLeave:io,onLeave:io,onAfterLeave:io,onLeaveCancelled:io,onBeforeAppear:io,onAppear:io,onAfterAppear:io,onAppearCancelled:io},setup(e,{slots:t}){const o=Ig(),i=ag();let r;return()=>{const n=t.default&&kd(t.default(),!0);if(!n||!n.length)return;let s=n[0];if(n.length>1){for(const y of n)if(y.type!==lo){s=y;break}}const a=Xe(e),{mode:l}=a;if(i.isLeaving)return xl(s);const c=ch(s);if(!c)return xl(s);const u=Vn(c,a,i,o);Hn(c,u);const d=o.subTree,p=d&&ch(d);let f=!1;const{getTransitionKey:g}=c.type;if(g){const y=g();r===void 0?r=y:y!==r&&(r=y,f=!0)}if(p&&p.type!==lo&&(!$r(c,p)||f)){const y=Vn(p,a,i,o);if(Hn(p,y),l==="out-in")return i.isLeaving=!0,y.afterLeave=()=>{i.isLeaving=!1,o.update.active!==!1&&o.update()},xl(s);l==="in-out"&&c.type!==lo&&(y.delayLeave=(T,w,_)=>{const x=cg(i,p);x[String(p.key)]=p,T._leaveCb=()=>{w(),T._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=_})}return s}}},lg=qE;function cg(e,t){const{leavingVNodes:o}=e;let i=o.get(t.type);return i||(i=Object.create(null),o.set(t.type,i)),i}function Vn(e,t,o,i){const{appear:r,mode:n,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:p,onAfterLeave:f,onLeaveCancelled:g,onBeforeAppear:y,onAppear:T,onAfterAppear:w,onAppearCancelled:_}=t,x=String(e.key),D=cg(o,e),M=(W,P)=>{W&&ao(W,i,9,P)},J=(W,P)=>{const ie=P[1];M(W,P),Fe(W)?W.every(fe=>fe.length<=1)&&ie():W.length<=1&&ie()},V={mode:n,persisted:s,beforeEnter(W){let P=a;if(!o.isMounted)if(r)P=y||a;else return;W._leaveCb&&W._leaveCb(!0);const ie=D[x];ie&&$r(e,ie)&&ie.el._leaveCb&&ie.el._leaveCb(),M(P,[W])},enter(W){let P=l,ie=c,fe=u;if(!o.isMounted)if(r)P=T||l,ie=w||c,fe=_||u;else return;let B=!1;const Z=W._enterCb=I=>{B||(B=!0,I?M(fe,[W]):M(ie,[W]),V.delayedLeave&&V.delayedLeave(),W._enterCb=void 0)};P?J(P,[W,Z]):Z()},leave(W,P){const ie=String(e.key);if(W._enterCb&&W._enterCb(!0),o.isUnmounting)return P();M(d,[W]);let fe=!1;const B=W._leaveCb=Z=>{fe||(fe=!0,P(),Z?M(g,[W]):M(f,[W]),W._leaveCb=void 0,D[ie]===e&&delete D[ie])};D[ie]=e,p?J(p,[W,B]):B()},clone(W){return Vn(W,t,o,i)}};return V}function xl(e){if(Ba(e))return e=br(e),e.children=null,e}function ch(e){return Ba(e)?e.children?e.children[0]:void 0:e}function Hn(e,t){e.shapeFlag&6&&e.component?Hn(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function kd(e,t=!1,o){let i=[],r=0;for(let n=0;n<e.length;n++){let s=e[n];const a=o==null?s.key:String(o)+String(s.key!=null?s.key:n);s.type===Me?(s.patchFlag&128&&r++,i=i.concat(kd(s.children,t,a))):(t||s.type!==lo)&&i.push(a!=null?br(s,{key:a}):s)}if(r>1)for(let n=0;n<i.length;n++)i[n].patchFlag=-2;return i}function ug(e){return ze(e)?{setup:e,name:e.name}:e}const In=e=>!!e.type.__asyncLoader,Ba=e=>e.type.__isKeepAlive;function jE(e,t){dg(e,"a",t)}function zE(e,t){dg(e,"da",t)}function dg(e,t,o=Et){const i=e.__wdc||(e.__wdc=()=>{let r=o;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(La(t,i,o),o){let r=o.parent;for(;r&&r.parent;)Ba(r.parent.vnode)&&VE(i,t,o,r),r=r.parent}}function VE(e,t,o,i){const r=La(t,e,i,!0);mg(()=>{Ed(i[t],r)},o)}function La(e,t,o=Et,i=!1){if(o){const r=o[e]||(o[e]=[]),n=t.__weh||(t.__weh=(...s)=>{if(o.isUnmounted)return;Hi(),ki(o);const a=ao(t,o,e,s);return Gr(),Wi(),a});return i?r.unshift(n):r.push(n),n}}const Xo=e=>(t,o=Et)=>(!Qn||e==="sp")&&La(e,(...i)=>t(...i),o),HE=Xo("bm"),fg=Xo("m"),WE=Xo("bu"),hg=Xo("u"),pg=Xo("bum"),mg=Xo("um"),QE=Xo("sp"),GE=Xo("rtg"),KE=Xo("rtc");function JE(e,t=Et){La("ec",e,t)}function U(e,t){const o=Ut;if(o===null)return e;const i=qa(o)||o.proxy,r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[s,a,l,c=ft]=t[n];s&&(ze(s)&&(s={mounted:s,updated:s}),s.deep&&jr(a),r.push({dir:s,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function xr(e,t,o,i){const r=e.dirs,n=t&&t.dirs;for(let s=0;s<r.length;s++){const a=r[s];n&&(a.oldValue=n[s].value);let l=a.dir[i];l&&(Hi(),ao(l,o,8,[e.el,a,e,t]),Wi())}}const vg="components";function Te(e,t){return XE(vg,e,!0,t)||e}const YE=Symbol();function XE(e,t,o=!0,i=!1){const r=Ut||Et;if(r){const n=r.type;if(e===vg){const a=P_(n,!1);if(a&&(a===t||a===Bo(t)||a===ka(Bo(t))))return n}const s=uh(r[e]||n[e],t)||uh(r.appContext[e],t);return!s&&i?n:s}}function uh(e,t){return e&&(e[t]||e[Bo(t)]||e[ka(Bo(t))])}function Ve(e,t,o,i){let r;const n=o&&o[i];if(Fe(e)||_t(e)){r=new Array(e.length);for(let s=0,a=e.length;s<a;s++)r[s]=t(e[s],s,void 0,n&&n[s])}else if(typeof e=="number"){r=new Array(e);for(let s=0;s<e;s++)r[s]=t(s+1,s,void 0,n&&n[s])}else if(ct(e))if(e[Symbol.iterator])r=Array.from(e,(s,a)=>t(s,a,void 0,n&&n[a]));else{const s=Object.keys(e);r=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const c=s[a];r[a]=t(e[c],c,a,n&&n[a])}}else r=[];return o&&(o[i]=r),r}function ZE(e,t){for(let o=0;o<t.length;o++){const i=t[o];if(Fe(i))for(let r=0;r<i.length;r++)e[i[r].name]=i[r].fn;else i&&(e[i.name]=i.key?(...r)=>{const n=i.fn(...r);return n&&(n.key=i.key),n}:i.fn)}return e}function Od(e,t,o={},i,r){if(Ut.isCE||Ut.parent&&In(Ut.parent)&&Ut.parent.isCE)return t!=="default"&&(o.name=t),Se("slot",o,i&&i());let n=e[t];n&&n._c&&(n._d=!1),H();const s=n&&gg(n(o)),a=qe(Me,{key:o.key||s&&s.key||`_${t}`},s||(i?i():[]),s&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),n&&n._c&&(n._d=!0),a}function gg(e){return e.some(t=>va(t)?!(t.type===lo||t.type===Me&&!gg(t.children)):!0)?e:null}const cu=e=>e?Dg(e)?qa(e)||e.proxy:cu(e.parent):null,Dn=Ot(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>cu(e.parent),$root:e=>cu(e.root),$emit:e=>e.emit,$options:e=>Rd(e),$forceUpdate:e=>e.f||(e.f=()=>Pd(e.update)),$nextTick:e=>e.n||(e.n=eg.bind(e.proxy)),$watch:e=>UE.bind(e)}),Il=(e,t)=>e!==ft&&!e.__isScriptSetup&&Je(e,t),e_={get({_:e},t){const{ctx:o,setupState:i,data:r,props:n,accessCache:s,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const f=s[t];if(f!==void 0)switch(f){case 1:return i[t];case 2:return r[t];case 4:return o[t];case 3:return n[t]}else{if(Il(i,t))return s[t]=1,i[t];if(r!==ft&&Je(r,t))return s[t]=2,r[t];if((c=e.propsOptions[0])&&Je(c,t))return s[t]=3,n[t];if(o!==ft&&Je(o,t))return s[t]=4,o[t];uu&&(s[t]=0)}}const u=Dn[t];let d,p;if(u)return t==="$attrs"&&Yt(e,"get",t),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(o!==ft&&Je(o,t))return s[t]=4,o[t];if(p=l.config.globalProperties,Je(p,t))return p[t]},set({_:e},t,o){const{data:i,setupState:r,ctx:n}=e;return Il(r,t)?(r[t]=o,!0):i!==ft&&Je(i,t)?(i[t]=o,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(n[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:i,appContext:r,propsOptions:n}},s){let a;return!!o[s]||e!==ft&&Je(e,s)||Il(t,s)||(a=n[0])&&Je(a,s)||Je(i,s)||Je(Dn,s)||Je(r.config.globalProperties,s)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:Je(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};let uu=!0;function t_(e){const t=Rd(e),o=e.proxy,i=e.ctx;uu=!1,t.beforeCreate&&dh(t.beforeCreate,e,"bc");const{data:r,computed:n,methods:s,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:p,beforeUpdate:f,updated:g,activated:y,deactivated:T,beforeDestroy:w,beforeUnmount:_,destroyed:x,unmounted:D,render:M,renderTracked:J,renderTriggered:V,errorCaptured:W,serverPrefetch:P,expose:ie,inheritAttrs:fe,components:B,directives:Z,filters:I}=t;if(c&&o_(c,i,null,e.appContext.config.unwrapInjectedRef),s)for(const X in s){const pe=s[X];ze(pe)&&(i[X]=pe.bind(o))}if(r){const X=r.call(o,o);ct(X)&&(e.data=rs(X))}if(uu=!0,n)for(const X in n){const pe=n[X],le=ze(pe)?pe.bind(o,o):ze(pe.get)?pe.get.bind(o,o):_o,be=!ze(pe)&&ze(pe.set)?pe.set.bind(o):_o,ee=so({get:le,set:be});Object.defineProperty(i,X,{enumerable:!0,configurable:!0,get:()=>ee.value,set:F=>ee.value=F})}if(a)for(const X in a)yg(a[X],i,o,X);if(l){const X=ze(l)?l.call(o):l;Reflect.ownKeys(X).forEach(pe=>{Gs(pe,X[pe])})}u&&dh(u,e,"c");function me(X,pe){Fe(pe)?pe.forEach(le=>X(le.bind(o))):pe&&X(pe.bind(o))}if(me(HE,d),me(fg,p),me(WE,f),me(hg,g),me(jE,y),me(zE,T),me(JE,W),me(KE,J),me(GE,V),me(pg,_),me(mg,D),me(QE,P),Fe(ie))if(ie.length){const X=e.exposed||(e.exposed={});ie.forEach(pe=>{Object.defineProperty(X,pe,{get:()=>o[pe],set:le=>o[pe]=le})})}else e.exposed||(e.exposed={});M&&e.render===_o&&(e.render=M),fe!=null&&(e.inheritAttrs=fe),B&&(e.components=B),Z&&(e.directives=Z)}function o_(e,t,o=_o,i=!1){Fe(e)&&(e=du(e));for(const r in e){const n=e[r];let s;ct(n)?"default"in n?s=Qo(n.from||r,n.default,!0):s=Qo(n.from||r):s=Qo(n),zt(s)&&i?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[r]=s}}function dh(e,t,o){ao(Fe(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,o)}function yg(e,t,o,i){const r=i.includes(".")?sg(o,i):()=>o[i];if(_t(e)){const n=t[e];ze(n)&&Ks(r,n)}else if(ze(e))Ks(r,e.bind(o));else if(ct(e))if(Fe(e))e.forEach(n=>yg(n,t,o,i));else{const n=ze(e.handler)?e.handler.bind(o):t[e.handler];ze(n)&&Ks(r,n,e)}}function Rd(e){const t=e.type,{mixins:o,extends:i}=t,{mixins:r,optionsCache:n,config:{optionMergeStrategies:s}}=e.appContext,a=n.get(t);let l;return a?l=a:!r.length&&!o&&!i?l=t:(l={},r.length&&r.forEach(c=>ma(l,c,s,!0)),ma(l,t,s)),ct(t)&&n.set(t,l),l}function ma(e,t,o,i=!1){const{mixins:r,extends:n}=t;n&&ma(e,n,o,!0),r&&r.forEach(s=>ma(e,s,o,!0));for(const s in t)if(!(i&&s==="expose")){const a=r_[s]||o&&o[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const r_={data:fh,props:Mr,emits:Mr,methods:Mr,computed:Mr,beforeCreate:Qt,created:Qt,beforeMount:Qt,mounted:Qt,beforeUpdate:Qt,updated:Qt,beforeDestroy:Qt,beforeUnmount:Qt,destroyed:Qt,unmounted:Qt,activated:Qt,deactivated:Qt,errorCaptured:Qt,serverPrefetch:Qt,components:Mr,directives:Mr,watch:n_,provide:fh,inject:i_};function fh(e,t){return t?e?function(){return Ot(ze(e)?e.call(this,this):e,ze(t)?t.call(this,this):t)}:t:e}function i_(e,t){return Mr(du(e),du(t))}function du(e){if(Fe(e)){const t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function Qt(e,t){return e?[...new Set([].concat(e,t))]:t}function Mr(e,t){return e?Ot(Ot(Object.create(null),e),t):t}function n_(e,t){if(!e)return t;if(!t)return e;const o=Ot(Object.create(null),e);for(const i in t)o[i]=Qt(e[i],t[i]);return o}function s_(e,t,o,i=!1){const r={},n={};da(n,Ua,1),e.propsDefaults=Object.create(null),bg(e,t,r,n);for(const s in e.propsOptions[0])s in r||(r[s]=void 0);o?e.props=i?r:EE(r):e.type.props?e.props=r:e.props=n,e.attrs=n}function a_(e,t,o,i){const{props:r,attrs:n,vnode:{patchFlag:s}}=e,a=Xe(r),[l]=e.propsOptions;let c=!1;if((i||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let p=u[d];if(Ma(e.emitsOptions,p))continue;const f=t[p];if(l)if(Je(n,p))f!==n[p]&&(n[p]=f,c=!0);else{const g=Bo(p);r[g]=fu(l,a,g,f,e,!1)}else f!==n[p]&&(n[p]=f,c=!0)}}}else{bg(e,t,r,n)&&(c=!0);let u;for(const d in a)(!t||!Je(t,d)&&((u=oi(d))===d||!Je(t,u)))&&(l?o&&(o[d]!==void 0||o[u]!==void 0)&&(r[d]=fu(l,a,d,void 0,e,!0)):delete r[d]);if(n!==a)for(const d in n)(!t||!Je(t,d))&&(delete n[d],c=!0)}c&&Jo(e,"set","$attrs")}function bg(e,t,o,i){const[r,n]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(Ws(l))continue;const c=t[l];let u;r&&Je(r,u=Bo(l))?!n||!n.includes(u)?o[u]=c:(a||(a={}))[u]=c:Ma(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,s=!0)}if(n){const l=Xe(o),c=a||ft;for(let u=0;u<n.length;u++){const d=n[u];o[d]=fu(r,l,d,c[d],e,!Je(c,d))}}return s}function fu(e,t,o,i,r,n){const s=e[o];if(s!=null){const a=Je(s,"default");if(a&&i===void 0){const l=s.default;if(s.type!==Function&&ze(l)){const{propsDefaults:c}=r;o in c?i=c[o]:(ki(r),i=c[o]=l.call(null,t),Gr())}else i=l}s[0]&&(n&&!a?i=!1:s[1]&&(i===""||i===oi(o))&&(i=!0))}return i}function wg(e,t,o=!1){const i=t.propsCache,r=i.get(e);if(r)return r;const n=e.props,s={},a=[];let l=!1;if(!ze(e)){const u=d=>{l=!0;const[p,f]=wg(d,t,!0);Ot(s,p),f&&a.push(...f)};!o&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!n&&!l)return ct(e)&&i.set(e,bi),bi;if(Fe(n))for(let u=0;u<n.length;u++){const d=Bo(n[u]);hh(d)&&(s[d]=ft)}else if(n)for(const u in n){const d=Bo(u);if(hh(d)){const p=n[u],f=s[d]=Fe(p)||ze(p)?{type:p}:Object.assign({},p);if(f){const g=vh(Boolean,f.type),y=vh(String,f.type);f[0]=g>-1,f[1]=y<0||g<y,(g>-1||Je(f,"default"))&&a.push(d)}}}const c=[s,a];return ct(e)&&i.set(e,c),c}function hh(e){return e[0]!=="$"}function ph(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function mh(e,t){return ph(e)===ph(t)}function vh(e,t){return Fe(t)?t.findIndex(o=>mh(o,e)):ze(t)&&mh(t,e)?0:-1}const Eg=e=>e[0]==="_"||e==="$stable",Md=e=>Fe(e)?e.map(ko):[ko(e)],l_=(e,t,o)=>{if(t._n)return t;const i=ht((...r)=>Md(t(...r)),o);return i._c=!1,i},_g=(e,t,o)=>{const i=e._ctx;for(const r in e){if(Eg(r))continue;const n=e[r];if(ze(n))t[r]=l_(r,n,i);else if(n!=null){const s=Md(n);t[r]=()=>s}}},Sg=(e,t)=>{const o=Md(t);e.slots.default=()=>o},c_=(e,t)=>{if(e.vnode.shapeFlag&32){const o=t._;o?(e.slots=Xe(t),da(t,"_",o)):_g(t,e.slots={})}else e.slots={},t&&Sg(e,t);da(e.slots,Ua,1)},u_=(e,t,o)=>{const{vnode:i,slots:r}=e;let n=!0,s=ft;if(i.shapeFlag&32){const a=t._;a?o&&a===1?n=!1:(Ot(r,t),!o&&a===1&&delete r._):(n=!t.$stable,_g(t,r)),s=t}else t&&(Sg(e,t),s={default:1});if(n)for(const a in r)!Eg(a)&&!(a in s)&&delete r[a]};function Ag(){return{app:null,config:{isNativeTag:Lw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let d_=0;function f_(e,t){return function(i,r=null){ze(i)||(i=Object.assign({},i)),r!=null&&!ct(r)&&(r=null);const n=Ag(),s=new Set;let a=!1;const l=n.app={_uid:d_++,_component:i,_props:r,_container:null,_context:n,_instance:null,version:M_,get config(){return n.config},set config(c){},use(c,...u){return s.has(c)||(c&&ze(c.install)?(s.add(c),c.install(l,...u)):ze(c)&&(s.add(c),c(l,...u))),l},mixin(c){return n.mixins.includes(c)||n.mixins.push(c),l},component(c,u){return u?(n.components[c]=u,l):n.components[c]},directive(c,u){return u?(n.directives[c]=u,l):n.directives[c]},mount(c,u,d){if(!a){const p=Se(i,r);return p.appContext=n,u&&t?t(p,c):e(p,c,d),a=!0,l._container=c,c.__vue_app__=l,qa(p.component)||p.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return n.provides[c]=u,l}};return l}}function hu(e,t,o,i,r=!1){if(Fe(e)){e.forEach((p,f)=>hu(p,t&&(Fe(t)?t[f]:t),o,i,r));return}if(In(i)&&!r)return;const n=i.shapeFlag&4?qa(i.component)||i.component.proxy:i.el,s=r?null:n,{i:a,r:l}=e,c=t&&t.r,u=a.refs===ft?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==l&&(_t(c)?(u[c]=null,Je(d,c)&&(d[c]=null)):zt(c)&&(c.value=null)),ze(l))gr(l,a,12,[s,u]);else{const p=_t(l),f=zt(l);if(p||f){const g=()=>{if(e.f){const y=p?Je(d,l)?d[l]:u[l]:l.value;r?Fe(y)&&Ed(y,n):Fe(y)?y.includes(n)||y.push(n):p?(u[l]=[n],Je(d,l)&&(d[l]=u[l])):(l.value=[n],e.k&&(u[e.k]=l.value))}else p?(u[l]=s,Je(d,l)&&(d[l]=s)):f&&(l.value=s,e.k&&(u[e.k]=s))};s?(g.id=-1,Kt(g,o)):g()}}}const Kt=$E;function h_(e){return p_(e)}function p_(e,t){const o=Hw();o.__VUE__=!0;const{insert:i,remove:r,patchProp:n,createElement:s,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:p,setScopeId:f=_o,insertStaticContent:g}=e,y=(C,R,b,z=null,S=null,h=null,m=!1,E=null,O=!!R.dynamicChildren)=>{if(C===R)return;C&&!$r(C,R)&&(z=N(C),F(C,S,h,!0),C=null),R.patchFlag===-2&&(O=!1,R.dynamicChildren=null);const{type:L,ref:$,shapeFlag:oe}=R;switch(L){case $a:T(C,R,b,z);break;case lo:w(C,R,b,z);break;case Js:C==null&&_(R,b,z,m);break;case Me:B(C,R,b,z,S,h,m,E,O);break;default:oe&1?M(C,R,b,z,S,h,m,E,O):oe&6?Z(C,R,b,z,S,h,m,E,O):(oe&64||oe&128)&&L.process(C,R,b,z,S,h,m,E,O,G)}$!=null&&S&&hu($,C&&C.ref,h,R||C,!R)},T=(C,R,b,z)=>{if(C==null)i(R.el=a(R.children),b,z);else{const S=R.el=C.el;R.children!==C.children&&c(S,R.children)}},w=(C,R,b,z)=>{C==null?i(R.el=l(R.children||""),b,z):R.el=C.el},_=(C,R,b,z)=>{[C.el,C.anchor]=g(C.children,R,b,z,C.el,C.anchor)},x=({el:C,anchor:R},b,z)=>{let S;for(;C&&C!==R;)S=p(C),i(C,b,z),C=S;i(R,b,z)},D=({el:C,anchor:R})=>{let b;for(;C&&C!==R;)b=p(C),r(C),C=b;r(R)},M=(C,R,b,z,S,h,m,E,O)=>{m=m||R.type==="svg",C==null?J(R,b,z,S,h,m,E,O):P(C,R,S,h,m,E,O)},J=(C,R,b,z,S,h,m,E)=>{let O,L;const{type:$,props:oe,shapeFlag:ae,transition:se,dirs:Ee}=C;if(O=C.el=s(C.type,h,oe&&oe.is,oe),ae&8?u(O,C.children):ae&16&&W(C.children,O,null,z,S,h&&$!=="foreignObject",m,E),Ee&&xr(C,null,z,"created"),V(O,C,C.scopeId,m,z),oe){for(const Ie in oe)Ie!=="value"&&!Ws(Ie)&&n(O,Ie,null,oe[Ie],h,C.children,z,S,q);"value"in oe&&n(O,"value",null,oe.value),(L=oe.onVnodeBeforeMount)&&To(L,z,C)}Ee&&xr(C,null,z,"beforeMount");const xe=(!S||S&&!S.pendingBranch)&&se&&!se.persisted;xe&&se.beforeEnter(O),i(O,R,b),((L=oe&&oe.onVnodeMounted)||xe||Ee)&&Kt(()=>{L&&To(L,z,C),xe&&se.enter(O),Ee&&xr(C,null,z,"mounted")},S)},V=(C,R,b,z,S)=>{if(b&&f(C,b),z)for(let h=0;h<z.length;h++)f(C,z[h]);if(S){let h=S.subTree;if(R===h){const m=S.vnode;V(C,m,m.scopeId,m.slotScopeIds,S.parent)}}},W=(C,R,b,z,S,h,m,E,O=0)=>{for(let L=O;L<C.length;L++){const $=C[L]=E?ur(C[L]):ko(C[L]);y(null,$,R,b,z,S,h,m,E)}},P=(C,R,b,z,S,h,m)=>{const E=R.el=C.el;let{patchFlag:O,dynamicChildren:L,dirs:$}=R;O|=C.patchFlag&16;const oe=C.props||ft,ae=R.props||ft;let se;b&&Ir(b,!1),(se=ae.onVnodeBeforeUpdate)&&To(se,b,R,C),$&&xr(R,C,b,"beforeUpdate"),b&&Ir(b,!0);const Ee=S&&R.type!=="foreignObject";if(L?ie(C.dynamicChildren,L,E,b,z,Ee,h):m||pe(C,R,E,null,b,z,Ee,h,!1),O>0){if(O&16)fe(E,R,oe,ae,b,z,S);else if(O&2&&oe.class!==ae.class&&n(E,"class",null,ae.class,S),O&4&&n(E,"style",oe.style,ae.style,S),O&8){const xe=R.dynamicProps;for(let Ie=0;Ie<xe.length;Ie++){const We=xe[Ie],At=oe[We],Ft=ae[We];(Ft!==At||We==="value")&&n(E,We,At,Ft,S,C.children,b,z,q)}}O&1&&C.children!==R.children&&u(E,R.children)}else!m&&L==null&&fe(E,R,oe,ae,b,z,S);((se=ae.onVnodeUpdated)||$)&&Kt(()=>{se&&To(se,b,R,C),$&&xr(R,C,b,"updated")},z)},ie=(C,R,b,z,S,h,m)=>{for(let E=0;E<R.length;E++){const O=C[E],L=R[E],$=O.el&&(O.type===Me||!$r(O,L)||O.shapeFlag&70)?d(O.el):b;y(O,L,$,null,z,S,h,m,!0)}},fe=(C,R,b,z,S,h,m)=>{if(b!==z){if(b!==ft)for(const E in b)!Ws(E)&&!(E in z)&&n(C,E,b[E],null,m,R.children,S,h,q);for(const E in z){if(Ws(E))continue;const O=z[E],L=b[E];O!==L&&E!=="value"&&n(C,E,L,O,m,R.children,S,h,q)}"value"in z&&n(C,"value",b.value,z.value)}},B=(C,R,b,z,S,h,m,E,O)=>{const L=R.el=C?C.el:a(""),$=R.anchor=C?C.anchor:a("");let{patchFlag:oe,dynamicChildren:ae,slotScopeIds:se}=R;se&&(E=E?E.concat(se):se),C==null?(i(L,b,z),i($,b,z),W(R.children,b,$,S,h,m,E,O)):oe>0&&oe&64&&ae&&C.dynamicChildren?(ie(C.dynamicChildren,ae,b,S,h,m,E),(R.key!=null||S&&R===S.subTree)&&Fd(C,R,!0)):pe(C,R,b,$,S,h,m,E,O)},Z=(C,R,b,z,S,h,m,E,O)=>{R.slotScopeIds=E,C==null?R.shapeFlag&512?S.ctx.activate(R,b,z,m,O):I(R,b,z,S,h,m,O):ne(C,R,O)},I=(C,R,b,z,S,h,m)=>{const E=C.component=C_(C,z,S);if(Ba(C)&&(E.ctx.renderer=G),T_(E),E.asyncDep){if(S&&S.registerDep(E,me),!C.el){const O=E.subTree=Se(lo);w(null,O,R,b)}return}me(E,C,R,b,S,h,m)},ne=(C,R,b)=>{const z=R.component=C.component;if(FE(C,R,b))if(z.asyncDep&&!z.asyncResolved){X(z,R,b);return}else z.next=R,DE(z.update),z.update();else R.el=C.el,z.vnode=R},me=(C,R,b,z,S,h,m)=>{const E=()=>{if(C.isMounted){let{next:$,bu:oe,u:ae,parent:se,vnode:Ee}=C,xe=$,Ie;Ir(C,!1),$?($.el=Ee.el,X(C,$,m)):$=Ee,oe&&Qs(oe),(Ie=$.props&&$.props.onVnodeBeforeUpdate)&&To(Ie,se,$,Ee),Ir(C,!0);const We=Tl(C),At=C.subTree;C.subTree=We,y(At,We,d(At.el),N(At),C,S,h),$.el=We.el,xe===null&&BE(C,We.el),ae&&Kt(ae,S),(Ie=$.props&&$.props.onVnodeUpdated)&&Kt(()=>To(Ie,se,$,Ee),S)}else{let $;const{el:oe,props:ae}=R,{bm:se,m:Ee,parent:xe}=C,Ie=In(R);if(Ir(C,!1),se&&Qs(se),!Ie&&($=ae&&ae.onVnodeBeforeMount)&&To($,xe,R),Ir(C,!0),oe&&k){const We=()=>{C.subTree=Tl(C),k(oe,C.subTree,C,S,null)};Ie?R.type.__asyncLoader().then(()=>!C.isUnmounted&&We()):We()}else{const We=C.subTree=Tl(C);y(null,We,b,z,C,S,h),R.el=We.el}if(Ee&&Kt(Ee,S),!Ie&&($=ae&&ae.onVnodeMounted)){const We=R;Kt(()=>To($,xe,We),S)}(R.shapeFlag&256||xe&&In(xe.vnode)&&xe.vnode.shapeFlag&256)&&C.a&&Kt(C.a,S),C.isMounted=!0,R=b=z=null}},O=C.effect=new Ad(E,()=>Pd(L),C.scope),L=C.update=()=>O.run();L.id=C.uid,Ir(C,!0),L()},X=(C,R,b)=>{R.component=C;const z=C.vnode.props;C.vnode=R,C.next=null,a_(C,R.props,z,b),u_(C,R.children,b),Hi(),ah(),Wi()},pe=(C,R,b,z,S,h,m,E,O=!1)=>{const L=C&&C.children,$=C?C.shapeFlag:0,oe=R.children,{patchFlag:ae,shapeFlag:se}=R;if(ae>0){if(ae&128){be(L,oe,b,z,S,h,m,E,O);return}else if(ae&256){le(L,oe,b,z,S,h,m,E,O);return}}se&8?($&16&&q(L,S,h),oe!==L&&u(b,oe)):$&16?se&16?be(L,oe,b,z,S,h,m,E,O):q(L,S,h,!0):($&8&&u(b,""),se&16&&W(oe,b,z,S,h,m,E,O))},le=(C,R,b,z,S,h,m,E,O)=>{C=C||bi,R=R||bi;const L=C.length,$=R.length,oe=Math.min(L,$);let ae;for(ae=0;ae<oe;ae++){const se=R[ae]=O?ur(R[ae]):ko(R[ae]);y(C[ae],se,b,null,S,h,m,E,O)}L>$?q(C,S,h,!0,!1,oe):W(R,b,z,S,h,m,E,O,oe)},be=(C,R,b,z,S,h,m,E,O)=>{let L=0;const $=R.length;let oe=C.length-1,ae=$-1;for(;L<=oe&&L<=ae;){const se=C[L],Ee=R[L]=O?ur(R[L]):ko(R[L]);if($r(se,Ee))y(se,Ee,b,null,S,h,m,E,O);else break;L++}for(;L<=oe&&L<=ae;){const se=C[oe],Ee=R[ae]=O?ur(R[ae]):ko(R[ae]);if($r(se,Ee))y(se,Ee,b,null,S,h,m,E,O);else break;oe--,ae--}if(L>oe){if(L<=ae){const se=ae+1,Ee=se<$?R[se].el:z;for(;L<=ae;)y(null,R[L]=O?ur(R[L]):ko(R[L]),b,Ee,S,h,m,E,O),L++}}else if(L>ae)for(;L<=oe;)F(C[L],S,h,!0),L++;else{const se=L,Ee=L,xe=new Map;for(L=Ee;L<=ae;L++){const Bt=R[L]=O?ur(R[L]):ko(R[L]);Bt.key!=null&&xe.set(Bt.key,L)}let Ie,We=0;const At=ae-Ee+1;let Ft=!1,rr=0;const at=new Array(At);for(L=0;L<At;L++)at[L]=0;for(L=se;L<=oe;L++){const Bt=C[L];if(We>=At){F(Bt,S,h,!0);continue}let Nt;if(Bt.key!=null)Nt=xe.get(Bt.key);else for(Ie=Ee;Ie<=ae;Ie++)if(at[Ie-Ee]===0&&$r(Bt,R[Ie])){Nt=Ie;break}Nt===void 0?F(Bt,S,h,!0):(at[Nt-Ee]=L+1,Nt>=rr?rr=Nt:Ft=!0,y(Bt,R[Nt],b,null,S,h,m,E,O),We++)}const Tr=Ft?m_(at):bi;for(Ie=Tr.length-1,L=At-1;L>=0;L--){const Bt=Ee+L,Nt=R[Bt],an=Bt+1<$?R[Bt+1].el:z;at[L]===0?y(null,Nt,b,an,S,h,m,E,O):Ft&&(Ie<0||L!==Tr[Ie]?ee(Nt,b,an,2):Ie--)}}},ee=(C,R,b,z,S=null)=>{const{el:h,type:m,transition:E,children:O,shapeFlag:L}=C;if(L&6){ee(C.component.subTree,R,b,z);return}if(L&128){C.suspense.move(R,b,z);return}if(L&64){m.move(C,R,b,G);return}if(m===Me){i(h,R,b);for(let oe=0;oe<O.length;oe++)ee(O[oe],R,b,z);i(C.anchor,R,b);return}if(m===Js){x(C,R,b);return}if(z!==2&&L&1&&E)if(z===0)E.beforeEnter(h),i(h,R,b),Kt(()=>E.enter(h),S);else{const{leave:oe,delayLeave:ae,afterLeave:se}=E,Ee=()=>i(h,R,b),xe=()=>{oe(h,()=>{Ee(),se&&se()})};ae?ae(h,Ee,xe):xe()}else i(h,R,b)},F=(C,R,b,z=!1,S=!1)=>{const{type:h,props:m,ref:E,children:O,dynamicChildren:L,shapeFlag:$,patchFlag:oe,dirs:ae}=C;if(E!=null&&hu(E,null,b,C,!0),$&256){R.ctx.deactivate(C);return}const se=$&1&&ae,Ee=!In(C);let xe;if(Ee&&(xe=m&&m.onVnodeBeforeUnmount)&&To(xe,R,C),$&6)Q(C.component,b,z);else{if($&128){C.suspense.unmount(b,z);return}se&&xr(C,null,R,"beforeUnmount"),$&64?C.type.remove(C,R,b,S,G,z):L&&(h!==Me||oe>0&&oe&64)?q(L,R,b,!1,!0):(h===Me&&oe&384||!S&&$&16)&&q(O,R,b),z&&te(C)}(Ee&&(xe=m&&m.onVnodeUnmounted)||se)&&Kt(()=>{xe&&To(xe,R,C),se&&xr(C,null,R,"unmounted")},b)},te=C=>{const{type:R,el:b,anchor:z,transition:S}=C;if(R===Me){re(b,z);return}if(R===Js){D(C);return}const h=()=>{r(b),S&&!S.persisted&&S.afterLeave&&S.afterLeave()};if(C.shapeFlag&1&&S&&!S.persisted){const{leave:m,delayLeave:E}=S,O=()=>m(b,h);E?E(C.el,h,O):O()}else h()},re=(C,R)=>{let b;for(;C!==R;)b=p(C),r(C),C=b;r(R)},Q=(C,R,b)=>{const{bum:z,scope:S,update:h,subTree:m,um:E}=C;z&&Qs(z),S.stop(),h&&(h.active=!1,F(m,C,R,b)),E&&Kt(E,R),Kt(()=>{C.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},q=(C,R,b,z=!1,S=!1,h=0)=>{for(let m=h;m<C.length;m++)F(C[m],R,b,z,S)},N=C=>C.shapeFlag&6?N(C.component.subTree):C.shapeFlag&128?C.suspense.next():p(C.anchor||C.el),A=(C,R,b)=>{C==null?R._vnode&&F(R._vnode,null,null,!0):y(R._vnode||null,C,R,null,null,null,b),ah(),og(),R._vnode=C},G={p:y,um:F,m:ee,r:te,mt:I,mc:W,pc:pe,pbc:ie,n:N,o:e};let j,k;return t&&([j,k]=t(G)),{render:A,hydrate:j,createApp:f_(A,j)}}function Ir({effect:e,update:t},o){e.allowRecurse=t.allowRecurse=o}function Fd(e,t,o=!1){const i=e.children,r=t.children;if(Fe(i)&&Fe(r))for(let n=0;n<i.length;n++){const s=i[n];let a=r[n];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[n]=ur(r[n]),a.el=s.el),o||Fd(s,a)),a.type===$a&&(a.el=s.el)}}function m_(e){const t=e.slice(),o=[0];let i,r,n,s,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(r=o[o.length-1],e[r]<c){t[i]=r,o.push(i);continue}for(n=0,s=o.length-1;n<s;)a=n+s>>1,e[o[a]]<c?n=a+1:s=a;c<e[o[n]]&&(n>0&&(t[i]=o[n-1]),o[n]=i)}}for(n=o.length,s=o[n-1];n-- >0;)o[n]=s,s=t[s];return o}const v_=e=>e.__isTeleport,Pn=e=>e&&(e.disabled||e.disabled===""),gh=e=>typeof SVGElement<"u"&&e instanceof SVGElement,pu=(e,t)=>{const o=e&&e.to;return _t(o)?t?t(o):null:o},g_={__isTeleport:!0,process(e,t,o,i,r,n,s,a,l,c){const{mc:u,pc:d,pbc:p,o:{insert:f,querySelector:g,createText:y,createComment:T}}=c,w=Pn(t.props);let{shapeFlag:_,children:x,dynamicChildren:D}=t;if(e==null){const M=t.el=y(""),J=t.anchor=y("");f(M,o,i),f(J,o,i);const V=t.target=pu(t.props,g),W=t.targetAnchor=y("");V&&(f(W,V),s=s||gh(V));const P=(ie,fe)=>{_&16&&u(x,ie,fe,r,n,s,a,l)};w?P(o,J):V&&P(V,W)}else{t.el=e.el;const M=t.anchor=e.anchor,J=t.target=e.target,V=t.targetAnchor=e.targetAnchor,W=Pn(e.props),P=W?o:J,ie=W?M:V;if(s=s||gh(J),D?(p(e.dynamicChildren,D,P,r,n,s,a),Fd(e,t,!0)):l||d(e,t,P,ie,r,n,s,a,!1),w)W||Ps(t,o,M,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const fe=t.target=pu(t.props,g);fe&&Ps(t,fe,null,c,0)}else W&&Ps(t,J,V,c,1)}Cg(t)},remove(e,t,o,i,{um:r,o:{remove:n}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:d,props:p}=e;if(d&&n(u),(s||!Pn(p))&&(n(c),a&16))for(let f=0;f<l.length;f++){const g=l[f];r(g,t,o,!0,!!g.dynamicChildren)}},move:Ps,hydrate:y_};function Ps(e,t,o,{o:{insert:i},m:r},n=2){n===0&&i(e.targetAnchor,t,o);const{el:s,anchor:a,shapeFlag:l,children:c,props:u}=e,d=n===2;if(d&&i(s,t,o),(!d||Pn(u))&&l&16)for(let p=0;p<c.length;p++)r(c[p],t,o,2);d&&i(a,t,o)}function y_(e,t,o,i,r,n,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const u=t.target=pu(t.props,l);if(u){const d=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Pn(t.props))t.anchor=c(s(e),t,a(e),o,i,r,n),t.targetAnchor=d;else{t.anchor=s(e);let p=d;for(;p;)if(p=s(p),p&&p.nodeType===8&&p.data==="teleport anchor"){t.targetAnchor=p,u._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(d,t,u,o,i,r,n)}Cg(t)}return t.anchor&&s(t.anchor)}const Ng=g_;function Cg(e){const t=e.ctx;if(t&&t.ut){let o=e.children[0].el;for(;o!==e.targetAnchor;)o.nodeType===1&&o.setAttribute("data-v-owner",t.uid),o=o.nextSibling;t.ut()}}const Me=Symbol(void 0),$a=Symbol(void 0),lo=Symbol(void 0),Js=Symbol(void 0),kn=[];let wo=null;function H(e=!1){kn.push(wo=e?null:[])}function b_(){kn.pop(),wo=kn[kn.length-1]||null}let Wn=1;function yh(e){Wn+=e}function Tg(e){return e.dynamicChildren=Wn>0?wo||bi:null,b_(),Wn>0&&wo&&wo.push(e),e}function Y(e,t,o,i,r,n){return Tg(v(e,t,o,i,r,n,!0))}function qe(e,t,o,i,r){return Tg(Se(e,t,o,i,r,!0))}function va(e){return e?e.__v_isVNode===!0:!1}function $r(e,t){return e.type===t.type&&e.key===t.key}const Ua="__vInternal",xg=({key:e})=>e??null,Ys=({ref:e,ref_key:t,ref_for:o})=>e!=null?_t(e)||zt(e)||ze(e)?{i:Ut,r:e,k:t,f:!!o}:e:null;function v(e,t=null,o=null,i=0,r=null,n=e===Me?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&xg(t),ref:t&&Ys(t),scopeId:Fa,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ut};return a?(Bd(l,o),n&128&&e.normalize(l)):o&&(l.shapeFlag|=_t(o)?8:16),Wn>0&&!s&&wo&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&wo.push(l),l}const Se=w_;function w_(e,t=null,o=null,i=0,r=null,n=!1){if((!e||e===YE)&&(e=lo),va(e)){const a=br(e,t,!0);return o&&Bd(a,o),Wn>0&&!n&&wo&&(a.shapeFlag&6?wo[wo.indexOf(e)]=a:wo.push(a)),a.patchFlag|=-2,a}if(k_(e)&&(e=e.__vccOpts),t){t=E_(t);let{class:a,style:l}=t;a&&!_t(a)&&(t.class=de(a)),ct(l)&&(Wv(l)&&!Fe(l)&&(l=Ot({},l)),t.style=Re(l))}const s=_t(e)?1:LE(e)?128:v_(e)?64:ct(e)?4:ze(e)?2:0;return v(e,t,o,i,r,s,n,!0)}function E_(e){return e?Wv(e)||Ua in e?Ot({},e):e:null}function br(e,t,o=!1){const{props:i,ref:r,patchFlag:n,children:s}=e,a=t?S_(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&xg(a),ref:t&&t.ref?o&&r?Fe(r)?r.concat(Ys(t)):[r,Ys(t)]:Ys(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Me?n===-1?16:n|16:n,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&br(e.ssContent),ssFallback:e.ssFallback&&br(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function $e(e=" ",t=0){return Se($a,null,e,t)}function __(e,t){const o=Se(Js,null,e);return o.staticCount=t,o}function he(e="",t=!1){return t?(H(),qe(lo,null,e)):Se(lo,null,e)}function ko(e){return e==null||typeof e=="boolean"?Se(lo):Fe(e)?Se(Me,null,e.slice()):typeof e=="object"?ur(e):Se($a,null,String(e))}function ur(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:br(e)}function Bd(e,t){let o=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(Fe(t))o=16;else if(typeof t=="object")if(i&65){const r=t.default;r&&(r._c&&(r._d=!1),Bd(e,r()),r._c&&(r._d=!0));return}else{o=32;const r=t._;!r&&!(Ua in t)?t._ctx=Ut:r===3&&Ut&&(Ut.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ze(t)?(t={default:t,_ctx:Ut},o=32):(t=String(t),i&64?(o=16,t=[$e(t)]):o=8);e.children=t,e.shapeFlag|=o}function S_(...e){const t={};for(let o=0;o<e.length;o++){const i=e[o];for(const r in i)if(r==="class")t.class!==i.class&&(t.class=de([t.class,i.class]));else if(r==="style")t.style=Re([t.style,i.style]);else if(Da(r)){const n=t[r],s=i[r];s&&n!==s&&!(Fe(n)&&n.includes(s))&&(t[r]=n?[].concat(n,s):s)}else r!==""&&(t[r]=i[r])}return t}function To(e,t,o,i=null){ao(e,t,7,[o,i])}const A_=Ag();let N_=0;function C_(e,t,o){const i=e.type,r=(t?t.appContext:e.appContext)||A_,n={uid:N_++,vnode:e,type:i,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ww(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:wg(i,r),emitsOptions:ig(i,r),emit:null,emitted:null,propsDefaults:ft,inheritAttrs:i.inheritAttrs,ctx:ft,data:ft,props:ft,attrs:ft,slots:ft,refs:ft,setupState:ft,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=t?t.root:n,n.emit=OE.bind(null,n),e.ce&&e.ce(n),n}let Et=null;const Ig=()=>Et||Ut,ki=e=>{Et=e,e.scope.on()},Gr=()=>{Et&&Et.scope.off(),Et=null};function Dg(e){return e.vnode.shapeFlag&4}let Qn=!1;function T_(e,t=!1){Qn=t;const{props:o,children:i}=e.vnode,r=Dg(e);s_(e,o,r,t),c_(e,i);const n=r?x_(e,t):void 0;return Qn=!1,n}function x_(e,t){const o=e.type;e.accessCache=Object.create(null),e.proxy=Qv(new Proxy(e.ctx,e_));const{setup:i}=o;if(i){const r=e.setupContext=i.length>1?D_(e):null;ki(e),Hi();const n=gr(i,e,0,[e.props,r]);if(Wi(),Gr(),kv(n)){if(n.then(Gr,Gr),t)return n.then(s=>{bh(e,s,t)}).catch(s=>{Ra(s,e,0)});e.asyncDep=n}else bh(e,n,t)}else Pg(e,t)}function bh(e,t,o){ze(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ct(t)&&(e.setupState=Yv(t)),Pg(e,o)}let wh;function Pg(e,t,o){const i=e.type;if(!e.render){if(!t&&wh&&!i.render){const r=i.template||Rd(e).template;if(r){const{isCustomElement:n,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=Ot(Ot({isCustomElement:n,delimiters:a},s),l);i.render=wh(r,c)}}e.render=i.render||_o}ki(e),Hi(),t_(e),Wi(),Gr()}function I_(e){return new Proxy(e.attrs,{get(t,o){return Yt(e,"get","$attrs"),t[o]}})}function D_(e){const t=i=>{e.exposed=i||{}};let o;return{get attrs(){return o||(o=I_(e))},slots:e.slots,emit:e.emit,expose:t}}function qa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Yv(Qv(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in Dn)return Dn[o](e)},has(t,o){return o in t||o in Dn}}))}function P_(e,t=!0){return ze(e)?e.displayName||e.name:e.name||t&&e.__name}function k_(e){return ze(e)&&"__vccOpts"in e}const so=(e,t)=>TE(e,t,Qn);function Ld(e,t,o){const i=arguments.length;return i===2?ct(t)&&!Fe(t)?va(t)?Se(e,null,[t]):Se(e,t):Se(e,null,t):(i>3?o=Array.prototype.slice.call(arguments,2):i===3&&va(o)&&(o=[o]),Se(e,t,o))}const O_=Symbol(""),R_=()=>Qo(O_),M_="3.2.47",F_="http://www.w3.org/2000/svg",Ur=typeof document<"u"?document:null,Eh=Ur&&Ur.createElement("template"),B_={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,i)=>{const r=t?Ur.createElementNS(F_,e):Ur.createElement(e,o?{is:o}:void 0);return e==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:e=>Ur.createTextNode(e),createComment:e=>Ur.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ur.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,i,r,n){const s=o?o.previousSibling:t.lastChild;if(r&&(r===n||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),o),!(r===n||!(r=r.nextSibling)););else{Eh.innerHTML=i?`<svg>${e}</svg>`:e;const a=Eh.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,o)}return[s?s.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}};function L_(e,t,o){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}function $_(e,t,o){const i=e.style,r=_t(o);if(o&&!r){if(t&&!_t(t))for(const n in t)o[n]==null&&mu(i,n,"");for(const n in o)mu(i,n,o[n])}else{const n=i.display;r?t!==o&&(i.cssText=o):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=n)}}const _h=/\s*!important$/;function mu(e,t,o){if(Fe(o))o.forEach(i=>mu(e,t,i));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{const i=U_(e,t);_h.test(o)?e.setProperty(oi(i),o.replace(_h,""),"important"):e[i]=o}}const Sh=["Webkit","Moz","ms"],Dl={};function U_(e,t){const o=Dl[t];if(o)return o;let i=Bo(t);if(i!=="filter"&&i in e)return Dl[t]=i;i=ka(i);for(let r=0;r<Sh.length;r++){const n=Sh[r]+i;if(n in e)return Dl[t]=n}return t}const Ah="http://www.w3.org/1999/xlink";function q_(e,t,o,i,r){if(i&&t.startsWith("xlink:"))o==null?e.removeAttributeNS(Ah,t.slice(6,t.length)):e.setAttributeNS(Ah,t,o);else{const n=Fw(t);o==null||n&&!Dv(o)?e.removeAttribute(t):e.setAttribute(t,n?"":o)}}function j_(e,t,o,i,r,n,s){if(t==="innerHTML"||t==="textContent"){i&&s(i,r,n),e[t]=o??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=o;const l=o??"";(e.value!==l||e.tagName==="OPTION")&&(e.value=l),o==null&&e.removeAttribute(t);return}let a=!1;if(o===""||o==null){const l=typeof e[t];l==="boolean"?o=Dv(o):o==null&&l==="string"?(o="",a=!0):l==="number"&&(o=0,a=!0)}try{e[t]=o}catch{}a&&e.removeAttribute(t)}function jo(e,t,o,i){e.addEventListener(t,o,i)}function z_(e,t,o,i){e.removeEventListener(t,o,i)}function V_(e,t,o,i,r=null){const n=e._vei||(e._vei={}),s=n[t];if(i&&s)s.value=i;else{const[a,l]=H_(t);if(i){const c=n[t]=G_(i,r);jo(e,a,c,l)}else s&&(z_(e,a,s,l),n[t]=void 0)}}const Nh=/(?:Once|Passive|Capture)$/;function H_(e){let t;if(Nh.test(e)){t={};let i;for(;i=e.match(Nh);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):oi(e.slice(2)),t]}let Pl=0;const W_=Promise.resolve(),Q_=()=>Pl||(W_.then(()=>Pl=0),Pl=Date.now());function G_(e,t){const o=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=o.attached)return;ao(K_(i,o.value),t,5,[i])};return o.value=e,o.attached=Q_(),o}function K_(e,t){if(Fe(t)){const o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(i=>r=>!r._stopped&&i&&i(r))}else return t}const Ch=/^on[a-z]/,J_=(e,t,o,i,r=!1,n,s,a,l)=>{t==="class"?L_(e,i,r):t==="style"?$_(e,o,i):Da(t)?wd(t)||V_(e,t,o,i,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Y_(e,t,i,r))?j_(e,t,i,n,s,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),q_(e,t,i,r))};function Y_(e,t,o,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&Ch.test(t)&&ze(o)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||Ch.test(t)&&_t(o)?!1:t in e}const nr="transition",cn="animation",Qi=(e,{slots:t})=>Ld(lg,Og(e),t);Qi.displayName="Transition";const kg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},X_=Qi.props=Ot({},lg.props,kg),Dr=(e,t=[])=>{Fe(e)?e.forEach(o=>o(...t)):e&&e(...t)},Th=e=>e?Fe(e)?e.some(t=>t.length>1):e.length>1:!1;function Og(e){const t={};for(const B in e)B in kg||(t[B]=e[B]);if(e.css===!1)return t;const{name:o="v",type:i,duration:r,enterFromClass:n=`${o}-enter-from`,enterActiveClass:s=`${o}-enter-active`,enterToClass:a=`${o}-enter-to`,appearFromClass:l=n,appearActiveClass:c=s,appearToClass:u=a,leaveFromClass:d=`${o}-leave-from`,leaveActiveClass:p=`${o}-leave-active`,leaveToClass:f=`${o}-leave-to`}=e,g=Z_(r),y=g&&g[0],T=g&&g[1],{onBeforeEnter:w,onEnter:_,onEnterCancelled:x,onLeave:D,onLeaveCancelled:M,onBeforeAppear:J=w,onAppear:V=_,onAppearCancelled:W=x}=t,P=(B,Z,I)=>{lr(B,Z?u:a),lr(B,Z?c:s),I&&I()},ie=(B,Z)=>{B._isLeaving=!1,lr(B,d),lr(B,f),lr(B,p),Z&&Z()},fe=B=>(Z,I)=>{const ne=B?V:_,me=()=>P(Z,B,I);Dr(ne,[Z,me]),xh(()=>{lr(Z,B?l:n),Uo(Z,B?u:a),Th(ne)||Ih(Z,i,y,me)})};return Ot(t,{onBeforeEnter(B){Dr(w,[B]),Uo(B,n),Uo(B,s)},onBeforeAppear(B){Dr(J,[B]),Uo(B,l),Uo(B,c)},onEnter:fe(!1),onAppear:fe(!0),onLeave(B,Z){B._isLeaving=!0;const I=()=>ie(B,Z);Uo(B,d),Mg(),Uo(B,p),xh(()=>{B._isLeaving&&(lr(B,d),Uo(B,f),Th(D)||Ih(B,i,T,I))}),Dr(D,[B,I])},onEnterCancelled(B){P(B,!1),Dr(x,[B])},onAppearCancelled(B){P(B,!0),Dr(W,[B])},onLeaveCancelled(B){ie(B),Dr(M,[B])}})}function Z_(e){if(e==null)return null;if(ct(e))return[kl(e.enter),kl(e.leave)];{const t=kl(e);return[t,t]}}function kl(e){return Vw(e)}function Uo(e,t){t.split(/\s+/).forEach(o=>o&&e.classList.add(o)),(e._vtc||(e._vtc=new Set)).add(t)}function lr(e,t){t.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:o}=e;o&&(o.delete(t),o.size||(e._vtc=void 0))}function xh(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let e1=0;function Ih(e,t,o,i){const r=e._endId=++e1,n=()=>{r===e._endId&&i()};if(o)return setTimeout(n,o);const{type:s,timeout:a,propCount:l}=Rg(e,t);if(!s)return i();const c=s+"end";let u=0;const d=()=>{e.removeEventListener(c,p),n()},p=f=>{f.target===e&&++u>=l&&d()};setTimeout(()=>{u<l&&d()},a+1),e.addEventListener(c,p)}function Rg(e,t){const o=window.getComputedStyle(e),i=g=>(o[g]||"").split(", "),r=i(`${nr}Delay`),n=i(`${nr}Duration`),s=Dh(r,n),a=i(`${cn}Delay`),l=i(`${cn}Duration`),c=Dh(a,l);let u=null,d=0,p=0;t===nr?s>0&&(u=nr,d=s,p=n.length):t===cn?c>0&&(u=cn,d=c,p=l.length):(d=Math.max(s,c),u=d>0?s>c?nr:cn:null,p=u?u===nr?n.length:l.length:0);const f=u===nr&&/\b(transform|all)(,|$)/.test(i(`${nr}Property`).toString());return{type:u,timeout:d,propCount:p,hasTransform:f}}function Dh(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((o,i)=>Ph(o)+Ph(e[i])))}function Ph(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Mg(){return document.body.offsetHeight}const Fg=new WeakMap,Bg=new WeakMap,Lg={name:"TransitionGroup",props:Ot({},X_,{tag:String,moveClass:String}),setup(e,{slots:t}){const o=Ig(),i=ag();let r,n;return hg(()=>{if(!r.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!n1(r[0].el,o.vnode.el,s))return;r.forEach(o1),r.forEach(r1);const a=r.filter(i1);Mg(),a.forEach(l=>{const c=l.el,u=c.style;Uo(c,s),u.transform=u.webkitTransform=u.transitionDuration="";const d=c._moveCb=p=>{p&&p.target!==c||(!p||/transform$/.test(p.propertyName))&&(c.removeEventListener("transitionend",d),c._moveCb=null,lr(c,s))};c.addEventListener("transitionend",d)})}),()=>{const s=Xe(e),a=Og(s);let l=s.tag||Me;r=n,n=t.default?kd(t.default()):[];for(let c=0;c<n.length;c++){const u=n[c];u.key!=null&&Hn(u,Vn(u,a,i,o))}if(r)for(let c=0;c<r.length;c++){const u=r[c];Hn(u,Vn(u,a,i,o)),Fg.set(u,u.el.getBoundingClientRect())}return Se(l,null,n)}}},t1=e=>delete e.mode;Lg.props;const $g=Lg;function o1(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function r1(e){Bg.set(e,e.el.getBoundingClientRect())}function i1(e){const t=Fg.get(e),o=Bg.get(e),i=t.left-o.left,r=t.top-o.top;if(i||r){const n=e.el.style;return n.transform=n.webkitTransform=`translate(${i}px,${r}px)`,n.transitionDuration="0s",e}}function n1(e,t,o){const i=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&i.classList.remove(a))}),o.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(i);const{hasTransform:n}=Rg(i);return r.removeChild(i),n}const wr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Fe(t)?o=>Qs(t,o):t};function s1(e){e.target.composing=!0}function kh(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const je={created(e,{modifiers:{lazy:t,trim:o,number:i}},r){e._assign=wr(r);const n=i||r.props&&r.props.type==="number";jo(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;o&&(a=a.trim()),n&&(a=fa(a)),e._assign(a)}),o&&jo(e,"change",()=>{e.value=e.value.trim()}),t||(jo(e,"compositionstart",s1),jo(e,"compositionend",kh),jo(e,"change",kh))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:o,trim:i,number:r}},n){if(e._assign=wr(n),e.composing||document.activeElement===e&&e.type!=="range"&&(o||i&&e.value.trim()===t||(r||e.type==="number")&&fa(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},dr={deep:!0,created(e,t,o){e._assign=wr(o),jo(e,"change",()=>{const i=e._modelValue,r=Oi(e),n=e.checked,s=e._assign;if(Fe(i)){const a=bd(i,r),l=a!==-1;if(n&&!l)s(i.concat(r));else if(!n&&l){const c=[...i];c.splice(a,1),s(c)}}else if(Vi(i)){const a=new Set(i);n?a.add(r):a.delete(r),s(a)}else s(Ug(e,n))})},mounted:Oh,beforeUpdate(e,t,o){e._assign=wr(o),Oh(e,t,o)}};function Oh(e,{value:t,oldValue:o},i){e._modelValue=t,Fe(t)?e.checked=bd(t,i.props.value)>-1:Vi(t)?e.checked=t.has(i.props.value):t!==o&&(e.checked=Yr(t,Ug(e,!0)))}const zr={created(e,{value:t},o){e.checked=Yr(t,o.props.value),e._assign=wr(o),jo(e,"change",()=>{e._assign(Oi(e))})},beforeUpdate(e,{value:t,oldValue:o},i){e._assign=wr(i),t!==o&&(e.checked=Yr(t,i.props.value))}},is={deep:!0,created(e,{value:t,modifiers:{number:o}},i){const r=Vi(t);jo(e,"change",()=>{const n=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>o?fa(Oi(s)):Oi(s));e._assign(e.multiple?r?new Set(n):n:n[0])}),e._assign=wr(i)},mounted(e,{value:t}){Rh(e,t)},beforeUpdate(e,t,o){e._assign=wr(o)},updated(e,{value:t}){Rh(e,t)}};function Rh(e,t){const o=e.multiple;if(!(o&&!Fe(t)&&!Vi(t))){for(let i=0,r=e.options.length;i<r;i++){const n=e.options[i],s=Oi(n);if(o)Fe(t)?n.selected=bd(t,s)>-1:n.selected=t.has(s);else if(Yr(Oi(n),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!o&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Oi(e){return"_value"in e?e._value:e.value}function Ug(e,t){const o=t?"_trueValue":"_falseValue";return o in e?e[o]:t}const a1={created(e,t,o){ks(e,t,o,null,"created")},mounted(e,t,o){ks(e,t,o,null,"mounted")},beforeUpdate(e,t,o,i){ks(e,t,o,i,"beforeUpdate")},updated(e,t,o,i){ks(e,t,o,i,"updated")}};function l1(e,t){switch(e){case"SELECT":return is;case"TEXTAREA":return je;default:switch(t){case"checkbox":return dr;case"radio":return zr;default:return je}}}function ks(e,t,o,i,r){const s=l1(e.tagName,o.props&&o.props.type)[r];s&&s(e,t,o,i)}const c1=["ctrl","shift","alt","meta"],u1={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>c1.some(o=>e[`${o}Key`]&&!t.includes(o))},Ae=(e,t)=>(o,...i)=>{for(let r=0;r<t.length;r++){const n=u1[t[r]];if(n&&n(o,t))return}return e(o,...i)},d1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},pt=(e,t)=>o=>{if(!("key"in o))return;const i=oi(o.key);if(t.some(r=>r===i||d1[r]===i))return e(o)},K={beforeMount(e,{value:t},{transition:o}){e._vod=e.style.display==="none"?"":e.style.display,o&&t?o.beforeEnter(e):un(e,t)},mounted(e,{value:t},{transition:o}){o&&t&&o.enter(e)},updated(e,{value:t,oldValue:o},{transition:i}){!t!=!o&&(i?t?(i.beforeEnter(e),un(e,!0),i.enter(e)):i.leave(e,()=>{un(e,!1)}):un(e,t))},beforeUnmount(e,{value:t}){un(e,t)}};function un(e,t){e.style.display=t?e._vod:"none"}const f1=Ot({patchProp:J_},B_);let Mh;function h1(){return Mh||(Mh=h_(f1))}const p1=(...e)=>{const t=h1().createApp(...e),{mount:o}=t;return t.mount=i=>{const r=m1(i);if(!r)return;const n=t._component;!ze(n)&&!n.render&&!n.template&&(n.template=r.innerHTML),r.innerHTML="";const s=o(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},t};function m1(e){return _t(e)?document.querySelector(e):e}var vu=function(e,t){return vu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(o[r]=i[r])},vu(e,t)};function oo(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");vu(e,t);function o(){this.constructor=e}e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}var ce=function(){return ce=Object.assign||function(t){for(var o,i=1,r=arguments.length;i<r;i++){o=arguments[i];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t},ce.apply(this,arguments)};function Xr(e,t){var o={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(o[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(o[i[r]]=e[i[r]]);return o}function fr(e,t,o,i){function r(n){return n instanceof o?n:new o(function(s){s(n)})}return new(o||(o=Promise))(function(n,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?n(u.value):r(u.value).then(a,l)}c((i=i.apply(e,t||[])).next())})}function hr(e,t){var o={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,r,n,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(o=0)),o;)try{if(i=1,r&&(n=c[0]&2?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[c[0]&2,n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(c[0]===6&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(u){c=[6,u],r=0}finally{i=n=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ga(e,t,o){if(o||arguments.length===2)for(var i=0,r=t.length,n;i<r;i++)(n||!(i in t))&&(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}function Xs(e,t){if(!!!e)throw new Error(t)}function v1(e){return typeof e=="object"&&e!==null}function g1(e,t){if(!!!e)throw new Error(t??"Unexpected invariant triggered.")}const y1=/\r\n|[\n\r]/g;function gu(e,t){let o=0,i=1;for(const r of e.body.matchAll(y1)){if(typeof r.index=="number"||g1(!1),r.index>=t)break;o=r.index+r[0].length,i+=1}return{line:i,column:t+1-o}}function b1(e){return qg(e.source,gu(e.source,e.start))}function qg(e,t){const o=e.locationOffset.column-1,i="".padStart(o)+e.body,r=t.line-1,n=e.locationOffset.line-1,s=t.line+n,a=t.line===1?o:0,l=t.column+a,c=`${e.name}:${s}:${l}
`,u=i.split(/\r\n|[\n\r]/g),d=u[r];if(d.length>120){const p=Math.floor(l/80),f=l%80,g=[];for(let y=0;y<d.length;y+=80)g.push(d.slice(y,y+80));return c+Fh([[`${s} |`,g[0]],...g.slice(1,p+1).map(y=>["|",y]),["|","^".padStart(f)],["|",g[p+1]]])}return c+Fh([[`${s-1} |`,u[r-1]],[`${s} |`,d],["|","^".padStart(l)],[`${s+1} |`,u[r+1]]])}function Fh(e){const t=e.filter(([i,r])=>r!==void 0),o=Math.max(...t.map(([i])=>i.length));return t.map(([i,r])=>i.padStart(o)+(r?" "+r:"")).join(`
`)}function w1(e){const t=e[0];return t==null||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}class $d extends Error{constructor(t,...o){var i,r,n;const{nodes:s,source:a,positions:l,path:c,originalError:u,extensions:d}=w1(o);super(t),this.name="GraphQLError",this.path=c??void 0,this.originalError=u??void 0,this.nodes=Bh(Array.isArray(s)?s:s?[s]:void 0);const p=Bh((i=this.nodes)===null||i===void 0?void 0:i.map(g=>g.loc).filter(g=>g!=null));this.source=a??(p==null||(r=p[0])===null||r===void 0?void 0:r.source),this.positions=l??(p==null?void 0:p.map(g=>g.start)),this.locations=l&&a?l.map(g=>gu(a,g)):p==null?void 0:p.map(g=>gu(g.source,g.start));const f=v1(u==null?void 0:u.extensions)?u==null?void 0:u.extensions:void 0;this.extensions=(n=d??f)!==null&&n!==void 0?n:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),u!=null&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,$d):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let t=this.message;if(this.nodes)for(const o of this.nodes)o.loc&&(t+=`

`+b1(o.loc));else if(this.source&&this.locations)for(const o of this.locations)t+=`

`+qg(this.source,o);return t}toJSON(){const t={message:this.message};return this.locations!=null&&(t.locations=this.locations),this.path!=null&&(t.path=this.path),this.extensions!=null&&Object.keys(this.extensions).length>0&&(t.extensions=this.extensions),t}}function Bh(e){return e===void 0||e.length===0?void 0:e}function kt(e,t,o){return new $d(`Syntax Error: ${o}`,{source:e,positions:[t]})}class E1{constructor(t,o,i){this.start=t.start,this.end=o.end,this.startToken=t,this.endToken=o,this.source=i}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class jg{constructor(t,o,i,r,n,s){this.kind=t,this.start=o,this.end=i,this.line=r,this.column=n,this.value=s,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const zg={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},_1=new Set(Object.keys(zg));function Lh(e){const t=e==null?void 0:e.kind;return typeof t=="string"&&_1.has(t)}var vi;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(vi||(vi={}));var yu;(function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"})(yu||(yu={}));var ke;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(ke||(ke={}));function bu(e){return e===9||e===32}function Gn(e){return e>=48&&e<=57}function Vg(e){return e>=97&&e<=122||e>=65&&e<=90}function Hg(e){return Vg(e)||e===95}function S1(e){return Vg(e)||Gn(e)||e===95}function A1(e){var t;let o=Number.MAX_SAFE_INTEGER,i=null,r=-1;for(let s=0;s<e.length;++s){var n;const a=e[s],l=N1(a);l!==a.length&&(i=(n=i)!==null&&n!==void 0?n:s,r=s,s!==0&&l<o&&(o=l))}return e.map((s,a)=>a===0?s:s.slice(o)).slice((t=i)!==null&&t!==void 0?t:0,r+1)}function N1(e){let t=0;for(;t<e.length&&bu(e.charCodeAt(t));)++t;return t}function C1(e,t){const o=e.replace(/"""/g,'\\"""'),i=o.split(/\r\n|[\n\r]/g),r=i.length===1,n=i.length>1&&i.slice(1).every(f=>f.length===0||bu(f.charCodeAt(0))),s=o.endsWith('\\"""'),a=e.endsWith('"')&&!s,l=e.endsWith("\\"),c=a||l,u=!(t!=null&&t.minimize)&&(!r||e.length>70||c||n||s);let d="";const p=r&&bu(e.charCodeAt(0));return(u&&!p||n)&&(d+=`
`),d+=o,(u||c)&&(d+=`
`),'"""'+d+'"""'}var _e;(function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"})(_e||(_e={}));class T1{constructor(t){const o=new jg(_e.SOF,0,0,0,0);this.source=t,this.lastToken=o,this.token=o,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){return this.lastToken=this.token,this.token=this.lookahead()}lookahead(){let t=this.token;if(t.kind!==_e.EOF)do if(t.next)t=t.next;else{const o=I1(this,t.end);t.next=o,o.prev=t,t=o}while(t.kind===_e.COMMENT);return t}}function x1(e){return e===_e.BANG||e===_e.DOLLAR||e===_e.AMP||e===_e.PAREN_L||e===_e.PAREN_R||e===_e.SPREAD||e===_e.COLON||e===_e.EQUALS||e===_e.AT||e===_e.BRACKET_L||e===_e.BRACKET_R||e===_e.BRACE_L||e===_e.PIPE||e===_e.BRACE_R}function Gi(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function ja(e,t){return Wg(e.charCodeAt(t))&&Qg(e.charCodeAt(t+1))}function Wg(e){return e>=55296&&e<=56319}function Qg(e){return e>=56320&&e<=57343}function Zr(e,t){const o=e.source.body.codePointAt(t);if(o===void 0)return _e.EOF;if(o>=32&&o<=126){const i=String.fromCodePoint(o);return i==='"'?`'"'`:`"${i}"`}return"U+"+o.toString(16).toUpperCase().padStart(4,"0")}function Ct(e,t,o,i,r){const n=e.line,s=1+o-e.lineStart;return new jg(t,o,i,n,s,r)}function I1(e,t){const o=e.source.body,i=o.length;let r=t;for(;r<i;){const n=o.charCodeAt(r);switch(n){case 65279:case 9:case 32:case 44:++r;continue;case 10:++r,++e.line,e.lineStart=r;continue;case 13:o.charCodeAt(r+1)===10?r+=2:++r,++e.line,e.lineStart=r;continue;case 35:return D1(e,r);case 33:return Ct(e,_e.BANG,r,r+1);case 36:return Ct(e,_e.DOLLAR,r,r+1);case 38:return Ct(e,_e.AMP,r,r+1);case 40:return Ct(e,_e.PAREN_L,r,r+1);case 41:return Ct(e,_e.PAREN_R,r,r+1);case 46:if(o.charCodeAt(r+1)===46&&o.charCodeAt(r+2)===46)return Ct(e,_e.SPREAD,r,r+3);break;case 58:return Ct(e,_e.COLON,r,r+1);case 61:return Ct(e,_e.EQUALS,r,r+1);case 64:return Ct(e,_e.AT,r,r+1);case 91:return Ct(e,_e.BRACKET_L,r,r+1);case 93:return Ct(e,_e.BRACKET_R,r,r+1);case 123:return Ct(e,_e.BRACE_L,r,r+1);case 124:return Ct(e,_e.PIPE,r,r+1);case 125:return Ct(e,_e.BRACE_R,r,r+1);case 34:return o.charCodeAt(r+1)===34&&o.charCodeAt(r+2)===34?F1(e,r):k1(e,r)}if(Gn(n)||n===45)return P1(e,r,n);if(Hg(n))return B1(e,r);throw kt(e.source,r,n===39?`Unexpected single quote character ('), did you mean to use a double quote (")?`:Gi(n)||ja(o,r)?`Unexpected character: ${Zr(e,r)}.`:`Invalid character: ${Zr(e,r)}.`)}return Ct(e,_e.EOF,i,i)}function D1(e,t){const o=e.source.body,i=o.length;let r=t+1;for(;r<i;){const n=o.charCodeAt(r);if(n===10||n===13)break;if(Gi(n))++r;else if(ja(o,r))r+=2;else break}return Ct(e,_e.COMMENT,t,r,o.slice(t+1,r))}function P1(e,t,o){const i=e.source.body;let r=t,n=o,s=!1;if(n===45&&(n=i.charCodeAt(++r)),n===48){if(n=i.charCodeAt(++r),Gn(n))throw kt(e.source,r,`Invalid number, unexpected digit after 0: ${Zr(e,r)}.`)}else r=Ol(e,r,n),n=i.charCodeAt(r);if(n===46&&(s=!0,n=i.charCodeAt(++r),r=Ol(e,r,n),n=i.charCodeAt(r)),(n===69||n===101)&&(s=!0,n=i.charCodeAt(++r),(n===43||n===45)&&(n=i.charCodeAt(++r)),r=Ol(e,r,n),n=i.charCodeAt(r)),n===46||Hg(n))throw kt(e.source,r,`Invalid number, expected digit but got: ${Zr(e,r)}.`);return Ct(e,s?_e.FLOAT:_e.INT,t,r,i.slice(t,r))}function Ol(e,t,o){if(!Gn(o))throw kt(e.source,t,`Invalid number, expected digit but got: ${Zr(e,t)}.`);const i=e.source.body;let r=t+1;for(;Gn(i.charCodeAt(r));)++r;return r}function k1(e,t){const o=e.source.body,i=o.length;let r=t+1,n=r,s="";for(;r<i;){const a=o.charCodeAt(r);if(a===34)return s+=o.slice(n,r),Ct(e,_e.STRING,t,r+1,s);if(a===92){s+=o.slice(n,r);const l=o.charCodeAt(r+1)===117?o.charCodeAt(r+2)===123?O1(e,r):R1(e,r):M1(e,r);s+=l.value,r+=l.size,n=r;continue}if(a===10||a===13)break;if(Gi(a))++r;else if(ja(o,r))r+=2;else throw kt(e.source,r,`Invalid character within String: ${Zr(e,r)}.`)}throw kt(e.source,r,"Unterminated string.")}function O1(e,t){const o=e.source.body;let i=0,r=3;for(;r<12;){const n=o.charCodeAt(t+r++);if(n===125){if(r<5||!Gi(i))break;return{value:String.fromCodePoint(i),size:r}}if(i=i<<4|Cn(n),i<0)break}throw kt(e.source,t,`Invalid Unicode escape sequence: "${o.slice(t,t+r)}".`)}function R1(e,t){const o=e.source.body,i=$h(o,t+2);if(Gi(i))return{value:String.fromCodePoint(i),size:6};if(Wg(i)&&o.charCodeAt(t+6)===92&&o.charCodeAt(t+7)===117){const r=$h(o,t+8);if(Qg(r))return{value:String.fromCodePoint(i,r),size:12}}throw kt(e.source,t,`Invalid Unicode escape sequence: "${o.slice(t,t+6)}".`)}function $h(e,t){return Cn(e.charCodeAt(t))<<12|Cn(e.charCodeAt(t+1))<<8|Cn(e.charCodeAt(t+2))<<4|Cn(e.charCodeAt(t+3))}function Cn(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function M1(e,t){const o=e.source.body;switch(o.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:`
`,size:2};case 114:return{value:"\r",size:2};case 116:return{value:"	",size:2}}throw kt(e.source,t,`Invalid character escape sequence: "${o.slice(t,t+2)}".`)}function F1(e,t){const o=e.source.body,i=o.length;let r=e.lineStart,n=t+3,s=n,a="";const l=[];for(;n<i;){const c=o.charCodeAt(n);if(c===34&&o.charCodeAt(n+1)===34&&o.charCodeAt(n+2)===34){a+=o.slice(s,n),l.push(a);const u=Ct(e,_e.BLOCK_STRING,t,n+3,A1(l).join(`
`));return e.line+=l.length-1,e.lineStart=r,u}if(c===92&&o.charCodeAt(n+1)===34&&o.charCodeAt(n+2)===34&&o.charCodeAt(n+3)===34){a+=o.slice(s,n),s=n+1,n+=4;continue}if(c===10||c===13){a+=o.slice(s,n),l.push(a),c===13&&o.charCodeAt(n+1)===10?n+=2:++n,a="",s=n,r=n;continue}if(Gi(c))++n;else if(ja(o,n))n+=2;else throw kt(e.source,n,`Invalid character within String: ${Zr(e,n)}.`)}throw kt(e.source,n,"Unterminated string.")}function B1(e,t){const o=e.source.body,i=o.length;let r=t+1;for(;r<i;){const n=o.charCodeAt(r);if(S1(n))++r;else break}return Ct(e,_e.NAME,t,r,o.slice(t,r))}const L1=10,Gg=2;function Kg(e){return za(e,[])}function za(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return $1(e,t);default:return String(e)}}function $1(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";const o=[...t,e];if(U1(e)){const i=e.toJSON();if(i!==e)return typeof i=="string"?i:za(i,o)}else if(Array.isArray(e))return j1(e,o);return q1(e,o)}function U1(e){return typeof e.toJSON=="function"}function q1(e,t){const o=Object.entries(e);return o.length===0?"{}":t.length>Gg?"["+z1(e)+"]":"{ "+o.map(([r,n])=>r+": "+za(n,t)).join(", ")+" }"}function j1(e,t){if(e.length===0)return"[]";if(t.length>Gg)return"[Array]";const o=Math.min(L1,e.length),i=e.length-o,r=[];for(let n=0;n<o;++n)r.push(za(e[n],t));return i===1?r.push("... 1 more item"):i>1&&r.push(`... ${i} more items`),"["+r.join(", ")+"]"}function z1(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){const o=e.constructor.name;if(typeof o=="string"&&o!=="")return o}return t}const V1=function(t,o){return t instanceof o};class Ud{constructor(t,o="GraphQL request",i={line:1,column:1}){typeof t=="string"||Xs(!1,`Body must be a string. Received: ${Kg(t)}.`),this.body=t,this.name=o,this.locationOffset=i,this.locationOffset.line>0||Xs(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||Xs(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}function H1(e){return V1(e,Ud)}function W1(e,t){return new Q1(e,t).parseDocument()}class Q1{constructor(t,o={}){const i=H1(t)?t:new Ud(t);this._lexer=new T1(i),this._options=o,this._tokenCounter=0}parseName(){const t=this.expectToken(_e.NAME);return this.node(t,{kind:ke.NAME,value:t.value})}parseDocument(){return this.node(this._lexer.token,{kind:ke.DOCUMENT,definitions:this.many(_e.SOF,this.parseDefinition,_e.EOF)})}parseDefinition(){if(this.peek(_e.BRACE_L))return this.parseOperationDefinition();const t=this.peekDescription(),o=t?this._lexer.lookahead():this._lexer.token;if(o.kind===_e.NAME){switch(o.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(t)throw kt(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(o.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(o)}parseOperationDefinition(){const t=this._lexer.token;if(this.peek(_e.BRACE_L))return this.node(t,{kind:ke.OPERATION_DEFINITION,operation:vi.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const o=this.parseOperationType();let i;return this.peek(_e.NAME)&&(i=this.parseName()),this.node(t,{kind:ke.OPERATION_DEFINITION,operation:o,name:i,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const t=this.expectToken(_e.NAME);switch(t.value){case"query":return vi.QUERY;case"mutation":return vi.MUTATION;case"subscription":return vi.SUBSCRIPTION}throw this.unexpected(t)}parseVariableDefinitions(){return this.optionalMany(_e.PAREN_L,this.parseVariableDefinition,_e.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ke.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(_e.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(_e.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const t=this._lexer.token;return this.expectToken(_e.DOLLAR),this.node(t,{kind:ke.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ke.SELECTION_SET,selections:this.many(_e.BRACE_L,this.parseSelection,_e.BRACE_R)})}parseSelection(){return this.peek(_e.SPREAD)?this.parseFragment():this.parseField()}parseField(){const t=this._lexer.token,o=this.parseName();let i,r;return this.expectOptionalToken(_e.COLON)?(i=o,r=this.parseName()):r=o,this.node(t,{kind:ke.FIELD,alias:i,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(_e.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(t){const o=t?this.parseConstArgument:this.parseArgument;return this.optionalMany(_e.PAREN_L,o,_e.PAREN_R)}parseArgument(t=!1){const o=this._lexer.token,i=this.parseName();return this.expectToken(_e.COLON),this.node(o,{kind:ke.ARGUMENT,name:i,value:this.parseValueLiteral(t)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const t=this._lexer.token;this.expectToken(_e.SPREAD);const o=this.expectOptionalKeyword("on");return!o&&this.peek(_e.NAME)?this.node(t,{kind:ke.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(t,{kind:ke.INLINE_FRAGMENT,typeCondition:o?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const t=this._lexer.token;return this.expectKeyword("fragment"),this._options.allowLegacyFragmentVariables===!0?this.node(t,{kind:ke.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(t,{kind:ke.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if(this._lexer.token.value==="on")throw this.unexpected();return this.parseName()}parseValueLiteral(t){const o=this._lexer.token;switch(o.kind){case _e.BRACKET_L:return this.parseList(t);case _e.BRACE_L:return this.parseObject(t);case _e.INT:return this.advanceLexer(),this.node(o,{kind:ke.INT,value:o.value});case _e.FLOAT:return this.advanceLexer(),this.node(o,{kind:ke.FLOAT,value:o.value});case _e.STRING:case _e.BLOCK_STRING:return this.parseStringLiteral();case _e.NAME:switch(this.advanceLexer(),o.value){case"true":return this.node(o,{kind:ke.BOOLEAN,value:!0});case"false":return this.node(o,{kind:ke.BOOLEAN,value:!1});case"null":return this.node(o,{kind:ke.NULL});default:return this.node(o,{kind:ke.ENUM,value:o.value})}case _e.DOLLAR:if(t)if(this.expectToken(_e.DOLLAR),this._lexer.token.kind===_e.NAME){const i=this._lexer.token.value;throw kt(this._lexer.source,o.start,`Unexpected variable "$${i}" in constant value.`)}else throw this.unexpected(o);return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const t=this._lexer.token;return this.advanceLexer(),this.node(t,{kind:ke.STRING,value:t.value,block:t.kind===_e.BLOCK_STRING})}parseList(t){const o=()=>this.parseValueLiteral(t);return this.node(this._lexer.token,{kind:ke.LIST,values:this.any(_e.BRACKET_L,o,_e.BRACKET_R)})}parseObject(t){const o=()=>this.parseObjectField(t);return this.node(this._lexer.token,{kind:ke.OBJECT,fields:this.any(_e.BRACE_L,o,_e.BRACE_R)})}parseObjectField(t){const o=this._lexer.token,i=this.parseName();return this.expectToken(_e.COLON),this.node(o,{kind:ke.OBJECT_FIELD,name:i,value:this.parseValueLiteral(t)})}parseDirectives(t){const o=[];for(;this.peek(_e.AT);)o.push(this.parseDirective(t));return o}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(t){const o=this._lexer.token;return this.expectToken(_e.AT),this.node(o,{kind:ke.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(t)})}parseTypeReference(){const t=this._lexer.token;let o;if(this.expectOptionalToken(_e.BRACKET_L)){const i=this.parseTypeReference();this.expectToken(_e.BRACKET_R),o=this.node(t,{kind:ke.LIST_TYPE,type:i})}else o=this.parseNamedType();return this.expectOptionalToken(_e.BANG)?this.node(t,{kind:ke.NON_NULL_TYPE,type:o}):o}parseNamedType(){return this.node(this._lexer.token,{kind:ke.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(_e.STRING)||this.peek(_e.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("schema");const i=this.parseConstDirectives(),r=this.many(_e.BRACE_L,this.parseOperationTypeDefinition,_e.BRACE_R);return this.node(t,{kind:ke.SCHEMA_DEFINITION,description:o,directives:i,operationTypes:r})}parseOperationTypeDefinition(){const t=this._lexer.token,o=this.parseOperationType();this.expectToken(_e.COLON);const i=this.parseNamedType();return this.node(t,{kind:ke.OPERATION_TYPE_DEFINITION,operation:o,type:i})}parseScalarTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("scalar");const i=this.parseName(),r=this.parseConstDirectives();return this.node(t,{kind:ke.SCALAR_TYPE_DEFINITION,description:o,name:i,directives:r})}parseObjectTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("type");const i=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:ke.OBJECT_TYPE_DEFINITION,description:o,name:i,interfaces:r,directives:n,fields:s})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(_e.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(_e.BRACE_L,this.parseFieldDefinition,_e.BRACE_R)}parseFieldDefinition(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseName(),r=this.parseArgumentDefs();this.expectToken(_e.COLON);const n=this.parseTypeReference(),s=this.parseConstDirectives();return this.node(t,{kind:ke.FIELD_DEFINITION,description:o,name:i,arguments:r,type:n,directives:s})}parseArgumentDefs(){return this.optionalMany(_e.PAREN_L,this.parseInputValueDef,_e.PAREN_R)}parseInputValueDef(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseName();this.expectToken(_e.COLON);const r=this.parseTypeReference();let n;this.expectOptionalToken(_e.EQUALS)&&(n=this.parseConstValueLiteral());const s=this.parseConstDirectives();return this.node(t,{kind:ke.INPUT_VALUE_DEFINITION,description:o,name:i,type:r,defaultValue:n,directives:s})}parseInterfaceTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("interface");const i=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseConstDirectives(),s=this.parseFieldsDefinition();return this.node(t,{kind:ke.INTERFACE_TYPE_DEFINITION,description:o,name:i,interfaces:r,directives:n,fields:s})}parseUnionTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("union");const i=this.parseName(),r=this.parseConstDirectives(),n=this.parseUnionMemberTypes();return this.node(t,{kind:ke.UNION_TYPE_DEFINITION,description:o,name:i,directives:r,types:n})}parseUnionMemberTypes(){return this.expectOptionalToken(_e.EQUALS)?this.delimitedMany(_e.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("enum");const i=this.parseName(),r=this.parseConstDirectives(),n=this.parseEnumValuesDefinition();return this.node(t,{kind:ke.ENUM_TYPE_DEFINITION,description:o,name:i,directives:r,values:n})}parseEnumValuesDefinition(){return this.optionalMany(_e.BRACE_L,this.parseEnumValueDefinition,_e.BRACE_R)}parseEnumValueDefinition(){const t=this._lexer.token,o=this.parseDescription(),i=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(t,{kind:ke.ENUM_VALUE_DEFINITION,description:o,name:i,directives:r})}parseEnumValueName(){if(this._lexer.token.value==="true"||this._lexer.token.value==="false"||this._lexer.token.value==="null")throw kt(this._lexer.source,this._lexer.token.start,`${Os(this._lexer.token)} is reserved and cannot be used for an enum value.`);return this.parseName()}parseInputObjectTypeDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("input");const i=this.parseName(),r=this.parseConstDirectives(),n=this.parseInputFieldsDefinition();return this.node(t,{kind:ke.INPUT_OBJECT_TYPE_DEFINITION,description:o,name:i,directives:r,fields:n})}parseInputFieldsDefinition(){return this.optionalMany(_e.BRACE_L,this.parseInputValueDef,_e.BRACE_R)}parseTypeSystemExtension(){const t=this._lexer.lookahead();if(t.kind===_e.NAME)switch(t.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(t)}parseSchemaExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const o=this.parseConstDirectives(),i=this.optionalMany(_e.BRACE_L,this.parseOperationTypeDefinition,_e.BRACE_R);if(o.length===0&&i.length===0)throw this.unexpected();return this.node(t,{kind:ke.SCHEMA_EXTENSION,directives:o,operationTypes:i})}parseScalarTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const o=this.parseName(),i=this.parseConstDirectives();if(i.length===0)throw this.unexpected();return this.node(t,{kind:ke.SCALAR_TYPE_EXTENSION,name:o,directives:i})}parseObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const o=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),n=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:ke.OBJECT_TYPE_EXTENSION,name:o,interfaces:i,directives:r,fields:n})}parseInterfaceTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const o=this.parseName(),i=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),n=this.parseFieldsDefinition();if(i.length===0&&r.length===0&&n.length===0)throw this.unexpected();return this.node(t,{kind:ke.INTERFACE_TYPE_EXTENSION,name:o,interfaces:i,directives:r,fields:n})}parseUnionTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const o=this.parseName(),i=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:ke.UNION_TYPE_EXTENSION,name:o,directives:i,types:r})}parseEnumTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const o=this.parseName(),i=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:ke.ENUM_TYPE_EXTENSION,name:o,directives:i,values:r})}parseInputObjectTypeExtension(){const t=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const o=this.parseName(),i=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(i.length===0&&r.length===0)throw this.unexpected();return this.node(t,{kind:ke.INPUT_OBJECT_TYPE_EXTENSION,name:o,directives:i,fields:r})}parseDirectiveDefinition(){const t=this._lexer.token,o=this.parseDescription();this.expectKeyword("directive"),this.expectToken(_e.AT);const i=this.parseName(),r=this.parseArgumentDefs(),n=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const s=this.parseDirectiveLocations();return this.node(t,{kind:ke.DIRECTIVE_DEFINITION,description:o,name:i,arguments:r,repeatable:n,locations:s})}parseDirectiveLocations(){return this.delimitedMany(_e.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const t=this._lexer.token,o=this.parseName();if(Object.prototype.hasOwnProperty.call(yu,o.value))return o;throw this.unexpected(t)}node(t,o){return this._options.noLocation!==!0&&(o.loc=new E1(t,this._lexer.lastToken,this._lexer.source)),o}peek(t){return this._lexer.token.kind===t}expectToken(t){const o=this._lexer.token;if(o.kind===t)return this.advanceLexer(),o;throw kt(this._lexer.source,o.start,`Expected ${Jg(t)}, found ${Os(o)}.`)}expectOptionalToken(t){return this._lexer.token.kind===t?(this.advanceLexer(),!0):!1}expectKeyword(t){const o=this._lexer.token;if(o.kind===_e.NAME&&o.value===t)this.advanceLexer();else throw kt(this._lexer.source,o.start,`Expected "${t}", found ${Os(o)}.`)}expectOptionalKeyword(t){const o=this._lexer.token;return o.kind===_e.NAME&&o.value===t?(this.advanceLexer(),!0):!1}unexpected(t){const o=t??this._lexer.token;return kt(this._lexer.source,o.start,`Unexpected ${Os(o)}.`)}any(t,o,i){this.expectToken(t);const r=[];for(;!this.expectOptionalToken(i);)r.push(o.call(this));return r}optionalMany(t,o,i){if(this.expectOptionalToken(t)){const r=[];do r.push(o.call(this));while(!this.expectOptionalToken(i));return r}return[]}many(t,o,i){this.expectToken(t);const r=[];do r.push(o.call(this));while(!this.expectOptionalToken(i));return r}delimitedMany(t,o){this.expectOptionalToken(t);const i=[];do i.push(o.call(this));while(this.expectOptionalToken(t));return i}advanceLexer(){const{maxTokens:t}=this._options,o=this._lexer.advance();if(t!==void 0&&o.kind!==_e.EOF&&(++this._tokenCounter,this._tokenCounter>t))throw kt(this._lexer.source,o.start,`Document contains more that ${t} tokens. Parsing aborted.`)}}function Os(e){const t=e.value;return Jg(e.kind)+(t!=null?` "${t}"`:"")}function Jg(e){return x1(e)?`"${e}"`:e}function G1(e){return`"${e.replace(K1,J1)}"`}const K1=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function J1(e){return Y1[e.charCodeAt(0)]}const Y1=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"],qd=Object.freeze({});function Yo(e,t,o=zg){const i=new Map;for(const w of Object.values(ke))i.set(w,X1(t,w));let r,n=Array.isArray(e),s=[e],a=-1,l=[],c=e,u,d;const p=[],f=[];do{a++;const w=a===s.length,_=w&&l.length!==0;if(w){if(u=f.length===0?void 0:p[p.length-1],c=d,d=f.pop(),_)if(n){c=c.slice();let D=0;for(const[M,J]of l){const V=M-D;J===null?(c.splice(V,1),D++):c[V]=J}}else{c=Object.defineProperties({},Object.getOwnPropertyDescriptors(c));for(const[D,M]of l)c[D]=M}a=r.index,s=r.keys,l=r.edits,n=r.inArray,r=r.prev}else if(d){if(u=n?a:s[a],c=d[u],c==null)continue;p.push(u)}let x;if(!Array.isArray(c)){var g,y;Lh(c)||Xs(!1,`Invalid AST Node: ${Kg(c)}.`);const D=w?(g=i.get(c.kind))===null||g===void 0?void 0:g.leave:(y=i.get(c.kind))===null||y===void 0?void 0:y.enter;if(x=D==null?void 0:D.call(t,c,u,d,p,f),x===qd)break;if(x===!1){if(!w){p.pop();continue}}else if(x!==void 0&&(l.push([u,x]),!w))if(Lh(x))c=x;else{p.pop();continue}}if(x===void 0&&_&&l.push([u,c]),w)p.pop();else{var T;r={inArray:n,index:a,keys:s,edits:l,prev:r},n=Array.isArray(c),s=n?c:(T=o[c.kind])!==null&&T!==void 0?T:[],a=-1,l=[],d&&f.push(d),d=c}}while(r!==void 0);return l.length!==0?l[l.length-1][1]:e}function X1(e,t){const o=e[t];return typeof o=="object"?o:typeof o=="function"?{enter:o,leave:void 0}:{enter:e.enter,leave:e.leave}}function Yg(e){return Yo(e,eS)}const Z1=80,eS={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>Oe(e.definitions,`

`)},OperationDefinition:{leave(e){const t=Qe("(",Oe(e.variableDefinitions,", "),")"),o=Oe([e.operation,Oe([e.name,t]),Oe(e.directives," ")]," ");return(o==="query"?"":o+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:o,directives:i})=>e+": "+t+Qe(" = ",o)+Qe(" ",Oe(i," "))},SelectionSet:{leave:({selections:e})=>fo(e)},Field:{leave({alias:e,name:t,arguments:o,directives:i,selectionSet:r}){const n=Qe("",e,": ")+t;let s=n+Qe("(",Oe(o,", "),")");return s.length>Z1&&(s=n+Qe(`(
`,Zs(Oe(o,`
`)),`
)`)),Oe([s,Oe(i," "),r]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Qe(" ",Oe(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:o})=>Oe(["...",Qe("on ",e),Oe(t," "),o]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:o,directives:i,selectionSet:r})=>`fragment ${e}${Qe("(",Oe(o,", "),")")} on ${t} ${Qe("",Oe(i," ")," ")}`+r},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?C1(e):G1(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+Oe(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+Oe(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Qe("(",Oe(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:o})=>Qe("",e,`
`)+Oe(["schema",Oe(t," "),fo(o)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:o})=>Qe("",e,`
`)+Oe(["scalar",t,Oe(o," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:o,directives:i,fields:r})=>Qe("",e,`
`)+Oe(["type",t,Qe("implements ",Oe(o," & ")),Oe(i," "),fo(r)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:o,type:i,directives:r})=>Qe("",e,`
`)+t+(Uh(o)?Qe(`(
`,Zs(Oe(o,`
`)),`
)`):Qe("(",Oe(o,", "),")"))+": "+i+Qe(" ",Oe(r," "))},InputValueDefinition:{leave:({description:e,name:t,type:o,defaultValue:i,directives:r})=>Qe("",e,`
`)+Oe([t+": "+o,Qe("= ",i),Oe(r," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:o,directives:i,fields:r})=>Qe("",e,`
`)+Oe(["interface",t,Qe("implements ",Oe(o," & ")),Oe(i," "),fo(r)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:o,types:i})=>Qe("",e,`
`)+Oe(["union",t,Oe(o," "),Qe("= ",Oe(i," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:o,values:i})=>Qe("",e,`
`)+Oe(["enum",t,Oe(o," "),fo(i)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:o})=>Qe("",e,`
`)+Oe([t,Oe(o," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:o,fields:i})=>Qe("",e,`
`)+Oe(["input",t,Oe(o," "),fo(i)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:o,repeatable:i,locations:r})=>Qe("",e,`
`)+"directive @"+t+(Uh(o)?Qe(`(
`,Zs(Oe(o,`
`)),`
)`):Qe("(",Oe(o,", "),")"))+(i?" repeatable":"")+" on "+Oe(r," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>Oe(["extend schema",Oe(e," "),fo(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>Oe(["extend scalar",e,Oe(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:o,fields:i})=>Oe(["extend type",e,Qe("implements ",Oe(t," & ")),Oe(o," "),fo(i)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:o,fields:i})=>Oe(["extend interface",e,Qe("implements ",Oe(t," & ")),Oe(o," "),fo(i)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:o})=>Oe(["extend union",e,Oe(t," "),Qe("= ",Oe(o," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:o})=>Oe(["extend enum",e,Oe(t," "),fo(o)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:o})=>Oe(["extend input",e,Oe(t," "),fo(o)]," ")}};function Oe(e,t=""){var o;return(o=e==null?void 0:e.filter(i=>i).join(t))!==null&&o!==void 0?o:""}function fo(e){return Qe(`{
`,Zs(Oe(e,`
`)),`
}`)}function Qe(e,t,o=""){return t!=null&&t!==""?e+t+o:""}function Zs(e){return Qe("  ",e.replace(/\n/g,`
  `))}function Uh(e){var t;return(t=e==null?void 0:e.some(o=>o.includes(`
`)))!==null&&t!==void 0?t:!1}function qh(e){return e.kind===ke.FIELD||e.kind===ke.FRAGMENT_SPREAD||e.kind===ke.INLINE_FRAGMENT}var ea=new Map,wu=new Map,Xg=!0,ya=!1;function Zg(e){return e.replace(/[\s,]+/g," ").trim()}function tS(e){return Zg(e.source.body.substring(e.start,e.end))}function oS(e){var t=new Set,o=[];return e.definitions.forEach(function(i){if(i.kind==="FragmentDefinition"){var r=i.name.value,n=tS(i.loc),s=wu.get(r);s&&!s.has(n)?Xg&&console.warn("Warning: fragment with name "+r+` already exists.
graphql-tag enforces all fragment names across your application to be unique; read more about
this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names`):s||wu.set(r,s=new Set),s.add(n),t.has(n)||(t.add(n),o.push(i))}else o.push(i)}),ce(ce({},e),{definitions:o})}function rS(e){var t=new Set(e.definitions);t.forEach(function(i){i.loc&&delete i.loc,Object.keys(i).forEach(function(r){var n=i[r];n&&typeof n=="object"&&t.add(n)})});var o=e.loc;return o&&(delete o.startToken,delete o.endToken),e}function iS(e){var t=Zg(e);if(!ea.has(t)){var o=W1(e,{experimentalFragmentVariables:ya,allowLegacyFragmentVariables:ya});if(!o||o.kind!=="Document")throw new Error("Not a valid GraphQL document.");ea.set(t,rS(oS(o)))}return ea.get(t)}function Pe(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];typeof e=="string"&&(e=[e]);var i=e[0];return t.forEach(function(r,n){r&&r.kind==="Document"?i+=r.loc.source.body:i+=r,i+=e[n+1]}),iS(i)}function nS(){ea.clear(),wu.clear()}function sS(){Xg=!1}function aS(){ya=!0}function lS(){ya=!1}var dn={gql:Pe,resetCaches:nS,disableFragmentWarnings:sS,enableExperimentalFragmentVariables:aS,disableExperimentalFragmentVariables:lS};(function(e){e.gql=dn.gql,e.resetCaches=dn.resetCaches,e.disableFragmentWarnings=dn.disableFragmentWarnings,e.enableExperimentalFragmentVariables=dn.enableExperimentalFragmentVariables,e.disableExperimentalFragmentVariables=dn.disableExperimentalFragmentVariables})(Pe||(Pe={}));Pe.default=Pe;const Ce=Pe;var Rl="Invariant Violation",jh=Object.setPrototypeOf,cS=jh===void 0?function(e,t){return e.__proto__=t,e}:jh,Ze=function(e){oo(t,e);function t(o){o===void 0&&(o=Rl);var i=e.call(this,typeof o=="number"?Rl+": "+o+" (see https://github.com/apollographql/invariant-packages)":o)||this;return i.framesToPop=1,i.name=Rl,cS(i,t.prototype),i}return t}(Error);function De(e,t){if(!e)throw new Ze(t)}var ey=["debug","log","warn","error","silent"],uS=ey.indexOf("log");function Rs(e){return function(){if(ey.indexOf(e)>=uS){var t=console[e]||console.log;return t.apply(console,arguments)}}}(function(e){e.debug=Rs("debug"),e.log=Rs("log"),e.warn=Rs("warn"),e.error=Rs("error")})(De||(De={}));function no(e){try{return e()}catch{}}const zh=no(function(){return globalThis})||no(function(){return window})||no(function(){return self})||no(function(){return global})||no(function(){return no.constructor("return this")()});var Vh="__",Hh=[Vh,Vh].join("DEV");function dS(){try{return!!__DEV__}catch{return Object.defineProperty(zh,Hh,{value:no(function(){return"production"})!=="production",enumerable:!1,configurable:!0,writable:!0}),zh[Hh]}}const Ml=dS();function pr(e){try{return e()}catch{}}var Eu=pr(function(){return globalThis})||pr(function(){return window})||pr(function(){return self})||pr(function(){return global})||pr(function(){return pr.constructor("return this")()}),_u=!1;function fS(){Eu&&!pr(function(){return"production"})&&!pr(function(){return process})&&(Object.defineProperty(Eu,"process",{value:{env:{NODE_ENV:"production"}},configurable:!0,enumerable:!1,writable:!0}),_u=!0)}fS();function Wh(){_u&&(delete Eu.process,_u=!1)}function hS(){return Wh()}function pS(){__DEV__?De(typeof Ml=="boolean",Ml):De(typeof Ml=="boolean",39)}hS();pS();function Va(e,t){var o=e.directives;return!o||!o.length?!0:gS(o).every(function(i){var r=i.directive,n=i.ifArgument,s=!1;return n.value.kind==="Variable"?(s=t&&t[n.value.name.value],__DEV__?De(s!==void 0,"Invalid variable referenced in @".concat(r.name.value," directive.")):De(s!==void 0,40)):s=n.value.value,r.name.value==="skip"?!s:s})}function jd(e,t,o){var i=new Set(e),r=i.size;return Yo(t,{Directive:function(n){if(i.delete(n.name.value)&&(!o||!i.size))return qd}}),o?!i.size:i.size<r}function mS(e){return e&&jd(["client","export"],e,!0)}function vS(e){var t=e.name.value;return t==="skip"||t==="include"}function gS(e){var t=[];return e&&e.length&&e.forEach(function(o){if(vS(o)){var i=o.arguments,r=o.name.value;__DEV__?De(i&&i.length===1,"Incorrect number of arguments for the @".concat(r," directive.")):De(i&&i.length===1,41);var n=i[0];__DEV__?De(n.name&&n.name.value==="if","Invalid argument for the @".concat(r," directive.")):De(n.name&&n.name.value==="if",42);var s=n.value;__DEV__?De(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),"Argument for the @".concat(r," directive must be a variable or a boolean value.")):De(s&&(s.kind==="Variable"||s.kind==="BooleanValue"),43),t.push({directive:o,ifArgument:n})}}),t}function yS(e,t){var o=t,i=[];e.definitions.forEach(function(n){if(n.kind==="OperationDefinition")throw __DEV__?new Ze("Found a ".concat(n.operation," operation").concat(n.name?" named '".concat(n.name.value,"'"):"",". ")+"No operations are allowed when using a fragment as a query. Only fragments are allowed."):new Ze(44);n.kind==="FragmentDefinition"&&i.push(n)}),typeof o>"u"&&(__DEV__?De(i.length===1,"Found ".concat(i.length," fragments. `fragmentName` must be provided when there is not exactly 1 fragment.")):De(i.length===1,45),o=i[0].name.value);var r=ce(ce({},e),{definitions:ga([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:o}}]}}],e.definitions,!0)});return r}function zd(e){e===void 0&&(e=[]);var t={};return e.forEach(function(o){t[o.name.value]=o}),t}function Vd(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":{var o=e.name.value;if(typeof t=="function")return t(o);var i=t&&t[o];return __DEV__?De(i,"No fragment named ".concat(o)):De(i,46),i||null}default:return null}}function mt(e){return e!==null&&typeof e=="object"}function Ai(e){return{__ref:String(e)}}function ot(e){return!!(e&&typeof e=="object"&&typeof e.__ref=="string")}function bS(e){return mt(e)&&e.kind==="Document"&&Array.isArray(e.definitions)}function wS(e){return e.kind==="StringValue"}function ES(e){return e.kind==="BooleanValue"}function _S(e){return e.kind==="IntValue"}function SS(e){return e.kind==="FloatValue"}function AS(e){return e.kind==="Variable"}function NS(e){return e.kind==="ObjectValue"}function CS(e){return e.kind==="ListValue"}function TS(e){return e.kind==="EnumValue"}function xS(e){return e.kind==="NullValue"}function Ri(e,t,o,i){if(_S(o)||SS(o))e[t.value]=Number(o.value);else if(ES(o)||wS(o))e[t.value]=o.value;else if(NS(o)){var r={};o.fields.map(function(s){return Ri(r,s.name,s.value,i)}),e[t.value]=r}else if(AS(o)){var n=(i||{})[o.name.value];e[t.value]=n}else if(CS(o))e[t.value]=o.values.map(function(s){var a={};return Ri(a,t,s,i),a[t.value]});else if(TS(o))e[t.value]=o.value;else if(xS(o))e[t.value]=null;else throw __DEV__?new Ze('The inline argument "'.concat(t.value,'" of kind "').concat(o.kind,'"')+"is not supported. Use variables instead of inline arguments to overcome this limitation."):new Ze(55)}function IS(e,t){var o=null;e.directives&&(o={},e.directives.forEach(function(r){o[r.name.value]={},r.arguments&&r.arguments.forEach(function(n){var s=n.name,a=n.value;return Ri(o[r.name.value],s,a,t)})}));var i=null;return e.arguments&&e.arguments.length&&(i={},e.arguments.forEach(function(r){var n=r.name,s=r.value;return Ri(i,n,s,t)})),Hd(e.name.value,i,o)}var DS=["connection","include","skip","client","rest","export"],Hd=Object.assign(function(e,t,o){if(t&&o&&o.connection&&o.connection.key)if(o.connection.filter&&o.connection.filter.length>0){var i=o.connection.filter?o.connection.filter:[];i.sort();var r={};return i.forEach(function(a){r[a]=t[a]}),"".concat(o.connection.key,"(").concat(fn(r),")")}else return o.connection.key;var n=e;if(t){var s=fn(t);n+="(".concat(s,")")}return o&&Object.keys(o).forEach(function(a){DS.indexOf(a)===-1&&(o[a]&&Object.keys(o[a]).length?n+="@".concat(a,"(").concat(fn(o[a]),")"):n+="@".concat(a))}),n},{setStringify:function(e){var t=fn;return fn=e,t}}),fn=function(t){return JSON.stringify(t,PS)};function PS(e,t){return mt(t)&&!Array.isArray(t)&&(t=Object.keys(t).sort().reduce(function(o,i){return o[i]=t[i],o},{})),t}function Ha(e,t){if(e.arguments&&e.arguments.length){var o={};return e.arguments.forEach(function(i){var r=i.name,n=i.value;return Ri(o,r,n,t)}),o}return null}function ei(e){return e.alias?e.alias.value:e.name.value}function Su(e,t,o){if(typeof e.__typename=="string")return e.__typename;for(var i=0,r=t.selections;i<r.length;i++){var n=r[i];if(ti(n)){if(n.name.value==="__typename")return e[ei(n)]}else{var s=Su(e,Vd(n,o).selectionSet,o);if(typeof s=="string")return s}}}function ti(e){return e.kind==="Field"}function kS(e){return e.kind==="InlineFragment"}function Wa(e){__DEV__?De(e&&e.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):De(e&&e.kind==="Document",47);var t=e.definitions.filter(function(o){return o.kind!=="FragmentDefinition"}).map(function(o){if(o.kind!=="OperationDefinition")throw __DEV__?new Ze('Schema type definitions not allowed in queries. Found: "'.concat(o.kind,'"')):new Ze(48);return o});return __DEV__?De(t.length<=1,"Ambiguous GraphQL document: contains ".concat(t.length," operations")):De(t.length<=1,49),e}function ns(e){return Wa(e),e.definitions.filter(function(t){return t.kind==="OperationDefinition"})[0]}function Au(e){return e.definitions.filter(function(t){return t.kind==="OperationDefinition"&&!!t.name}).map(function(t){return t.name.value})[0]||null}function Wd(e){return e.definitions.filter(function(t){return t.kind==="FragmentDefinition"})}function ty(e){var t=ns(e);return __DEV__?De(t&&t.operation==="query","Must contain a query definition."):De(t&&t.operation==="query",50),t}function OS(e){__DEV__?De(e.kind==="Document",'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'):De(e.kind==="Document",51),__DEV__?De(e.definitions.length<=1,"Fragment must have exactly one definition."):De(e.definitions.length<=1,52);var t=e.definitions[0];return __DEV__?De(t.kind==="FragmentDefinition","Must be a fragment definition."):De(t.kind==="FragmentDefinition",53),t}function Qa(e){Wa(e);for(var t,o=0,i=e.definitions;o<i.length;o++){var r=i[o];if(r.kind==="OperationDefinition"){var n=r.operation;if(n==="query"||n==="mutation"||n==="subscription")return r}r.kind==="FragmentDefinition"&&!t&&(t=r)}if(t)return t;throw __DEV__?new Ze("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment."):new Ze(54)}function Qd(e){var t=Object.create(null),o=e&&e.variableDefinitions;return o&&o.length&&o.forEach(function(i){i.defaultValue&&Ri(t,i.variable.name,i.defaultValue)}),t}var vt=Array.isArray;function co(e){return Array.isArray(e)&&e.length>0}var Qh={kind:ke.FIELD,name:{kind:ke.NAME,value:"__typename"}};function oy(e,t){return!e||e.selectionSet.selections.every(function(o){return o.kind===ke.FRAGMENT_SPREAD&&oy(t[o.name.value],t)})}function RS(e){return oy(ns(e)||OS(e),zd(Wd(e)))?null:e}function MS(e){var t=new Set,o=[];return e.forEach(function(i){i.name?t.add(i.name):i.test&&o.push(i.test)}),function(i){return t.has(i.name.value)||o.some(function(r){return r(i)})}}function Gh(e){var t=new Map;return function(i){i===void 0&&(i=e);var r=t.get(i);return r||t.set(i,r={variables:new Set,fragmentSpreads:new Set}),r}}function ry(e,t){for(var o=Gh(""),i=Gh(""),r=function(_){for(var x=0,D=void 0;x<_.length&&(D=_[x]);++x)if(!vt(D)){if(D.kind===ke.OPERATION_DEFINITION)return o(D.name&&D.name.value);if(D.kind===ke.FRAGMENT_DEFINITION)return i(D.name.value)}return __DEV__&&De.error("Could not find operation or fragment"),null},n=0,s=t.definitions.length-1;s>=0;--s)t.definitions[s].kind===ke.OPERATION_DEFINITION&&++n;var a=MS(e),l=e.some(function(_){return _.remove}),c=function(_){return l&&_&&_.some(a)},u=new Map,d=!1,p={enter:function(_){if(c(_.directives))return d=!0,null}},f=Yo(t,{Field:p,InlineFragment:p,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(_,x,D,M,J){var V=r(J);V&&V.variables.add(_.name.value)}},FragmentSpread:{enter:function(_,x,D,M,J){if(c(_.directives))return d=!0,null;var V=r(J);V&&V.fragmentSpreads.add(_.name.value)}},FragmentDefinition:{enter:function(_,x,D,M){u.set(JSON.stringify(M),_)},leave:function(_,x,D,M){var J=u.get(JSON.stringify(M));if(_===J)return _;if(n>0&&_.selectionSet.selections.every(function(V){return V.kind===ke.FIELD&&V.name.value==="__typename"}))return i(_.name.value).removed=!0,d=!0,null}},Directive:{leave:function(_){if(a(_))return d=!0,null}}});if(!d)return t;var g=function(_){return _.transitiveVars||(_.transitiveVars=new Set(_.variables),_.removed||_.fragmentSpreads.forEach(function(x){g(i(x)).transitiveVars.forEach(function(D){_.transitiveVars.add(D)})})),_},y=new Set;f.definitions.forEach(function(_){_.kind===ke.OPERATION_DEFINITION?g(o(_.name&&_.name.value)).fragmentSpreads.forEach(function(x){y.add(x)}):_.kind===ke.FRAGMENT_DEFINITION&&n===0&&!i(_.name.value).removed&&y.add(_.name.value)}),y.forEach(function(_){g(i(_)).fragmentSpreads.forEach(function(x){y.add(x)})});var T=function(_){return!!(!y.has(_)||i(_).removed)},w={enter:function(_){if(T(_.name.value))return null}};return RS(Yo(f,{FragmentSpread:w,FragmentDefinition:w,OperationDefinition:{leave:function(_){if(_.variableDefinitions){var x=g(o(_.name&&_.name.value)).transitiveVars;if(x.size<_.variableDefinitions.length)return ce(ce({},_),{variableDefinitions:_.variableDefinitions.filter(function(D){return x.has(D.variable.name.value)})})}}}}))}var Gd=Object.assign(function(e){return Yo(e,{SelectionSet:{enter:function(t,o,i){if(!(i&&i.kind===ke.OPERATION_DEFINITION)){var r=t.selections;if(r){var n=r.some(function(a){return ti(a)&&(a.name.value==="__typename"||a.name.value.lastIndexOf("__",0)===0)});if(!n){var s=i;if(!(ti(s)&&s.directives&&s.directives.some(function(a){return a.name.value==="export"})))return ce(ce({},t),{selections:ga(ga([],r,!0),[Qh],!1)})}}}}}})},{added:function(e){return e===Qh}}),FS={test:function(e){var t=e.name.value==="connection";return t&&(!e.arguments||!e.arguments.some(function(o){return o.name.value==="key"}))&&__DEV__&&De.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key."),t}};function BS(e){return ry([FS],Wa(e))}function LS(e){var t=Qa(e),o=t.operation;if(o==="query")return e;var i=Yo(e,{OperationDefinition:{enter:function(r){return ce(ce({},r),{operation:"query"})}}});return i}function $S(e){Wa(e);var t=ry([{test:function(o){return o.name.value==="client"},remove:!0}],e);return t}var US=Object.prototype.hasOwnProperty;function Kh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Kd(e)}function Kd(e){var t=e[0]||{},o=e.length;if(o>1)for(var i=new Er,r=1;r<o;++r)t=i.merge(t,e[r]);return t}var qS=function(e,t,o){return this.merge(e[o],t[o])},Er=function(){function e(t){t===void 0&&(t=qS),this.reconciler=t,this.isObject=mt,this.pastCopies=new Set}return e.prototype.merge=function(t,o){for(var i=this,r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return mt(o)&&mt(t)?(Object.keys(o).forEach(function(s){if(US.call(t,s)){var a=t[s];if(o[s]!==a){var l=i.reconciler.apply(i,ga([t,o,s],r,!1));l!==a&&(t=i.shallowCopyForMerge(t),t[s]=l)}}else t=i.shallowCopyForMerge(t),t[s]=o[s]}),t):o},e.prototype.shallowCopyForMerge=function(t){return mt(t)&&(this.pastCopies.has(t)||(Array.isArray(t)?t=t.slice(0):t=ce({__proto__:Object.getPrototypeOf(t)},t),this.pastCopies.add(t))),t},e}();function jS(e,t){var o=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o)return(o=o.call(e)).next.bind(o);if(Array.isArray(e)||(o=zS(e))||t&&e&&typeof e.length=="number"){o&&(e=o);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zS(e,t){if(e){if(typeof e=="string")return Jh(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Jh(e,t)}}function Jh(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function Yh(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Jd(e,t,o){return t&&Yh(e.prototype,t),o&&Yh(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}var Yd=function(){return typeof Symbol=="function"},Xd=function(e){return Yd()&&!!Symbol[e]},Zd=function(e){return Xd(e)?Symbol[e]:"@@"+e};Yd()&&!Xd("observable")&&(Symbol.observable=Symbol("observable"));var VS=Zd("iterator"),Nu=Zd("observable"),iy=Zd("species");function ba(e,t){var o=e[t];if(o!=null){if(typeof o!="function")throw new TypeError(o+" is not a function");return o}}function hn(e){var t=e.constructor;return t!==void 0&&(t=t[iy],t===null&&(t=void 0)),t!==void 0?t:nt}function HS(e){return e instanceof nt}function Mi(e){Mi.log?Mi.log(e):setTimeout(function(){throw e})}function ta(e){Promise.resolve().then(function(){try{e()}catch(t){Mi(t)}})}function ny(e){var t=e._cleanup;if(t!==void 0&&(e._cleanup=void 0,!!t))try{if(typeof t=="function")t();else{var o=ba(t,"unsubscribe");o&&o.call(t)}}catch(i){Mi(i)}}function Cu(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function WS(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var o=0;o<t.length&&(sy(e,t[o].type,t[o].value),e._state!=="closed");++o);}}function sy(e,t,o){e._state="running";var i=e._observer;try{var r=ba(i,t);switch(t){case"next":r&&r.call(i,o);break;case"error":if(Cu(e),r)r.call(i,o);else throw o;break;case"complete":Cu(e),r&&r.call(i);break}}catch(n){Mi(n)}e._state==="closed"?ny(e):e._state==="running"&&(e._state="ready")}function Fl(e,t,o){if(e._state!=="closed"){if(e._state==="buffering"){e._queue.push({type:t,value:o});return}if(e._state!=="ready"){e._state="buffering",e._queue=[{type:t,value:o}],ta(function(){return WS(e)});return}sy(e,t,o)}}var QS=function(){function e(o,i){this._cleanup=void 0,this._observer=o,this._queue=void 0,this._state="initializing";var r=new GS(this);try{this._cleanup=i.call(void 0,r)}catch(n){r.error(n)}this._state==="initializing"&&(this._state="ready")}var t=e.prototype;return t.unsubscribe=function(){this._state!=="closed"&&(Cu(this),ny(this))},Jd(e,[{key:"closed",get:function(){return this._state==="closed"}}]),e}(),GS=function(){function e(o){this._subscription=o}var t=e.prototype;return t.next=function(i){Fl(this._subscription,"next",i)},t.error=function(i){Fl(this._subscription,"error",i)},t.complete=function(){Fl(this._subscription,"complete")},Jd(e,[{key:"closed",get:function(){return this._subscription._state==="closed"}}]),e}(),nt=function(){function e(o){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if(typeof o!="function")throw new TypeError("Observable initializer must be a function");this._subscriber=o}var t=e.prototype;return t.subscribe=function(i){return(typeof i!="object"||i===null)&&(i={next:i,error:arguments[1],complete:arguments[2]}),new QS(i,this._subscriber)},t.forEach=function(i){var r=this;return new Promise(function(n,s){if(typeof i!="function"){s(new TypeError(i+" is not a function"));return}function a(){l.unsubscribe(),n()}var l=r.subscribe({next:function(c){try{i(c,a)}catch(u){s(u),l.unsubscribe()}},error:s,complete:n})})},t.map=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var n=hn(this);return new n(function(s){return r.subscribe({next:function(a){try{a=i(a)}catch(l){return s.error(l)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},t.filter=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var n=hn(this);return new n(function(s){return r.subscribe({next:function(a){try{if(!i(a))return}catch(l){return s.error(l)}s.next(a)},error:function(a){s.error(a)},complete:function(){s.complete()}})})},t.reduce=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var n=hn(this),s=arguments.length>1,a=!1,l=arguments[1],c=l;return new n(function(u){return r.subscribe({next:function(d){var p=!a;if(a=!0,!p||s)try{c=i(c,d)}catch(f){return u.error(f)}else c=d},error:function(d){u.error(d)},complete:function(){if(!a&&!s)return u.error(new TypeError("Cannot reduce an empty sequence"));u.next(c),u.complete()}})})},t.concat=function(){for(var i=this,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=hn(this);return new a(function(l){var c,u=0;function d(p){c=p.subscribe({next:function(f){l.next(f)},error:function(f){l.error(f)},complete:function(){u===n.length?(c=void 0,l.complete()):d(a.from(n[u++]))}})}return d(i),function(){c&&(c.unsubscribe(),c=void 0)}})},t.flatMap=function(i){var r=this;if(typeof i!="function")throw new TypeError(i+" is not a function");var n=hn(this);return new n(function(s){var a=[],l=r.subscribe({next:function(u){if(i)try{u=i(u)}catch(p){return s.error(p)}var d=n.from(u).subscribe({next:function(p){s.next(p)},error:function(p){s.error(p)},complete:function(){var p=a.indexOf(d);p>=0&&a.splice(p,1),c()}});a.push(d)},error:function(u){s.error(u)},complete:function(){c()}});function c(){l.closed&&a.length===0&&s.complete()}return function(){a.forEach(function(u){return u.unsubscribe()}),l.unsubscribe()}})},t[Nu]=function(){return this},e.from=function(i){var r=typeof this=="function"?this:e;if(i==null)throw new TypeError(i+" is not an object");var n=ba(i,Nu);if(n){var s=n.call(i);if(Object(s)!==s)throw new TypeError(s+" is not an object");return HS(s)&&s.constructor===r?s:new r(function(a){return s.subscribe(a)})}if(Xd("iterator")&&(n=ba(i,VS),n))return new r(function(a){ta(function(){if(!a.closed){for(var l=jS(n.call(i)),c;!(c=l()).done;){var u=c.value;if(a.next(u),a.closed)return}a.complete()}})});if(Array.isArray(i))return new r(function(a){ta(function(){if(!a.closed){for(var l=0;l<i.length;++l)if(a.next(i[l]),a.closed)return;a.complete()}})});throw new TypeError(i+" is not observable")},e.of=function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];var s=typeof this=="function"?this:e;return new s(function(a){ta(function(){if(!a.closed){for(var l=0;l<r.length;++l)if(a.next(r[l]),a.closed)return;a.complete()}})})},Jd(e,null,[{key:iy,get:function(){return this}}]),e}();Yd()&&Object.defineProperty(nt,Symbol("extensions"),{value:{symbol:Nu,hostReportError:Mi},configurable:!0});function KS(e){var t,o=e.Symbol;if(typeof o=="function")if(o.observable)t=o.observable;else{typeof o.for=="function"?t=o.for("https://github.com/benlesh/symbol-observable"):t=o("https://github.com/benlesh/symbol-observable");try{o.observable=t}catch{}}else t="@@observable";return t}var hi;typeof self<"u"?hi=self:typeof window<"u"?hi=window:typeof global<"u"?hi=global:typeof gd<"u"?hi=gd:hi=Function("return this")();KS(hi);var Xh=nt.prototype,Zh="@@observable";Xh[Zh]||(Xh[Zh]=function(){return this});var JS=Object.prototype.toString;function ay(e){return Tu(e)}function Tu(e,t){switch(JS.call(e)){case"[object Array]":{if(t=t||new Map,t.has(e))return t.get(e);var o=e.slice(0);return t.set(e,o),o.forEach(function(r,n){o[n]=Tu(r,t)}),o}case"[object Object]":{if(t=t||new Map,t.has(e))return t.get(e);var i=Object.create(Object.getPrototypeOf(e));return t.set(e,i),Object.keys(e).forEach(function(r){i[r]=Tu(e[r],t)}),i}default:return e}}function YS(e){var t=new Set([e]);return t.forEach(function(o){mt(o)&&XS(o)===o&&Object.getOwnPropertyNames(o).forEach(function(i){mt(o[i])&&t.add(o[i])})}),e}function XS(e){if(__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(t){if(t instanceof TypeError)return null;throw t}return e}function xu(e){return __DEV__&&YS(e),e}function On(e,t,o){var i=[];e.forEach(function(r){return r[t]&&i.push(r)}),i.forEach(function(r){return r[t](o)})}function Bl(e,t,o){return new nt(function(i){var r=i.next,n=i.error,s=i.complete,a=0,l=!1,c={then:function(f){return new Promise(function(g){return g(f())})}};function u(f,g){return f?function(y){++a;var T=function(){return f(y)};c=c.then(T,T).then(function(w){--a,r&&r.call(i,w),l&&d.complete()},function(w){throw--a,w}).catch(function(w){n&&n.call(i,w)})}:function(y){return g&&g.call(i,y)}}var d={next:u(t,r),error:u(o,n),complete:function(){l=!0,a||s&&s.call(i)}},p=e.subscribe(d);return function(){return p.unsubscribe()}})}var ri=typeof WeakMap=="function"&&no(function(){return navigator.product})!=="ReactNative",ZS=typeof WeakSet=="function",ly=typeof Symbol=="function"&&typeof Symbol.for=="function",Ga=ly&&Symbol.asyncIterator;no(function(){return window.document.createElement});no(function(){return navigator.userAgent.indexOf("jsdom")>=0});function cy(e){function t(o){Object.defineProperty(e,o,{value:nt})}return ly&&Symbol.species&&t(Symbol.species),t("@@species"),e}function ep(e){return e&&typeof e.then=="function"}var Tn=function(e){oo(t,e);function t(o){var i=e.call(this,function(r){return i.addObserver(r),function(){return i.removeObserver(r)}})||this;return i.observers=new Set,i.promise=new Promise(function(r,n){i.resolve=r,i.reject=n}),i.handlers={next:function(r){i.sub!==null&&(i.latest=["next",r],i.notify("next",r),On(i.observers,"next",r))},error:function(r){var n=i.sub;n!==null&&(n&&setTimeout(function(){return n.unsubscribe()}),i.sub=null,i.latest=["error",r],i.reject(r),i.notify("error",r),On(i.observers,"error",r))},complete:function(){var r=i,n=r.sub,s=r.sources,a=s===void 0?[]:s;if(n!==null){var l=a.shift();l?ep(l)?l.then(function(c){return i.sub=c.subscribe(i.handlers)}):i.sub=l.subscribe(i.handlers):(n&&setTimeout(function(){return n.unsubscribe()}),i.sub=null,i.latest&&i.latest[0]==="next"?i.resolve(i.latest[1]):i.resolve(),i.notify("complete"),On(i.observers,"complete"))}}},i.nextResultListeners=new Set,i.cancel=function(r){i.reject(r),i.sources=[],i.handlers.complete()},i.promise.catch(function(r){}),typeof o=="function"&&(o=[new nt(o)]),ep(o)?o.then(function(r){return i.start(r)},i.handlers.error):i.start(o),i}return t.prototype.start=function(o){this.sub===void 0&&(this.sources=Array.from(o),this.handlers.complete())},t.prototype.deliverLastMessage=function(o){if(this.latest){var i=this.latest[0],r=o[i];r&&r.call(o,this.latest[1]),this.sub===null&&i==="next"&&o.complete&&o.complete()}},t.prototype.addObserver=function(o){this.observers.has(o)||(this.deliverLastMessage(o),this.observers.add(o))},t.prototype.removeObserver=function(o){this.observers.delete(o)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(o,i){var r=this.nextResultListeners;r.size&&(this.nextResultListeners=new Set,r.forEach(function(n){return n(o,i)}))},t.prototype.beforeNext=function(o){var i=!1;this.nextResultListeners.add(function(r,n){i||(i=!0,o(r,n))})},t}(nt);cy(Tn);function Ni(e){return"incremental"in e}function eA(e){return"hasNext"in e&&"data"in e}function tA(e){return Ni(e)||eA(e)}function uy(e,t){var o=e,i=new Er;return Ni(t)&&co(t.incremental)&&t.incremental.forEach(function(r){for(var n=r.data,s=r.path,a=s.length-1;a>=0;--a){var l=s[a],c=!isNaN(+l),u=c?[]:{};u[l]=n,n=u}o=i.merge(o,n)}),o}function oa(e){var t=Iu(e);return co(t)}function Iu(e){var t=co(e.errors)?e.errors.slice(0):[];return Ni(e)&&co(e.incremental)&&e.incremental.forEach(function(o){o.errors&&t.push.apply(t,o.errors)}),t}function Ka(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=Object.create(null);return e.forEach(function(i){i&&Object.keys(i).forEach(function(r){var n=i[r];n!==void 0&&(o[r]=n)})}),o}var tp=new Map;function Du(e){var t=tp.get(e)||1;return tp.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function oA(e){var t=Du("stringifyForDisplay");return JSON.stringify(e,function(o,i){return i===void 0?t:i}).split(JSON.stringify(t)).join("<undefined>")}function Ll(e,t){return Ka(e,t,t.variables&&{variables:ce(ce({},e&&e.variables),t.variables)})}function op(e){return new nt(function(t){t.error(e)})}var Pu=function(e,t,o){var i=new Error(o);throw i.name="ServerError",i.response=e,i.statusCode=e.status,i.result=t,i};function rA(e){for(var t=["query","operationName","variables","extensions","context"],o=0,i=Object.keys(e);o<i.length;o++){var r=i[o];if(t.indexOf(r)<0)throw __DEV__?new Ze("illegal argument: ".concat(r)):new Ze(27)}return e}function iA(e,t){var o=ce({},e),i=function(n){typeof n=="function"?o=ce(ce({},o),n(o)):o=ce(ce({},o),n)},r=function(){return ce({},o)};return Object.defineProperty(t,"setContext",{enumerable:!1,value:i}),Object.defineProperty(t,"getContext",{enumerable:!1,value:r}),t}function nA(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName=typeof t.query!="string"?Au(t.query)||void 0:""),t}function rp(e,t){return t?t(e):nt.of()}function pn(e){return typeof e=="function"?new Ao(e):e}function Ms(e){return e.request.length<=1}var sA=function(e){oo(t,e);function t(o,i){var r=e.call(this,o)||this;return r.link=i,r}return t}(Error),Ao=function(){function e(t){t&&(this.request=t)}return e.empty=function(){return new e(function(){return nt.of()})},e.from=function(t){return t.length===0?e.empty():t.map(pn).reduce(function(o,i){return o.concat(i)})},e.split=function(t,o,i){var r=pn(o),n=pn(i||new e(rp));return Ms(r)&&Ms(n)?new e(function(s){return t(s)?r.request(s)||nt.of():n.request(s)||nt.of()}):new e(function(s,a){return t(s)?r.request(s,a)||nt.of():n.request(s,a)||nt.of()})},e.execute=function(t,o){return t.request(iA(o.context,nA(rA(o))))||nt.of()},e.concat=function(t,o){var i=pn(t);if(Ms(i))return __DEV__&&De.warn(new sA("You are calling concat on a terminating link, which will have no effect",i)),i;var r=pn(o);return Ms(r)?new e(function(n){return i.request(n,function(s){return r.request(s)||nt.of()})||nt.of()}):new e(function(n,s){return i.request(n,function(a){return r.request(a,s)||nt.of()})||nt.of()})},e.prototype.split=function(t,o,i){return this.concat(e.split(t,o,i||new e(rp)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(t,o){throw __DEV__?new Ze("request is not implemented"):new Ze(22)},e.prototype.onError=function(t,o){if(o&&o.error)return o.error(t),!1;throw t},e.prototype.setOnError=function(t){return this.onError=t,this},e}(),dy=Ao.from,aA=Ao.split,ku=Ao.execute,lA="3.7.10";function cA(e){return!!e.body}function uA(e){return!!e.getReader}function dA(e){return!!(Ga&&e[Symbol.asyncIterator])}function fA(e){return!!e.stream}function hA(e){return!!e.arrayBuffer}function pA(e){return!!e.pipe}function mA(e){var t,o=e[Symbol.asyncIterator]();return t={next:function(){return o.next()}},t[Symbol.asyncIterator]=function(){return this},t}function vA(e){var t=null,o=null,i=!1,r=[],n=[];function s(d){if(!o){if(n.length){var p=n.shift();if(Array.isArray(p)&&p[0])return p[0]({value:d,done:!1})}r.push(d)}}function a(d){o=d;var p=n.slice();p.forEach(function(f){f[1](d)}),!t||t()}function l(){i=!0;var d=n.slice();d.forEach(function(p){p[0]({value:void 0,done:!0})}),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",a),e.removeListener("end",l),e.removeListener("finish",l),e.removeListener("close",l)},e.on("data",s),e.on("error",a),e.on("end",l),e.on("finish",l),e.on("close",l);function c(){return new Promise(function(d,p){if(o)return p(o);if(r.length)return d({value:r.shift(),done:!1});if(i)return d({value:void 0,done:!0});n.push([d,p])})}var u={next:function(){return c()}};return Ga&&(u[Symbol.asyncIterator]=function(){return this}),u}function gA(e){var t=!1,o={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise(function(i,r){e.then(function(n){i({value:n,done:!1})}).catch(r)}))}};return Ga&&(o[Symbol.asyncIterator]=function(){return this}),o}function ip(e){var t={next:function(){return e.read()}};return Ga&&(t[Symbol.asyncIterator]=function(){return this}),t}function yA(e){var t=e;if(cA(e)&&(t=e.body),dA(t))return mA(t);if(uA(t))return ip(t.getReader());if(fA(t))return ip(t.stream().getReader());if(hA(t))return gA(t.arrayBuffer());if(pA(t))return vA(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var np=Object.prototype.hasOwnProperty;function bA(e,t){var o,i,r;return fr(this,void 0,void 0,function(){var n,s,a,l,c,u,d,p,f,g,y,T,w,_,x,D,M,J,V,W;return hr(this,function(P){switch(P.label){case 0:if(TextDecoder===void 0)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),s=(o=e.headers)===null||o===void 0?void 0:o.get("content-type"),a="boundary=",l=s!=null&&s.includes(a)?s==null?void 0:s.substring((s==null?void 0:s.indexOf(a))+a.length).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",c="--".concat(l),u="",d=yA(e),p=!0,P.label=1;case 1:return p?[4,d.next()]:[3,3];case 2:for(f=P.sent(),g=f.value,y=f.done,T=typeof g=="string"?g:n.decode(g),p=!y,u+=T,w=u.indexOf(c);w>-1;){if(_=void 0,W=[u.slice(0,w),u.slice(w+c.length)],_=W[0],u=W[1],_.trim()){if(x=_.indexOf(`\r
\r
`),D=wA(_.slice(0,x)),M=D["content-type"],M&&M.toLowerCase().indexOf("application/json")===-1)throw new Error("Unsupported patch content type: application/json is required.");J=_.slice(x);try{V=fy(e,J.replace(`\r
`,"")),(Object.keys(V).length>1||"data"in V||"incremental"in V||"errors"in V)&&((i=t.next)===null||i===void 0||i.call(t,V))}catch(ie){ef(ie,t)}}w=u.indexOf(c)}return[3,1];case 3:return(r=t.complete)===null||r===void 0||r.call(t),[2]}})})}function wA(e){var t={};return e.split(`
`).forEach(function(o){var i=o.indexOf(":");if(i>-1){var r=o.slice(0,i).trim().toLowerCase(),n=o.slice(i+1).trim();t[r]=n}}),t}function fy(e,t){if(e.status>=300){var o=function(){try{return JSON.parse(t)}catch{return t}};Pu(e,o(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(r){var i=r;throw i.name="ServerParseError",i.response=e,i.statusCode=e.status,i.bodyText=t,i}}function ef(e,t){var o,i;e.name!=="AbortError"&&(e.result&&e.result.errors&&e.result.data&&((o=t.next)===null||o===void 0||o.call(t,e.result)),(i=t.error)===null||i===void 0||i.call(t,e))}function EA(e,t,o){_A(t)(e).then(function(i){var r,n;(r=o.next)===null||r===void 0||r.call(o,i),(n=o.complete)===null||n===void 0||n.call(o)}).catch(function(i){return ef(i,o)})}function _A(e){return function(t){return t.text().then(function(o){return fy(t,o)}).then(function(o){return t.status>=300&&Pu(t,o,"Response not successful: Received status code ".concat(t.status)),!Array.isArray(o)&&!np.call(o,"data")&&!np.call(o,"errors")&&Pu(t,o,"Server response was missing for query '".concat(Array.isArray(e)?e.map(function(i){return i.operationName}):e.operationName,"'.")),o})}}var Ou=function(e,t){var o;try{o=JSON.stringify(e)}catch(r){var i=__DEV__?new Ze("Network request failed. ".concat(t," is not serializable: ").concat(r.message)):new Ze(24);throw i.parseError=r,i}return o},SA={includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},AA={accept:"*/*","content-type":"application/json"},NA={method:"POST"},CA={http:SA,headers:AA,options:NA},TA=function(e,t){return t(e)};function xA(e,t){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var r={},n={};o.forEach(function(d){r=ce(ce(ce({},r),d.options),{headers:ce(ce({},r.headers),d.headers)}),d.credentials&&(r.credentials=d.credentials),n=ce(ce({},n),d.http)}),r.headers&&(r.headers=IA(r.headers,n.preserveHeaderCase));var s=e.operationName,a=e.extensions,l=e.variables,c=e.query,u={operationName:s,variables:l};return n.includeExtensions&&(u.extensions=a),n.includeQuery&&(u.query=t(c,Yg)),{options:r,body:u}}function IA(e,t){if(!t){var o=Object.create(null);return Object.keys(Object(e)).forEach(function(n){o[n.toLowerCase()]=e[n]}),o}var i=Object.create(null);Object.keys(Object(e)).forEach(function(n){i[n.toLowerCase()]={originalName:n,value:e[n]}});var r=Object.create(null);return Object.keys(i).forEach(function(n){r[i[n].originalName]=i[n].value}),r}var DA=function(e){if(!e&&typeof fetch>"u")throw __DEV__?new Ze(`
"fetch" has not been found globally and no fetcher has been configured. To fix this, install a fetch package (like https://www.npmjs.com/package/cross-fetch), instantiate the fetcher, and pass it into your HttpLink constructor. For example:

import fetch from 'cross-fetch';
import { ApolloClient, HttpLink } from '@apollo/client';
const client = new ApolloClient({
  link: new HttpLink({ uri: '/graphql', fetch })
});
    `):new Ze(23)},PA=function(){if(typeof AbortController>"u")return{controller:!1,signal:!1};var e=new AbortController,t=e.signal;return{controller:e,signal:t}},kA=function(e,t){var o=e.getContext(),i=o.uri;return i||(typeof t=="function"?t(e):t||"/graphql")};function OA(e,t){var o=[],i=function(d,p){o.push("".concat(d,"=").concat(encodeURIComponent(p)))};if("query"in t&&i("query",t.query),t.operationName&&i("operationName",t.operationName),t.variables){var r=void 0;try{r=Ou(t.variables,"Variables map")}catch(d){return{parseError:d}}i("variables",r)}if(t.extensions){var n=void 0;try{n=Ou(t.extensions,"Extensions map")}catch(d){return{parseError:d}}i("extensions",n)}var s="",a=e,l=e.indexOf("#");l!==-1&&(s=e.substr(l),a=e.substr(0,l));var c=a.indexOf("?")===-1?"?":"&",u=a+c+o.join("&")+s;return{newURI:u}}var sp=no(function(){return fetch}),hy=function(e){e===void 0&&(e={});var t=e.uri,o=t===void 0?"/graphql":t,i=e.fetch,r=e.print,n=r===void 0?TA:r,s=e.includeExtensions,a=e.preserveHeaderCase,l=e.useGETForQueries,c=e.includeUnusedVariables,u=c===void 0?!1:c,d=Xr(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);__DEV__&&DA(i||sp);var p={http:{includeExtensions:s,preserveHeaderCase:a},options:d.fetchOptions,credentials:d.credentials,headers:d.headers};return new Ao(function(f){var g=kA(f,o),y=f.getContext(),T={};if(y.clientAwareness){var w=y.clientAwareness,_=w.name,x=w.version;_&&(T["apollographql-client-name"]=_),x&&(T["apollographql-client-version"]=x)}var D=ce(ce({},T),y.headers),M={http:y.http,options:y.fetchOptions,credentials:y.credentials,headers:D},J=xA(f,n,CA,p,M),V=J.options,W=J.body;if(W.variables&&!u){var P=new Set(Object.keys(W.variables));Yo(f.query,{Variable:function(pe,le,be){be&&be.kind!=="VariableDefinition"&&P.delete(pe.name.value)}}),P.size&&(W.variables=ce({},W.variables),P.forEach(function(pe){delete W.variables[pe]}))}var ie;if(!V.signal){var fe=PA(),B=fe.controller,Z=fe.signal;ie=B,ie&&(V.signal=Z)}var I=function(pe){return pe.kind==="OperationDefinition"&&pe.operation==="mutation"};if(l&&!f.query.definitions.some(I)&&(V.method="GET"),jd(["defer"],f.query)&&(V.headers=V.headers||{},V.headers.accept="multipart/mixed; deferSpec=20220824, application/json"),V.method==="GET"){var ne=OA(g,W),me=ne.newURI,X=ne.parseError;if(X)return op(X);g=me}else try{V.body=Ou(W,"Payload")}catch(pe){return op(pe)}return new nt(function(pe){var le=i||no(function(){return fetch})||sp;return le(g,V).then(function(be){var ee;f.setContext({response:be});var F=(ee=be.headers)===null||ee===void 0?void 0:ee.get("content-type");return F!==null&&/^multipart\/mixed/i.test(F)?bA(be,pe):EA(be,f,pe)}).catch(function(be){return ef(be,pe)}),function(){ie&&ie.abort()}})})},RA=function(e){oo(t,e);function t(o){o===void 0&&(o={});var i=e.call(this,hy(o).request)||this;return i.options=o,i}return t}(Ao),py=Object.prototype,ap=py.toString,MA=py.hasOwnProperty,lp=Function.prototype.toString,Ru=new Map;function xt(e,t){try{return Mu(e,t)}finally{Ru.clear()}}function Mu(e,t){if(e===t)return!0;var o=ap.call(e),i=ap.call(t);if(o!==i)return!1;switch(o){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(up(e,t))return!0;var r=cp(e),n=cp(t),s=r.length;if(s!==n.length)return!1;for(var a=0;a<s;++a)if(!MA.call(t,r[a]))return!1;for(var a=0;a<s;++a){var l=r[a];if(!Mu(e[l],t[l]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e==+t;case"[object RegExp]":case"[object String]":return e=="".concat(t);case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(up(e,t))return!0;for(var c=e.entries(),u=o==="[object Map]";;){var d=c.next();if(d.done)break;var p=d.value,f=p[0],g=p[1];if(!t.has(f)||u&&!Mu(g,t.get(f)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{var y=e.byteLength;if(y===t.byteLength)for(;y--&&e[y]===t[y];);return y===-1}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{var T=lp.call(e);return T!==lp.call(t)?!1:!LA(T,BA)}}return!1}function cp(e){return Object.keys(e).filter(FA,e)}function FA(e){return this[e]!==void 0}var BA="{ [native code] }";function LA(e,t){var o=e.length-t.length;return o>=0&&e.indexOf(t,o)===o}function up(e,t){var o=Ru.get(e);if(o){if(o.has(t))return!0}else Ru.set(e,o=new Set);return o.add(t),!1}var $A=function(){return Object.create(null)},my=Array.prototype,UA=my.forEach,qA=my.slice,ss=function(){function e(t,o){t===void 0&&(t=!0),o===void 0&&(o=$A),this.weakness=t,this.makeData=o}return e.prototype.lookup=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return this.lookupArray(t)},e.prototype.lookupArray=function(t){var o=this;return UA.call(t,function(i){return o=o.getChildTrie(i)}),o.data||(o.data=this.makeData(qA.call(t)))},e.prototype.getChildTrie=function(t){var o=this.weakness&&jA(t)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=o.get(t);return i||o.set(t,i=new e(this.weakness,this.makeData)),i},e}();function jA(e){switch(typeof e){case"object":if(e===null)break;case"function":return!0}return!1}var Lt=null,dp={},zA=1,VA=function(){return function(){function e(){this.id=["slot",zA++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var t=Lt;t;t=t.parent)if(this.id in t.slots){var o=t.slots[this.id];if(o===dp)break;return t!==Lt&&(Lt.slots[this.id]=o),!0}return Lt&&(Lt.slots[this.id]=dp),!1},e.prototype.getValue=function(){if(this.hasValue())return Lt.slots[this.id]},e.prototype.withValue=function(t,o,i,r){var n,s=(n={__proto__:null},n[this.id]=t,n),a=Lt;Lt={parent:a,slots:s};try{return o.apply(r,i)}finally{Lt=a}},e.bind=function(t){var o=Lt;return function(){var i=Lt;try{return Lt=o,t.apply(this,arguments)}finally{Lt=i}}},e.noContext=function(t,o,i){if(Lt){var r=Lt;try{return Lt=null,t.apply(i,o)}finally{Lt=r}}else return t.apply(i,o)},e}()};function fp(e){try{return e()}catch{}}var $l="@wry/context:Slot",HA=fp(function(){return globalThis})||fp(function(){return global})||Object.create(null),hp=HA,Ja=hp[$l]||Array[$l]||function(e){try{Object.defineProperty(hp,$l,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(VA());Ja.bind;Ja.noContext;function WA(){}var QA=function(){function e(t,o){t===void 0&&(t=1/0),o===void 0&&(o=WA),this.max=t,this.dispose=o,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(t){return this.map.has(t)},e.prototype.get=function(t){var o=this.getNode(t);return o&&o.value},e.prototype.getNode=function(t){var o=this.map.get(t);if(o&&o!==this.newest){var i=o.older,r=o.newer;r&&(r.older=i),i&&(i.newer=r),o.older=this.newest,o.older.newer=o,o.newer=null,this.newest=o,o===this.oldest&&(this.oldest=r)}return o},e.prototype.set=function(t,o){var i=this.getNode(t);return i?i.value=o:(i={key:t,value:o,newer:null,older:this.newest},this.newest&&(this.newest.newer=i),this.newest=i,this.oldest=this.oldest||i,this.map.set(t,i),i.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(t){var o=this.map.get(t);return o?(o===this.newest&&(this.newest=o.older),o===this.oldest&&(this.oldest=o.newer),o.newer&&(o.newer.older=o.older),o.older&&(o.older.newer=o.newer),this.map.delete(t),this.dispose(o.value,t),!0):!1},e}(),Ya=new Ja,Ul,GA=Object.prototype.hasOwnProperty,tf=(Ul=Array.from,Ul===void 0?function(e){var t=[];return e.forEach(function(o){return t.push(o)}),t}:Ul);function wa(e){var t=e.unsubscribe;typeof t=="function"&&(e.unsubscribe=void 0,t())}var Kn=[],KA=100;function Fi(e,t){if(!e)throw new Error(t||"assertion failure")}function JA(e,t){var o=e.length;return o>0&&o===t.length&&e[o-1]===t[o-1]}function vy(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function YA(e){return e.slice(0)}var XA=function(){function e(t){this.fn=t,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++e.count}return e.prototype.peek=function(){if(this.value.length===1&&!_r(this))return pp(this),this.value[0]},e.prototype.recompute=function(t){return Fi(!this.recomputing,"already recomputing"),pp(this),_r(this)?ZA(this,t):vy(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,gy(this),wa(this))},e.prototype.dispose=function(){var t=this;this.setDirty(),_y(this),of(this,function(o,i){o.setDirty(),Sy(o,t)})},e.prototype.forget=function(){this.dispose()},e.prototype.dependOn=function(t){t.add(this),this.deps||(this.deps=Kn.pop()||new Set),this.deps.add(t)},e.prototype.forgetDeps=function(){var t=this;this.deps&&(tf(this.deps).forEach(function(o){return o.delete(t)}),this.deps.clear(),Kn.push(this.deps),this.deps=null)},e.count=0,e}();function pp(e){var t=Ya.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),_r(e)?by(t,e):wy(t,e),t}function ZA(e,t){return _y(e),Ya.withValue(e,eN,[e,t]),oN(e,t)&&tN(e),vy(e.value)}function eN(e,t){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,t)}catch(o){e.value[1]=o}e.recomputing=!1}function _r(e){return e.dirty||!!(e.dirtyChildren&&e.dirtyChildren.size)}function tN(e){e.dirty=!1,!_r(e)&&yy(e)}function gy(e){of(e,by)}function yy(e){of(e,wy)}function of(e,t){var o=e.parents.size;if(o)for(var i=tf(e.parents),r=0;r<o;++r)t(i[r],e)}function by(e,t){Fi(e.childValues.has(t)),Fi(_r(t));var o=!_r(e);if(!e.dirtyChildren)e.dirtyChildren=Kn.pop()||new Set;else if(e.dirtyChildren.has(t))return;e.dirtyChildren.add(t),o&&gy(e)}function wy(e,t){Fi(e.childValues.has(t)),Fi(!_r(t));var o=e.childValues.get(t);o.length===0?e.childValues.set(t,YA(t.value)):JA(o,t.value)||e.setDirty(),Ey(e,t),!_r(e)&&yy(e)}function Ey(e,t){var o=e.dirtyChildren;o&&(o.delete(t),o.size===0&&(Kn.length<KA&&Kn.push(o),e.dirtyChildren=null))}function _y(e){e.childValues.size>0&&e.childValues.forEach(function(t,o){Sy(e,o)}),e.forgetDeps(),Fi(e.dirtyChildren===null)}function Sy(e,t){t.parents.delete(e),e.childValues.delete(t),Ey(e,t)}function oN(e,t){if(typeof e.subscribe=="function")try{wa(e),e.unsubscribe=e.subscribe.apply(null,t)}catch{return e.setDirty(),!1}return!0}var rN={setDirty:!0,dispose:!0,forget:!0};function Ay(e){var t=new Map,o=e&&e.subscribe;function i(r){var n=Ya.getValue();if(n){var s=t.get(r);s||t.set(r,s=new Set),n.dependOn(s),typeof o=="function"&&(wa(s),s.unsubscribe=o(r))}}return i.dirty=function(n,s){var a=t.get(n);if(a){var l=s&&GA.call(rN,s)?s:"setDirty";tf(a).forEach(function(c){return c[l]()}),t.delete(n),wa(a)}},i}function Ny(){var e=new ss(typeof WeakMap=="function");return function(){return e.lookupArray(arguments)}}Ny();var ql=new Set;function Ea(e,t){t===void 0&&(t=Object.create(null));var o=new QA(t.max||Math.pow(2,16),function(c){return c.dispose()}),i=t.keyArgs,r=t.makeCacheKey||Ny(),n=function(){var c=r.apply(null,i?i.apply(null,arguments):arguments);if(c===void 0)return e.apply(null,arguments);var u=o.get(c);u||(o.set(c,u=new XA(e)),u.subscribe=t.subscribe,u.forget=function(){return o.delete(c)});var d=u.recompute(Array.prototype.slice.call(arguments));return o.set(c,u),ql.add(o),Ya.hasValue()||(ql.forEach(function(p){return p.clean()}),ql.clear()),d};Object.defineProperty(n,"size",{get:function(){return o.map.size},configurable:!1,enumerable:!1});function s(c){var u=o.get(c);u&&u.setDirty()}n.dirtyKey=s,n.dirty=function(){s(r.apply(null,arguments))};function a(c){var u=o.get(c);if(u)return u.peek()}n.peekKey=a,n.peek=function(){return a(r.apply(null,arguments))};function l(c){return o.delete(c)}return n.forgetKey=l,n.forget=function(){return l(r.apply(null,arguments))},n.makeCacheKey=r,n.getKey=i?function(){return r.apply(null,i.apply(null,arguments))}:r,Object.freeze(n)}var iN=function(){function e(){this.getFragmentDoc=Ea(yS)}return e.prototype.batch=function(t){var o=this,i=typeof t.optimistic=="string"?t.optimistic:t.optimistic===!1?null:void 0,r;return this.performTransaction(function(){return r=t.update(o)},i),r},e.prototype.recordOptimisticTransaction=function(t,o){this.performTransaction(t,o)},e.prototype.transformDocument=function(t){return t},e.prototype.transformForLink=function(t){return t},e.prototype.identify=function(t){},e.prototype.gc=function(){return[]},e.prototype.modify=function(t){return!1},e.prototype.readQuery=function(t,o){return o===void 0&&(o=!!t.optimistic),this.read(ce(ce({},t),{rootId:t.id||"ROOT_QUERY",optimistic:o}))},e.prototype.readFragment=function(t,o){return o===void 0&&(o=!!t.optimistic),this.read(ce(ce({},t),{query:this.getFragmentDoc(t.fragment,t.fragmentName),rootId:t.id,optimistic:o}))},e.prototype.writeQuery=function(t){var o=t.id,i=t.data,r=Xr(t,["id","data"]);return this.write(Object.assign(r,{dataId:o||"ROOT_QUERY",result:i}))},e.prototype.writeFragment=function(t){var o=t.id,i=t.data,r=t.fragment,n=t.fragmentName,s=Xr(t,["id","data","fragment","fragmentName"]);return this.write(Object.assign(s,{query:this.getFragmentDoc(r,n),dataId:o,result:i}))},e.prototype.updateQuery=function(t,o){return this.batch({update:function(i){var r=i.readQuery(t),n=o(r);return n==null?r:(i.writeQuery(ce(ce({},t),{data:n})),n)}})},e.prototype.updateFragment=function(t,o){return this.batch({update:function(i){var r=i.readFragment(t),n=o(r);return n==null?r:(i.writeFragment(ce(ce({},t),{data:n})),n)}})},e}(),Cy=function(e){oo(t,e);function t(o,i,r,n){var s,a=e.call(this,o)||this;if(a.message=o,a.path=i,a.query=r,a.variables=n,Array.isArray(a.path)){a.missing=a.message;for(var l=a.path.length-1;l>=0;--l)a.missing=(s={},s[a.path[l]]=a.missing,s)}else a.missing=a.path;return a.__proto__=t.prototype,a}return t}(Error),Pt=Object.prototype.hasOwnProperty;function mn(e){return e==null}function Ty(e,t){var o=e.__typename,i=e.id,r=e._id;if(typeof o=="string"&&(t&&(t.keyObject=mn(i)?mn(r)?void 0:{_id:r}:{id:i}),mn(i)&&!mn(r)&&(i=r),!mn(i)))return"".concat(o,":").concat(typeof i=="number"||typeof i=="string"?i:JSON.stringify(i))}var xy={dataIdFromObject:Ty,addTypename:!0,resultCaching:!0,canonizeResults:!1};function nN(e){return Ka(xy,e)}function Iy(e){var t=e.canonizeResults;return t===void 0?xy.canonizeResults:t}function sN(e,t){return ot(t)?e.get(t.__ref,"__typename"):t&&t.__typename}var Dy=/^[_a-z][_0-9a-z]*/i;function Sr(e){var t=e.match(Dy);return t?t[0]:e}function Fu(e,t,o){return mt(t)?vt(t)?t.every(function(i){return Fu(e,i,o)}):e.selections.every(function(i){if(ti(i)&&Va(i,o)){var r=ei(i);return Pt.call(t,r)&&(!i.selectionSet||Fu(i.selectionSet,t[r],o))}return!0}):!1}function gi(e){return mt(e)&&!ot(e)&&!vt(e)}function aN(){return new Er}function Py(e,t){var o=zd(Wd(e));return{fragmentMap:o,lookupFragment:function(i){var r=o[i];return!r&&t&&(r=t.lookup(i)),r||null}}}var ra=Object.create(null),jl=function(){return ra},mp=Object.create(null),Jn=function(){function e(t,o){var i=this;this.policies=t,this.group=o,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(r,n){return xu(ot(r)?i.get(r.__ref,n):r&&r[n])},this.canRead=function(r){return ot(r)?i.has(r.__ref):typeof r=="object"},this.toReference=function(r,n){if(typeof r=="string")return Ai(r);if(ot(r))return r;var s=i.policies.identify(r)[0];if(s){var a=Ai(s);return n&&i.merge(s,r),a}}}return e.prototype.toObject=function(){return ce({},this.data)},e.prototype.has=function(t){return this.lookup(t,!0)!==void 0},e.prototype.get=function(t,o){if(this.group.depend(t,o),Pt.call(this.data,t)){var i=this.data[t];if(i&&Pt.call(i,o))return i[o]}if(o==="__typename"&&Pt.call(this.policies.rootTypenamesById,t))return this.policies.rootTypenamesById[t];if(this instanceof cr)return this.parent.get(t,o)},e.prototype.lookup=function(t,o){if(o&&this.group.depend(t,"__exists"),Pt.call(this.data,t))return this.data[t];if(this instanceof cr)return this.parent.lookup(t,o);if(this.policies.rootTypenamesById[t])return Object.create(null)},e.prototype.merge=function(t,o){var i=this,r;ot(t)&&(t=t.__ref),ot(o)&&(o=o.__ref);var n=typeof t=="string"?this.lookup(r=t):t,s=typeof o=="string"?this.lookup(r=o):o;if(s){__DEV__?De(typeof r=="string","store.merge expects a string ID"):De(typeof r=="string",1);var a=new Er(cN).merge(n,s);if(this.data[r]=a,a!==n&&(delete this.refs[r],this.group.caching)){var l=Object.create(null);n||(l.__exists=1),Object.keys(s).forEach(function(c){if(!n||n[c]!==a[c]){l[c]=1;var u=Sr(c);u!==c&&!i.policies.hasKeyArgs(a.__typename,u)&&(l[u]=1),a[c]===void 0&&!(i instanceof cr)&&delete a[c]}}),l.__typename&&!(n&&n.__typename)&&this.policies.rootTypenamesById[r]===a.__typename&&delete l.__typename,Object.keys(l).forEach(function(c){return i.group.dirty(r,c)})}}},e.prototype.modify=function(t,o){var i=this,r=this.lookup(t);if(r){var n=Object.create(null),s=!1,a=!0,l={DELETE:ra,INVALIDATE:mp,isReference:ot,toReference:this.toReference,canRead:this.canRead,readField:function(c,u){return i.policies.readField(typeof c=="string"?{fieldName:c,from:u||Ai(t)}:c,{store:i})}};if(Object.keys(r).forEach(function(c){var u=Sr(c),d=r[c];if(d!==void 0){var p=typeof o=="function"?o:o[c]||o[u];if(p){var f=p===jl?ra:p(xu(d),ce(ce({},l),{fieldName:u,storeFieldName:c,storage:i.getStorage(t,c)}));f===mp?i.group.dirty(t,c):(f===ra&&(f=void 0),f!==d&&(n[c]=f,s=!0,d=f))}d!==void 0&&(a=!1)}}),s)return this.merge(t,n),a&&(this instanceof cr?this.data[t]=void 0:delete this.data[t],this.group.dirty(t,"__exists")),!0}return!1},e.prototype.delete=function(t,o,i){var r,n=this.lookup(t);if(n){var s=this.getFieldValue(n,"__typename"),a=o&&i?this.policies.getStoreFieldName({typename:s,fieldName:o,args:i}):o;return this.modify(t,a?(r={},r[a]=jl,r):jl)}return!1},e.prototype.evict=function(t,o){var i=!1;return t.id&&(Pt.call(this.data,t.id)&&(i=this.delete(t.id,t.fieldName,t.args)),this instanceof cr&&this!==o&&(i=this.parent.evict(t,o)||i),(t.fieldName||i)&&this.group.dirty(t.id,t.fieldName||"__exists")),i},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var t=this,o=this.toObject(),i=[];return this.getRootIdSet().forEach(function(r){Pt.call(t.policies.rootTypenamesById,r)||i.push(r)}),i.length&&(o.__META={extraRootIds:i.sort()}),o},e.prototype.replace=function(t){var o=this;if(Object.keys(this.data).forEach(function(n){t&&Pt.call(t,n)||o.delete(n)}),t){var i=t.__META,r=Xr(t,["__META"]);Object.keys(r).forEach(function(n){o.merge(n,r[n])}),i&&i.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(t){return this.rootIds[t]=(this.rootIds[t]||0)+1},e.prototype.release=function(t){if(this.rootIds[t]>0){var o=--this.rootIds[t];return o||delete this.rootIds[t],o}return 0},e.prototype.getRootIdSet=function(t){return t===void 0&&(t=new Set),Object.keys(this.rootIds).forEach(t.add,t),this instanceof cr?this.parent.getRootIdSet(t):Object.keys(this.policies.rootTypenamesById).forEach(t.add,t),t},e.prototype.gc=function(){var t=this,o=this.getRootIdSet(),i=this.toObject();o.forEach(function(s){Pt.call(i,s)&&(Object.keys(t.findChildRefIds(s)).forEach(o.add,o),delete i[s])});var r=Object.keys(i);if(r.length){for(var n=this;n instanceof cr;)n=n.parent;r.forEach(function(s){return n.delete(s)})}return r},e.prototype.findChildRefIds=function(t){if(!Pt.call(this.refs,t)){var o=this.refs[t]=Object.create(null),i=this.data[t];if(!i)return o;var r=new Set([i]);r.forEach(function(n){ot(n)&&(o[n.__ref]=!0),mt(n)&&Object.keys(n).forEach(function(s){var a=n[s];mt(a)&&r.add(a)})})}return this.refs[t]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),ky=function(){function e(t,o){o===void 0&&(o=null),this.caching=t,this.parent=o,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?Ay():null,this.keyMaker=new ss(ri)},e.prototype.depend=function(t,o){if(this.d){this.d(zl(t,o));var i=Sr(o);i!==o&&this.d(zl(t,i)),this.parent&&this.parent.depend(t,o)}},e.prototype.dirty=function(t,o){this.d&&this.d.dirty(zl(t,o),o==="__exists"?"forget":"setDirty")},e}();function zl(e,t){return t+"#"+e}function vp(e,t){Rn(e)&&e.group.depend(t,"__exists")}(function(e){var t=function(o){oo(i,o);function i(r){var n=r.policies,s=r.resultCaching,a=s===void 0?!0:s,l=r.seed,c=o.call(this,n,new ky(a))||this;return c.stump=new lN(c),c.storageTrie=new ss(ri),l&&c.replace(l),c}return i.prototype.addLayer=function(r,n){return this.stump.addLayer(r,n)},i.prototype.removeLayer=function(){return this},i.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},i}(e);e.Root=t})(Jn||(Jn={}));var cr=function(e){oo(t,e);function t(o,i,r,n){var s=e.call(this,i.policies,n)||this;return s.id=o,s.parent=i,s.replay=r,s.group=n,r(s),s}return t.prototype.addLayer=function(o,i){return new t(o,this,i,this.group)},t.prototype.removeLayer=function(o){var i=this,r=this.parent.removeLayer(o);return o===this.id?(this.group.caching&&Object.keys(this.data).forEach(function(n){var s=i.data[n],a=r.lookup(n);a?s?s!==a&&Object.keys(s).forEach(function(l){xt(s[l],a[l])||i.group.dirty(n,l)}):(i.group.dirty(n,"__exists"),Object.keys(a).forEach(function(l){i.group.dirty(n,l)})):i.delete(n)}),r):r===this.parent?this:r.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return ce(ce({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(o){var i=this.parent.findChildRefIds(o);return Pt.call(this.data,o)?ce(ce({},i),e.prototype.findChildRefIds.call(this,o)):i},t.prototype.getStorage=function(){for(var o=this.parent;o.parent;)o=o.parent;return o.getStorage.apply(o,arguments)},t}(Jn),lN=function(e){oo(t,e);function t(o){return e.call(this,"EntityStore.Stump",o,function(){},new ky(o.group.caching,o.group))||this}return t.prototype.removeLayer=function(){return this},t.prototype.merge=function(){return this.parent.merge.apply(this.parent,arguments)},t}(cr);function cN(e,t,o){var i=e[o],r=t[o];return xt(i,r)?i:r}function Rn(e){return!!(e instanceof Jn&&e.group.caching)}function uN(e){return mt(e)?vt(e)?e.slice(0):ce({__proto__:Object.getPrototypeOf(e)},e):e}var Bu=function(){function e(){this.known=new(ZS?WeakSet:Set),this.pool=new ss(ri),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(t){return mt(t)&&this.known.has(t)},e.prototype.pass=function(t){if(mt(t)){var o=uN(t);return this.passes.set(o,t),o}return t},e.prototype.admit=function(t){var o=this;if(mt(t)){var i=this.passes.get(t);if(i)return i;var r=Object.getPrototypeOf(t);switch(r){case Array.prototype:{if(this.known.has(t))return t;var n=t.map(this.admit,this),s=this.pool.lookupArray(n);return s.array||(this.known.add(s.array=n),__DEV__&&Object.freeze(n)),s.array}case null:case Object.prototype:{if(this.known.has(t))return t;var a=Object.getPrototypeOf(t),l=[a],c=this.sortedKeys(t);l.push(c.json);var u=l.length;c.sorted.forEach(function(f){l.push(o.admit(t[f]))});var s=this.pool.lookupArray(l);if(!s.object){var d=s.object=Object.create(a);this.known.add(d),c.sorted.forEach(function(f,g){d[f]=l[u+g]}),__DEV__&&Object.freeze(d)}return s.object}}}return t},e.prototype.sortedKeys=function(t){var o=Object.keys(t),i=this.pool.lookupArray(o);if(!i.keys){o.sort();var r=JSON.stringify(o);(i.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,i.keys={sorted:o,json:r})}return i.keys},e}(),Kr=Object.assign(function(e){if(mt(e)){Lu===void 0&&gp();var t=Lu.admit(e),o=$u.get(t);return o===void 0&&$u.set(t,o=JSON.stringify(t)),o}return JSON.stringify(e)},{reset:gp}),Lu,$u;function gp(){Lu=new Bu,$u=new(ri?WeakMap:Map)}function yp(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var dN=function(){function e(t){var o=this;this.knownResults=new(ri?WeakMap:Map),this.config=Ka(t,{addTypename:t.addTypename!==!1,canonizeResults:Iy(t)}),this.canon=t.canon||new Bu,this.executeSelectionSet=Ea(function(i){var r,n=i.context.canonizeResults,s=yp(i);s[3]=!n;var a=(r=o.executeSelectionSet).peek.apply(r,s);return a?n?ce(ce({},a),{result:o.canon.admit(a.result)}):a:(vp(i.context.store,i.enclosingRef.__ref),o.execSelectionSetImpl(i))},{max:this.config.resultCacheMaxSize,keyArgs:yp,makeCacheKey:function(i,r,n,s){if(Rn(n.store))return n.store.makeCacheKey(i,ot(r)?r.__ref:r,n.varString,s)}}),this.executeSubSelectedArray=Ea(function(i){return vp(i.context.store,i.enclosingRef.__ref),o.execSubSelectedArrayImpl(i)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(i){var r=i.field,n=i.array,s=i.context;if(Rn(s.store))return s.store.makeCacheKey(r,n,s.varString)}})}return e.prototype.resetCanon=function(){this.canon=new Bu},e.prototype.diffQueryAgainstStore=function(t){var o=t.store,i=t.query,r=t.rootId,n=r===void 0?"ROOT_QUERY":r,s=t.variables,a=t.returnPartialData,l=a===void 0?!0:a,c=t.canonizeResults,u=c===void 0?this.config.canonizeResults:c,d=this.config.cache.policies;s=ce(ce({},Qd(ty(i))),s);var p=Ai(n),f=this.executeSelectionSet({selectionSet:Qa(i).selectionSet,objectOrReference:p,enclosingRef:p,context:ce({store:o,query:i,policies:d,variables:s,varString:Kr(s),canonizeResults:u},Py(i,this.config.fragments))}),g;if(f.missing&&(g=[new Cy(fN(f.missing),f.missing,i,s)],!l))throw g[0];return{result:f.result,complete:!g,missing:g}},e.prototype.isFresh=function(t,o,i,r){if(Rn(r.store)&&this.knownResults.get(t)===i){var n=this.executeSelectionSet.peek(i,o,r,this.canon.isKnown(t));if(n&&t===n.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(t){var o=this,i=t.selectionSet,r=t.objectOrReference,n=t.enclosingRef,s=t.context;if(ot(r)&&!s.policies.rootTypenamesById[r.__ref]&&!s.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var a=s.variables,l=s.policies,c=s.store,u=c.getFieldValue(r,"__typename"),d=[],p,f=new Er;this.config.addTypename&&typeof u=="string"&&!l.rootIdsByTypename[u]&&d.push({__typename:u});function g(x,D){var M;return x.missing&&(p=f.merge(p,(M={},M[D]=x.missing,M))),x.result}var y=new Set(i.selections);y.forEach(function(x){var D,M;if(Va(x,a))if(ti(x)){var J=l.readField({fieldName:x.name.value,field:x,variables:s.variables,from:r},s),V=ei(x);J===void 0?Gd.added(x)||(p=f.merge(p,(D={},D[V]="Can't find field '".concat(x.name.value,"' on ").concat(ot(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),D))):vt(J)?J=g(o.executeSubSelectedArray({field:x,array:J,enclosingRef:n,context:s}),V):x.selectionSet?J!=null&&(J=g(o.executeSelectionSet({selectionSet:x.selectionSet,objectOrReference:J,enclosingRef:ot(J)?J:n,context:s}),V)):s.canonizeResults&&(J=o.canon.pass(J)),J!==void 0&&d.push((M={},M[V]=J,M))}else{var W=Vd(x,s.lookupFragment);if(!W&&x.kind===ke.FRAGMENT_SPREAD)throw __DEV__?new Ze("No fragment named ".concat(x.name.value)):new Ze(5);W&&l.fragmentMatches(W,u)&&W.selectionSet.selections.forEach(y.add,y)}});var T=Kd(d),w={result:T,missing:p},_=s.canonizeResults?this.canon.admit(w):xu(w);return _.result&&this.knownResults.set(_.result,i),_},e.prototype.execSubSelectedArrayImpl=function(t){var o=this,i=t.field,r=t.array,n=t.enclosingRef,s=t.context,a,l=new Er;function c(u,d){var p;return u.missing&&(a=l.merge(a,(p={},p[d]=u.missing,p))),u.result}return i.selectionSet&&(r=r.filter(s.store.canRead)),r=r.map(function(u,d){return u===null?null:vt(u)?c(o.executeSubSelectedArray({field:i,array:u,enclosingRef:n,context:s}),d):i.selectionSet?c(o.executeSelectionSet({selectionSet:i.selectionSet,objectOrReference:u,enclosingRef:ot(u)?u:n,context:s}),d):(__DEV__&&hN(s.store,i,u),u)}),{result:s.canonizeResults?this.canon.admit(r):r,missing:a}},e}();function fN(e){try{JSON.stringify(e,function(t,o){if(typeof o=="string")throw o;return o})}catch(t){return t}}function hN(e,t,o){if(!t.selectionSet){var i=new Set([o]);i.forEach(function(r){mt(r)&&(__DEV__?De(!ot(r),"Missing selection set for object of type ".concat(sN(e,r)," returned for query field ").concat(t.name.value)):De(!ot(r),6),Object.values(r).forEach(i.add,i))})}}var rf=new Ja,bp=new WeakMap;function Mn(e){var t=bp.get(e);return t||bp.set(e,t={vars:new Set,dep:Ay()}),t}function wp(e){Mn(e).vars.forEach(function(t){return t.forgetCache(e)})}function pN(e){Mn(e).vars.forEach(function(t){return t.attachCache(e)})}function mN(e){var t=new Set,o=new Set,i=function(n){if(arguments.length>0){if(e!==n){e=n,t.forEach(function(l){Mn(l).dep.dirty(i),vN(l)});var s=Array.from(o);o.clear(),s.forEach(function(l){return l(e)})}}else{var a=rf.getValue();a&&(r(a),Mn(a).dep(i))}return e};i.onNextChange=function(n){return o.add(n),function(){o.delete(n)}};var r=i.attachCache=function(n){return t.add(n),Mn(n).vars.add(i),i};return i.forgetCache=function(n){return t.delete(n)},i}function vN(e){e.broadcastWatches&&e.broadcastWatches()}var Ep=Object.create(null);function nf(e){var t=JSON.stringify(e);return Ep[t]||(Ep[t]=Object.create(null))}function _p(e){var t=nf(e);return t.keyFieldsFn||(t.keyFieldsFn=function(o,i){var r=function(s,a){return i.readField(a,s)},n=i.keyObject=sf(e,function(s){var a=Ci(i.storeObject,s,r);return a===void 0&&o!==i.storeObject&&Pt.call(o,s[0])&&(a=Ci(o,s,Ry)),__DEV__?De(a!==void 0,"Missing field '".concat(s.join("."),"' while extracting keyFields from ").concat(JSON.stringify(o))):De(a!==void 0,2),a});return"".concat(i.typename,":").concat(JSON.stringify(n))})}function Sp(e){var t=nf(e);return t.keyArgsFn||(t.keyArgsFn=function(o,i){var r=i.field,n=i.variables,s=i.fieldName,a=sf(e,function(c){var u=c[0],d=u.charAt(0);if(d==="@"){if(r&&co(r.directives)){var p=u.slice(1),f=r.directives.find(function(w){return w.name.value===p}),g=f&&Ha(f,n);return g&&Ci(g,c.slice(1))}return}if(d==="$"){var y=u.slice(1);if(n&&Pt.call(n,y)){var T=c.slice(0);return T[0]=y,Ci(n,T)}return}if(o)return Ci(o,c)}),l=JSON.stringify(a);return(o||l!=="{}")&&(s+=":"+l),s})}function sf(e,t){var o=new Er;return Oy(e).reduce(function(i,r){var n,s=t(r);if(s!==void 0){for(var a=r.length-1;a>=0;--a)s=(n={},n[r[a]]=s,n);i=o.merge(i,s)}return i},Object.create(null))}function Oy(e){var t=nf(e);if(!t.paths){var o=t.paths=[],i=[];e.forEach(function(r,n){vt(r)?(Oy(r).forEach(function(s){return o.push(i.concat(s))}),i.length=0):(i.push(r),vt(e[n+1])||(o.push(i.slice(0)),i.length=0))})}return t.paths}function Ry(e,t){return e[t]}function Ci(e,t,o){return o=o||Ry,My(t.reduce(function i(r,n){return vt(r)?r.map(function(s){return i(s,n)}):r&&o(r,n)},e))}function My(e){return mt(e)?vt(e)?e.map(My):sf(Object.keys(e).sort(),function(t){return Ci(e,t)}):e}Hd.setStringify(Kr);function Uu(e){return e.args!==void 0?e.args:e.field?Ha(e.field,e.variables):null}var gN=function(){},Ap=function(e,t){return t.fieldName},Np=function(e,t,o){var i=o.mergeObjects;return i(e,t)},Cp=function(e,t){return t},yN=function(){function e(t){this.config=t,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=ce({dataIdFromObject:Ty},t),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),t.possibleTypes&&this.addPossibleTypes(t.possibleTypes),t.typePolicies&&this.addTypePolicies(t.typePolicies)}return e.prototype.identify=function(t,o){var i,r=this,n=o&&(o.typename||((i=o.storeObject)===null||i===void 0?void 0:i.__typename))||t.__typename;if(n===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];for(var s=o&&o.storeObject||t,a=ce(ce({},o),{typename:n,storeObject:s,readField:o&&o.readField||function(){var p=af(arguments,s);return r.readField(p,{store:r.cache.data,variables:p.variables})}}),l,c=n&&this.getTypePolicy(n),u=c&&c.keyFn||this.config.dataIdFromObject;u;){var d=u(t,a);if(vt(d))u=_p(d);else{l=d;break}}return l=l?String(l):void 0,a.keyObject?[l,a.keyObject]:[l]},e.prototype.addTypePolicies=function(t){var o=this;Object.keys(t).forEach(function(i){var r=t[i],n=r.queryType,s=r.mutationType,a=r.subscriptionType,l=Xr(r,["queryType","mutationType","subscriptionType"]);n&&o.setRootTypename("Query",i),s&&o.setRootTypename("Mutation",i),a&&o.setRootTypename("Subscription",i),Pt.call(o.toBeAdded,i)?o.toBeAdded[i].push(l):o.toBeAdded[i]=[l]})},e.prototype.updateTypePolicy=function(t,o){var i=this,r=this.getTypePolicy(t),n=o.keyFields,s=o.fields;function a(l,c){l.merge=typeof c=="function"?c:c===!0?Np:c===!1?Cp:l.merge}a(r,o.merge),r.keyFn=n===!1?gN:vt(n)?_p(n):typeof n=="function"?n:r.keyFn,s&&Object.keys(s).forEach(function(l){var c=i.getFieldPolicy(t,l,!0),u=s[l];if(typeof u=="function")c.read=u;else{var d=u.keyArgs,p=u.read,f=u.merge;c.keyFn=d===!1?Ap:vt(d)?Sp(d):typeof d=="function"?d:c.keyFn,typeof p=="function"&&(c.read=p),a(c,f)}c.read&&c.merge&&(c.keyFn=c.keyFn||Ap)})},e.prototype.setRootTypename=function(t,o){o===void 0&&(o=t);var i="ROOT_"+t.toUpperCase(),r=this.rootTypenamesById[i];o!==r&&(__DEV__?De(!r||r===t,"Cannot change root ".concat(t," __typename more than once")):De(!r||r===t,3),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[o]=i,this.rootTypenamesById[i]=o)},e.prototype.addPossibleTypes=function(t){var o=this;this.usingPossibleTypes=!0,Object.keys(t).forEach(function(i){o.getSupertypeSet(i,!0),t[i].forEach(function(r){o.getSupertypeSet(r,!0).add(i);var n=r.match(Dy);(!n||n[0]!==r)&&o.fuzzySubtypes.set(r,new RegExp(r))})})},e.prototype.getTypePolicy=function(t){var o=this;if(!Pt.call(this.typePolicies,t)){var i=this.typePolicies[t]=Object.create(null);i.fields=Object.create(null);var r=this.supertypeMap.get(t);r&&r.size&&r.forEach(function(s){var a=o.getTypePolicy(s),l=a.fields,c=Xr(a,["fields"]);Object.assign(i,c),Object.assign(i.fields,l)})}var n=this.toBeAdded[t];return n&&n.length&&n.splice(0).forEach(function(s){o.updateTypePolicy(t,s)}),this.typePolicies[t]},e.prototype.getFieldPolicy=function(t,o,i){if(t){var r=this.getTypePolicy(t).fields;return r[o]||i&&(r[o]=Object.create(null))}},e.prototype.getSupertypeSet=function(t,o){var i=this.supertypeMap.get(t);return!i&&o&&this.supertypeMap.set(t,i=new Set),i},e.prototype.fragmentMatches=function(t,o,i,r){var n=this;if(!t.typeCondition)return!0;if(!o)return!1;var s=t.typeCondition.name.value;if(o===s)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(s))for(var a=this.getSupertypeSet(o,!0),l=[a],c=function(g){var y=n.getSupertypeSet(g,!1);y&&y.size&&l.indexOf(y)<0&&l.push(y)},u=!!(i&&this.fuzzySubtypes.size),d=!1,p=0;p<l.length;++p){var f=l[p];if(f.has(s))return a.has(s)||(d&&__DEV__&&De.warn("Inferring subtype ".concat(o," of supertype ").concat(s)),a.add(s)),!0;f.forEach(c),u&&p===l.length-1&&Fu(t.selectionSet,i,r)&&(u=!1,d=!0,this.fuzzySubtypes.forEach(function(g,y){var T=o.match(g);T&&T[0]===o&&c(y)}))}return!1},e.prototype.hasKeyArgs=function(t,o){var i=this.getFieldPolicy(t,o,!1);return!!(i&&i.keyFn)},e.prototype.getStoreFieldName=function(t){var o=t.typename,i=t.fieldName,r=this.getFieldPolicy(o,i,!1),n,s=r&&r.keyFn;if(s&&o)for(var a={typename:o,fieldName:i,field:t.field||null,variables:t.variables},l=Uu(t);s;){var c=s(l,a);if(vt(c))s=Sp(c);else{n=c||i;break}}return n===void 0&&(n=t.field?IS(t.field,t.variables):Hd(i,Uu(t))),n===!1?i:i===Sr(n)?n:i+":"+n},e.prototype.readField=function(t,o){var i=t.from;if(i){var r=t.field||t.fieldName;if(r){if(t.typename===void 0){var n=o.store.getFieldValue(i,"__typename");n&&(t.typename=n)}var s=this.getStoreFieldName(t),a=Sr(s),l=o.store.getFieldValue(i,s),c=this.getFieldPolicy(t.typename,a,!1),u=c&&c.read;if(u){var d=Tp(this,i,t,o,o.store.getStorage(ot(i)?i.__ref:i,s));return rf.withValue(this.cache,u,[l,d])}return l}}},e.prototype.getReadFunction=function(t,o){var i=this.getFieldPolicy(t,o,!1);return i&&i.read},e.prototype.getMergeFunction=function(t,o,i){var r=this.getFieldPolicy(t,o,!1),n=r&&r.merge;return!n&&i&&(r=this.getTypePolicy(i),n=r&&r.merge),n},e.prototype.runMergeFunction=function(t,o,i,r,n){var s=i.field,a=i.typename,l=i.merge;return l===Np?Fy(r.store)(t,o):l===Cp?o:(r.overwrite&&(t=void 0),l(t,o,Tp(this,void 0,{typename:a,fieldName:s.name.value,field:s,variables:r.variables},r,n||Object.create(null))))},e}();function Tp(e,t,o,i,r){var n=e.getStoreFieldName(o),s=Sr(n),a=o.variables||i.variables,l=i.store,c=l.toReference,u=l.canRead;return{args:Uu(o),field:o.field||null,fieldName:s,storeFieldName:n,variables:a,isReference:ot,toReference:c,storage:r,cache:e.cache,canRead:u,readField:function(){return e.readField(af(arguments,t,a),i)},mergeObjects:Fy(i.store)}}function af(e,t,o){var i=e[0],r=e[1],n=e.length,s;return typeof i=="string"?s={fieldName:i,from:n>1?r:t}:(s=ce({},i),Pt.call(s,"from")||(s.from=t)),__DEV__&&s.from===void 0&&__DEV__&&De.warn("Undefined 'from' passed to readField with arguments ".concat(oA(Array.from(e)))),s.variables===void 0&&(s.variables=o),s}function Fy(e){return function(o,i){if(vt(o)||vt(i))throw __DEV__?new Ze("Cannot automatically merge arrays"):new Ze(4);if(mt(o)&&mt(i)){var r=e.getFieldValue(o,"__typename"),n=e.getFieldValue(i,"__typename"),s=r&&n&&r!==n;if(s)return i;if(ot(o)&&gi(i))return e.merge(o.__ref,i),o;if(gi(o)&&ot(i))return e.merge(o,i.__ref),i;if(gi(o)&&gi(i))return ce(ce({},o),i)}return i}}function Vl(e,t,o){var i="".concat(t).concat(o),r=e.flavors.get(i);return r||e.flavors.set(i,r=e.clientOnly===t&&e.deferred===o?e:ce(ce({},e),{clientOnly:t,deferred:o})),r}var bN=function(){function e(t,o,i){this.cache=t,this.reader=o,this.fragments=i}return e.prototype.writeToStore=function(t,o){var i=this,r=o.query,n=o.result,s=o.dataId,a=o.variables,l=o.overwrite,c=ns(r),u=aN();a=ce(ce({},Qd(c)),a);var d=ce(ce({store:t,written:Object.create(null),merge:function(f,g){return u.merge(f,g)},variables:a,varString:Kr(a)},Py(r,this.fragments)),{overwrite:!!l,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),p=this.processSelectionSet({result:n||Object.create(null),dataId:s,selectionSet:c.selectionSet,mergeTree:{map:new Map},context:d});if(!ot(p))throw __DEV__?new Ze("Could not identify object ".concat(JSON.stringify(n))):new Ze(7);return d.incomingById.forEach(function(f,g){var y=f.storeObject,T=f.mergeTree,w=f.fieldNodeSet,_=Ai(g);if(T&&T.map.size){var x=i.applyMerges(T,_,y,d);if(ot(x))return;y=x}if(__DEV__&&!d.overwrite){var D=Object.create(null);w.forEach(function(V){V.selectionSet&&(D[V.name.value]=!0)});var M=function(V){return D[Sr(V)]===!0},J=function(V){var W=T&&T.map.get(V);return!!(W&&W.info&&W.info.merge)};Object.keys(y).forEach(function(V){M(V)&&!J(V)&&wN(_,y,V,d.store)})}t.merge(g,y)}),t.retain(p.__ref),p},e.prototype.processSelectionSet=function(t){var o=this,i=t.dataId,r=t.result,n=t.selectionSet,s=t.context,a=t.mergeTree,l=this.cache.policies,c=Object.create(null),u=i&&l.rootTypenamesById[i]||Su(r,n,s.fragmentMap)||i&&s.store.get(i,"__typename");typeof u=="string"&&(c.__typename=u);var d=function(){var x=af(arguments,c,s.variables);if(ot(x.from)){var D=s.incomingById.get(x.from.__ref);if(D){var M=l.readField(ce(ce({},x),{from:D.storeObject}),s);if(M!==void 0)return M}}return l.readField(x,s)},p=new Set;this.flattenFields(n,r,s,u).forEach(function(x,D){var M,J=ei(D),V=r[J];if(p.add(D),V!==void 0){var W=l.getStoreFieldName({typename:u,fieldName:D.name.value,field:D,variables:x.variables}),P=xp(a,W),ie=o.processFieldValue(V,D,D.selectionSet?Vl(x,!1,!1):x,P),fe=void 0;D.selectionSet&&(ot(ie)||gi(ie))&&(fe=d("__typename",ie));var B=l.getMergeFunction(u,D.name.value,fe);B?P.info={field:D,typename:u,merge:B}:Ip(a,W),c=x.merge(c,(M={},M[W]=ie,M))}else __DEV__&&!x.clientOnly&&!x.deferred&&!Gd.added(D)&&!l.getReadFunction(u,D.name.value)&&__DEV__&&De.error("Missing field '".concat(ei(D),"' while writing result ").concat(JSON.stringify(r,null,2)).substring(0,1e3))});try{var f=l.identify(r,{typename:u,selectionSet:n,fragmentMap:s.fragmentMap,storeObject:c,readField:d}),g=f[0],y=f[1];i=i||g,y&&(c=s.merge(c,y))}catch(x){if(!i)throw x}if(typeof i=="string"){var T=Ai(i),w=s.written[i]||(s.written[i]=[]);if(w.indexOf(n)>=0||(w.push(n),this.reader&&this.reader.isFresh(r,T,n,s)))return T;var _=s.incomingById.get(i);return _?(_.storeObject=s.merge(_.storeObject,c),_.mergeTree=qu(_.mergeTree,a),p.forEach(function(x){return _.fieldNodeSet.add(x)})):s.incomingById.set(i,{storeObject:c,mergeTree:_a(a)?void 0:a,fieldNodeSet:p}),T}return c},e.prototype.processFieldValue=function(t,o,i,r){var n=this;return!o.selectionSet||t===null?__DEV__?ay(t):t:vt(t)?t.map(function(s,a){var l=n.processFieldValue(s,o,i,xp(r,a));return Ip(r,a),l}):this.processSelectionSet({result:t,selectionSet:o.selectionSet,context:i,mergeTree:r})},e.prototype.flattenFields=function(t,o,i,r){r===void 0&&(r=Su(o,t,i.fragmentMap));var n=new Map,s=this.cache.policies,a=new ss(!1);return function l(c,u){var d=a.lookup(c,u.clientOnly,u.deferred);d.visited||(d.visited=!0,c.selections.forEach(function(p){if(Va(p,i.variables)){var f=u.clientOnly,g=u.deferred;if(!(f&&g)&&co(p.directives)&&p.directives.forEach(function(w){var _=w.name.value;if(_==="client"&&(f=!0),_==="defer"){var x=Ha(w,i.variables);(!x||x.if!==!1)&&(g=!0)}}),ti(p)){var y=n.get(p);y&&(f=f&&y.clientOnly,g=g&&y.deferred),n.set(p,Vl(i,f,g))}else{var T=Vd(p,i.lookupFragment);if(!T&&p.kind===ke.FRAGMENT_SPREAD)throw __DEV__?new Ze("No fragment named ".concat(p.name.value)):new Ze(8);T&&s.fragmentMatches(T,r,o,i.variables)&&l(T.selectionSet,Vl(i,f,g))}}}))}(t,i),n},e.prototype.applyMerges=function(t,o,i,r,n){var s,a=this;if(t.map.size&&!ot(i)){var l=!vt(i)&&(ot(o)||gi(o))?o:void 0,c=i;l&&!n&&(n=[ot(l)?l.__ref:l]);var u,d=function(p,f){return vt(p)?typeof f=="number"?p[f]:void 0:r.store.getFieldValue(p,String(f))};t.map.forEach(function(p,f){var g=d(l,f),y=d(c,f);if(y!==void 0){n&&n.push(f);var T=a.applyMerges(p,g,y,r,n);T!==y&&(u=u||new Map,u.set(f,T)),n&&De(n.pop()===f)}}),u&&(i=vt(c)?c.slice(0):ce({},c),u.forEach(function(p,f){i[f]=p}))}return t.info?this.cache.policies.runMergeFunction(o,i,t.info,r,n&&(s=r.store).getStorage.apply(s,n)):i},e}(),By=[];function xp(e,t){var o=e.map;return o.has(t)||o.set(t,By.pop()||{map:new Map}),o.get(t)}function qu(e,t){if(e===t||!t||_a(t))return e;if(!e||_a(e))return t;var o=e.info&&t.info?ce(ce({},e.info),t.info):e.info||t.info,i=e.map.size&&t.map.size,r=i?new Map:e.map.size?e.map:t.map,n={info:o,map:r};if(i){var s=new Set(t.map.keys());e.map.forEach(function(a,l){n.map.set(l,qu(a,t.map.get(l))),s.delete(l)}),s.forEach(function(a){n.map.set(a,qu(t.map.get(a),e.map.get(a)))})}return n}function _a(e){return!e||!(e.info||e.map.size)}function Ip(e,t){var o=e.map,i=o.get(t);i&&_a(i)&&(By.push(i),o.delete(t))}var Dp=new Set;function wN(e,t,o,i){var r=function(d){var p=i.getFieldValue(d,o);return typeof p=="object"&&p},n=r(e);if(n){var s=r(t);if(s&&!ot(n)&&!xt(n,s)&&!Object.keys(n).every(function(d){return i.getFieldValue(s,d)!==void 0})){var a=i.getFieldValue(e,"__typename")||i.getFieldValue(t,"__typename"),l=Sr(o),c="".concat(a,".").concat(l);if(!Dp.has(c)){Dp.add(c);var u=[];!vt(n)&&!vt(s)&&[n,s].forEach(function(d){var p=i.getFieldValue(d,"__typename");typeof p=="string"&&!u.includes(p)&&u.push(p)}),__DEV__&&De.warn("Cache data may be lost when replacing the ".concat(l," field of a ").concat(a,` object.

To address this problem (which is not a bug in Apollo Client), `).concat(u.length?"either ensure all objects of type "+u.join(" and ")+" have an ID or a custom merge function, or ":"","define a custom merge function for the ").concat(c,` field, so InMemoryCache can safely merge these objects:

  existing: `).concat(JSON.stringify(n).slice(0,1e3),`
  incoming: `).concat(JSON.stringify(s).slice(0,1e3),`

For more information about these options, please refer to the documentation:

  * Ensuring entity objects have IDs: https://go.apollo.dev/c/generating-unique-identifiers
  * Defining custom merge functions: https://go.apollo.dev/c/merging-non-normalized-objects
`))}}}}var EN=function(e){oo(t,e);function t(o){o===void 0&&(o={});var i=e.call(this)||this;return i.watches=new Set,i.typenameDocumentCache=new Map,i.makeVar=mN,i.txCount=0,i.config=nN(o),i.addTypename=!!i.config.addTypename,i.policies=new yN({cache:i,dataIdFromObject:i.config.dataIdFromObject,possibleTypes:i.config.possibleTypes,typePolicies:i.config.typePolicies}),i.init(),i}return t.prototype.init=function(){var o=this.data=new Jn.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=o.stump,this.resetResultCache()},t.prototype.resetResultCache=function(o){var i=this,r=this.storeReader,n=this.config.fragments;this.storeWriter=new bN(this,this.storeReader=new dN({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:Iy(this.config),canon:o?void 0:r&&r.canon,fragments:n}),n),this.maybeBroadcastWatch=Ea(function(s,a){return i.broadcastWatch(s,a)},{max:this.config.resultCacheMaxSize,makeCacheKey:function(s){var a=s.optimistic?i.optimisticData:i.data;if(Rn(a)){var l=s.optimistic,c=s.id,u=s.variables;return a.makeCacheKey(s.query,s.callback,Kr({optimistic:l,id:c,variables:u}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach(function(s){return s.resetCaching()})},t.prototype.restore=function(o){return this.init(),o&&this.data.replace(o),this},t.prototype.extract=function(o){return o===void 0&&(o=!1),(o?this.optimisticData:this.data).extract()},t.prototype.read=function(o){var i=o.returnPartialData,r=i===void 0?!1:i;try{return this.storeReader.diffQueryAgainstStore(ce(ce({},o),{store:o.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:r})).result||null}catch(n){if(n instanceof Cy)return null;throw n}},t.prototype.write=function(o){try{return++this.txCount,this.storeWriter.writeToStore(this.data,o)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.modify=function(o){if(Pt.call(o,"id")&&!o.id)return!1;var i=o.optimistic?this.optimisticData:this.data;try{return++this.txCount,i.modify(o.id||"ROOT_QUERY",o.fields)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.diff=function(o){return this.storeReader.diffQueryAgainstStore(ce(ce({},o),{store:o.optimistic?this.optimisticData:this.data,rootId:o.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(o){var i=this;return this.watches.size||pN(this),this.watches.add(o),o.immediate&&this.maybeBroadcastWatch(o),function(){i.watches.delete(o)&&!i.watches.size&&wp(i),i.maybeBroadcastWatch.forget(o)}},t.prototype.gc=function(o){Kr.reset();var i=this.optimisticData.gc();return o&&!this.txCount&&(o.resetResultCache?this.resetResultCache(o.resetResultIdentities):o.resetResultIdentities&&this.storeReader.resetCanon()),i},t.prototype.retain=function(o,i){return(i?this.optimisticData:this.data).retain(o)},t.prototype.release=function(o,i){return(i?this.optimisticData:this.data).release(o)},t.prototype.identify=function(o){if(ot(o))return o.__ref;try{return this.policies.identify(o)[0]}catch(i){__DEV__&&De.warn(i)}},t.prototype.evict=function(o){if(!o.id){if(Pt.call(o,"id"))return!1;o=ce(ce({},o),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(o,this.data)}finally{!--this.txCount&&o.broadcast!==!1&&this.broadcastWatches()}},t.prototype.reset=function(o){var i=this;return this.init(),Kr.reset(),o&&o.discardWatches?(this.watches.forEach(function(r){return i.maybeBroadcastWatch.forget(r)}),this.watches.clear(),wp(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(o){var i=this.optimisticData.removeLayer(o);i!==this.optimisticData&&(this.optimisticData=i,this.broadcastWatches())},t.prototype.batch=function(o){var i=this,r=o.update,n=o.optimistic,s=n===void 0?!0:n,a=o.removeOptimistic,l=o.onWatchUpdated,c,u=function(p){var f=i,g=f.data,y=f.optimisticData;++i.txCount,p&&(i.data=i.optimisticData=p);try{return c=r(i)}finally{--i.txCount,i.data=g,i.optimisticData=y}},d=new Set;return l&&!this.txCount&&this.broadcastWatches(ce(ce({},o),{onWatchUpdated:function(p){return d.add(p),!1}})),typeof s=="string"?this.optimisticData=this.optimisticData.addLayer(s,u):s===!1?u(this.data):u(),typeof a=="string"&&(this.optimisticData=this.optimisticData.removeLayer(a)),l&&d.size?(this.broadcastWatches(ce(ce({},o),{onWatchUpdated:function(p,f){var g=l.call(this,p,f);return g!==!1&&d.delete(p),g}})),d.size&&d.forEach(function(p){return i.maybeBroadcastWatch.dirty(p)})):this.broadcastWatches(o),c},t.prototype.performTransaction=function(o,i){return this.batch({update:o,optimistic:i||i!==null})},t.prototype.transformDocument=function(o){if(this.addTypename){var i=this.typenameDocumentCache.get(o);return i||(i=Gd(o),this.typenameDocumentCache.set(o,i),this.typenameDocumentCache.set(i,i)),i}return o},t.prototype.transformForLink=function(o){var i=this.config.fragments;return i?i.transform(o):o},t.prototype.broadcastWatches=function(o){var i=this;this.txCount||this.watches.forEach(function(r){return i.maybeBroadcastWatch(r,o)})},t.prototype.broadcastWatch=function(o,i){var r=o.lastDiff,n=this.diff(o);i&&(o.optimistic&&typeof i.optimistic=="string"&&(n.fromOptimisticTransaction=!0),i.onWatchUpdated&&i.onWatchUpdated.call(this,o,n,r)===!1)||(!r||!xt(r.result,n.result))&&o.callback(o.lastDiff=n,r)},t}(iN);function _N(e){return e.hasOwnProperty("graphQLErrors")}var SN=function(e){var t="";if(co(e.graphQLErrors)||co(e.clientErrors)){var o=(e.graphQLErrors||[]).concat(e.clientErrors||[]);o.forEach(function(i){var r=i?i.message:"Error message not found.";t+="".concat(r,`
`)})}return e.networkError&&(t+="".concat(e.networkError.message,`
`)),t=t.replace(/\n$/,""),t},Fr=function(e){oo(t,e);function t(o){var i=o.graphQLErrors,r=o.clientErrors,n=o.networkError,s=o.errorMessage,a=o.extraInfo,l=e.call(this,s)||this;return l.name="ApolloError",l.graphQLErrors=i||[],l.clientErrors=r||[],l.networkError=n||null,l.message=s||SN(l),l.extraInfo=a,l.__proto__=t.prototype,l}return t}(Error),rt;(function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"})(rt||(rt={}));function Yn(e){return e?e<7:!1}var AN=Object.assign,NN=Object.hasOwnProperty,ju=function(e){oo(t,e);function t(o){var i=o.queryManager,r=o.queryInfo,n=o.options,s=e.call(this,function(T){try{var w=T._subscription._observer;w&&!w.error&&(w.error=CN)}catch{}var _=!s.observers.size;s.observers.add(T);var x=s.last;return x&&x.error?T.error&&T.error(x.error):x&&x.result&&T.next&&T.next(x.result),_&&s.reobserve().catch(function(){}),function(){s.observers.delete(T)&&!s.observers.size&&s.tearDownQuery()}})||this;s.observers=new Set,s.subscriptions=new Set,s.queryInfo=r,s.queryManager=i,s.isTornDown=!1;var a=i.defaultOptions.watchQuery,l=a===void 0?{}:a,c=l.fetchPolicy,u=c===void 0?"cache-first":c,d=n.fetchPolicy,p=d===void 0?u:d,f=n.initialFetchPolicy,g=f===void 0?p==="standby"?u:p:f;s.options=ce(ce({},n),{initialFetchPolicy:g,fetchPolicy:p}),s.queryId=r.queryId||i.generateQueryId();var y=ns(s.query);return s.queryName=y&&y.name&&y.name.value,s}return Object.defineProperty(t.prototype,"query",{get:function(){return this.queryManager.transform(this.options.query).document},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var o=this;return new Promise(function(i,r){var n={next:function(a){i(a),o.observers.delete(n),o.observers.size||o.queryManager.removeQuery(o.queryId),setTimeout(function(){s.unsubscribe()},0)},error:r},s=o.subscribe(n)})},t.prototype.getCurrentResult=function(o){o===void 0&&(o=!0);var i=this.getLastResult(!0),r=this.queryInfo.networkStatus||i&&i.networkStatus||rt.ready,n=ce(ce({},i),{loading:Yn(r),networkStatus:r}),s=this.options.fetchPolicy,a=s===void 0?"cache-first":s;if(!(a==="network-only"||a==="no-cache"||a==="standby"||this.queryManager.transform(this.options.query).hasForcedResolvers)){var l=this.queryInfo.getDiff();(l.complete||this.options.returnPartialData)&&(n.data=l.result),xt(n.data,{})&&(n.data=void 0),l.complete?(delete n.partial,l.complete&&n.networkStatus===rt.loading&&(a==="cache-first"||a==="cache-only")&&(n.networkStatus=rt.ready,n.loading=!1)):n.partial=!0,__DEV__&&!l.complete&&!this.options.partialRefetch&&!n.loading&&!n.data&&!n.error&&$y(l.missing)}return o&&this.updateLastResult(n),n},t.prototype.isDifferentFromLastResult=function(o,i){return!this.last||!xt(this.last.result,o)||i&&!xt(this.last.variables,i)},t.prototype.getLast=function(o,i){var r=this.last;if(r&&r[o]&&(!i||xt(r.variables,this.variables)))return r[o]},t.prototype.getLastResult=function(o){return this.getLast("result",o)},t.prototype.getLastError=function(o){return this.getLast("error",o)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(o){var i,r={pollInterval:0},n=this.options.fetchPolicy;if(n==="cache-and-network"?r.fetchPolicy=n:n==="no-cache"?r.fetchPolicy="no-cache":r.fetchPolicy="network-only",__DEV__&&o&&NN.call(o,"variables")){var s=ty(this.query),a=s.variableDefinitions;(!a||!a.some(function(l){return l.variable.name.value==="variables"}))&&__DEV__&&De.warn("Called refetch(".concat(JSON.stringify(o),") for query ").concat(((i=s.name)===null||i===void 0?void 0:i.value)||JSON.stringify(s),`, which does not declare a $variables variable.
Did you mean to call refetch(variables) instead of refetch({ variables })?`))}return o&&!xt(this.options.variables,o)&&(r.variables=this.options.variables=ce(ce({},this.options.variables),o)),this.queryInfo.resetLastWrite(),this.reobserve(r,rt.refetch)},t.prototype.fetchMore=function(o){var i=this,r=ce(ce({},o.query?o:ce(ce(ce(ce({},this.options),{query:this.query}),o),{variables:ce(ce({},this.options.variables),o.variables)})),{fetchPolicy:"no-cache"}),n=this.queryManager.generateQueryId(),s=this.queryInfo,a=s.networkStatus;s.networkStatus=rt.fetchMore,r.notifyOnNetworkStatusChange&&this.observe();var l=new Set;return this.queryManager.fetchQuery(n,r,rt.fetchMore).then(function(c){return i.queryManager.removeQuery(n),s.networkStatus===rt.fetchMore&&(s.networkStatus=a),i.queryManager.cache.batch({update:function(u){var d=o.updateQuery;d?u.updateQuery({query:i.query,variables:i.variables,returnPartialData:!0,optimistic:!1},function(p){return d(p,{fetchMoreResult:c.data,variables:r.variables})}):u.writeQuery({query:r.query,variables:r.variables,data:c.data})},onWatchUpdated:function(u){l.add(u.query)}}),c}).finally(function(){l.has(i.query)||Ly(i)})},t.prototype.subscribeToMore=function(o){var i=this,r=this.queryManager.startGraphQLSubscription({query:o.document,variables:o.variables,context:o.context}).subscribe({next:function(n){var s=o.updateQuery;s&&i.updateQuery(function(a,l){var c=l.variables;return s(a,{subscriptionData:n,variables:c})})},error:function(n){if(o.onError){o.onError(n);return}__DEV__&&De.error("Unhandled GraphQL subscription error",n)}});return this.subscriptions.add(r),function(){i.subscriptions.delete(r)&&r.unsubscribe()}},t.prototype.setOptions=function(o){return this.reobserve(o)},t.prototype.setVariables=function(o){return xt(this.variables,o)?this.observers.size?this.result():Promise.resolve():(this.options.variables=o,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:o},rt.setVariables):Promise.resolve())},t.prototype.updateQuery=function(o){var i=this.queryManager,r=i.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}).result,n=o(r,{variables:this.variables});n&&(i.cache.writeQuery({query:this.options.query,data:n,variables:this.variables}),i.broadcastQueries())},t.prototype.startPolling=function(o){this.options.pollInterval=o,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(o,i){if(i.nextFetchPolicy){var r=i.fetchPolicy,n=r===void 0?"cache-first":r,s=i.initialFetchPolicy,a=s===void 0?n:s;n==="standby"||(typeof i.nextFetchPolicy=="function"?i.fetchPolicy=i.nextFetchPolicy(n,{reason:o,options:i,observable:this,initialFetchPolicy:a}):o==="variables-changed"?i.fetchPolicy=a:i.fetchPolicy=i.nextFetchPolicy)}return i.fetchPolicy},t.prototype.fetch=function(o,i){return this.queryManager.setObservableQuery(this),this.queryManager.fetchQueryObservable(this.queryId,o,i)},t.prototype.updatePolling=function(){var o=this;if(!this.queryManager.ssrMode){var i=this,r=i.pollingInfo,n=i.options.pollInterval;if(!n){r&&(clearTimeout(r.timeout),delete this.pollingInfo);return}if(!(r&&r.interval===n)){__DEV__?De(n,"Attempted to start a polling query without a polling interval."):De(n,13);var s=r||(this.pollingInfo={});s.interval=n;var a=function(){o.pollingInfo&&(Yn(o.queryInfo.networkStatus)?l():o.reobserve({fetchPolicy:o.options.initialFetchPolicy==="no-cache"?"no-cache":"network-only"},rt.poll).then(l,l))},l=function(){var c=o.pollingInfo;c&&(clearTimeout(c.timeout),c.timeout=setTimeout(a,c.interval))};l()}}},t.prototype.updateLastResult=function(o,i){return i===void 0&&(i=this.variables),this.last=ce(ce({},this.last),{result:this.queryManager.assumeImmutableResults?o:ay(o),variables:i}),co(o.errors)||delete this.last.error,this.last},t.prototype.reobserve=function(o,i){var r=this;this.isTornDown=!1;var n=i===rt.refetch||i===rt.fetchMore||i===rt.poll,s=this.options.variables,a=this.options.fetchPolicy,l=Ka(this.options,o||{}),c=n?l:AN(this.options,l);n||(this.updatePolling(),o&&o.variables&&!xt(o.variables,s)&&c.fetchPolicy!=="standby"&&c.fetchPolicy===a&&(this.applyNextFetchPolicy("variables-changed",c),i===void 0&&(i=rt.setVariables)));var u=c.variables&&ce({},c.variables),d=this.fetch(c,i),p={next:function(f){r.reportResult(f,u)},error:function(f){r.reportError(f,u)}};return n||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=d,this.observer=p),d.addObserver(p),d.promise},t.prototype.observe=function(){this.reportResult(this.getCurrentResult(!1),this.variables)},t.prototype.reportResult=function(o,i){var r=this.getLastError();(r||this.isDifferentFromLastResult(o,i))&&((r||!o.partial||this.options.returnPartialData)&&this.updateLastResult(o,i),On(this.observers,"next",o))},t.prototype.reportError=function(o,i){var r=ce(ce({},this.getLastResult()),{error:o,errors:o.graphQLErrors,networkStatus:rt.error,loading:!1});this.updateLastResult(r,i),On(this.observers,"error",this.last.error=o)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach(function(o){return o.unsubscribe()}),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t}(nt);cy(ju);function Ly(e){var t=e.options,o=t.fetchPolicy,i=t.nextFetchPolicy;return o==="cache-and-network"||o==="network-only"?e.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(){return this.nextFetchPolicy=i,typeof i=="function"?i.apply(this,arguments):o}}):e.reobserve()}function CN(e){__DEV__&&De.error("Unhandled error",e.message,e.stack)}function $y(e){__DEV__&&e&&__DEV__&&De.debug("Missing cache result fields: ".concat(JSON.stringify(e)),e)}var Uy=function(){function e(t){var o=t.cache,i=t.client,r=t.resolvers,n=t.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=o,i&&(this.client=i),r&&this.addResolvers(r),n&&this.setFragmentMatcher(n)}return e.prototype.addResolvers=function(t){var o=this;this.resolvers=this.resolvers||{},Array.isArray(t)?t.forEach(function(i){o.resolvers=Kh(o.resolvers,i)}):this.resolvers=Kh(this.resolvers,t)},e.prototype.setResolvers=function(t){this.resolvers={},this.addResolvers(t)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(t){var o=t.document,i=t.remoteResult,r=t.context,n=t.variables,s=t.onlyRunForcedResolvers,a=s===void 0?!1:s;return fr(this,void 0,void 0,function(){return hr(this,function(l){return o?[2,this.resolveDocument(o,i.data,r,n,this.fragmentMatcher,a).then(function(c){return ce(ce({},i),{data:c.result})})]:[2,i]})})},e.prototype.setFragmentMatcher=function(t){this.fragmentMatcher=t},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(t){return jd(["client"],t)&&this.resolvers?t:null},e.prototype.serverQuery=function(t){return $S(t)},e.prototype.prepareContext=function(t){var o=this.cache;return ce(ce({},t),{cache:o,getCacheKey:function(i){return o.identify(i)}})},e.prototype.addExportedVariables=function(t,o,i){return o===void 0&&(o={}),i===void 0&&(i={}),fr(this,void 0,void 0,function(){return hr(this,function(r){return t?[2,this.resolveDocument(t,this.buildRootValueFromCache(t,o)||{},this.prepareContext(i),o).then(function(n){return ce(ce({},o),n.exportedVariables)})]:[2,ce({},o)]})})},e.prototype.shouldForceResolvers=function(t){var o=!1;return Yo(t,{Directive:{enter:function(i){if(i.name.value==="client"&&i.arguments&&(o=i.arguments.some(function(r){return r.name.value==="always"&&r.value.kind==="BooleanValue"&&r.value.value===!0}),o))return qd}}}),o},e.prototype.buildRootValueFromCache=function(t,o){return this.cache.diff({query:LS(t),variables:o,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(t,o,i,r,n,s){return i===void 0&&(i={}),r===void 0&&(r={}),n===void 0&&(n=function(){return!0}),s===void 0&&(s=!1),fr(this,void 0,void 0,function(){var a,l,c,u,d,p,f,g,y,T,w;return hr(this,function(_){return a=Qa(t),l=Wd(t),c=zd(l),u=this.collectSelectionsToResolve(a,c),d=a.operation,p=d?d.charAt(0).toUpperCase()+d.slice(1):"Query",f=this,g=f.cache,y=f.client,T={fragmentMap:c,context:ce(ce({},i),{cache:g,client:y}),variables:r,fragmentMatcher:n,defaultOperationType:p,exportedVariables:{},selectionsToResolve:u,onlyRunForcedResolvers:s},w=!1,[2,this.resolveSelectionSet(a.selectionSet,w,o,T).then(function(x){return{result:x,exportedVariables:T.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(t,o,i,r){return fr(this,void 0,void 0,function(){var n,s,a,l,c,u=this;return hr(this,function(d){return n=r.fragmentMap,s=r.context,a=r.variables,l=[i],c=function(p){return fr(u,void 0,void 0,function(){var f,g;return hr(this,function(y){return!o&&!r.selectionsToResolve.has(p)?[2]:Va(p,a)?ti(p)?[2,this.resolveField(p,o,i,r).then(function(T){var w;typeof T<"u"&&l.push((w={},w[ei(p)]=T,w))})]:(kS(p)?f=p:(f=n[p.name.value],__DEV__?De(f,"No fragment named ".concat(p.name.value)):De(f,11)),f&&f.typeCondition&&(g=f.typeCondition.name.value,r.fragmentMatcher(i,g,s))?[2,this.resolveSelectionSet(f.selectionSet,o,i,r).then(function(T){l.push(T)})]:[2]):[2]})})},[2,Promise.all(t.selections.map(c)).then(function(){return Kd(l)})]})})},e.prototype.resolveField=function(t,o,i,r){return fr(this,void 0,void 0,function(){var n,s,a,l,c,u,d,p,f,g=this;return hr(this,function(y){return i?(n=r.variables,s=t.name.value,a=ei(t),l=s!==a,c=i[a]||i[s],u=Promise.resolve(c),(!r.onlyRunForcedResolvers||this.shouldForceResolvers(t))&&(d=i.__typename||r.defaultOperationType,p=this.resolvers&&this.resolvers[d],p&&(f=p[l?s:a],f&&(u=Promise.resolve(rf.withValue(this.cache,f,[i,Ha(t,n),r.context,{field:t,fragmentMap:r.fragmentMap}]))))),[2,u.then(function(T){var w,_;if(T===void 0&&(T=c),t.directives&&t.directives.forEach(function(D){D.name.value==="export"&&D.arguments&&D.arguments.forEach(function(M){M.name.value==="as"&&M.value.kind==="StringValue"&&(r.exportedVariables[M.value.value]=T)})}),!t.selectionSet||T==null)return T;var x=(_=(w=t.directives)===null||w===void 0?void 0:w.some(function(D){return D.name.value==="client"}))!==null&&_!==void 0?_:!1;if(Array.isArray(T))return g.resolveSubSelectedArray(t,o||x,T,r);if(t.selectionSet)return g.resolveSelectionSet(t.selectionSet,o||x,T,r)})]):[2,null]})})},e.prototype.resolveSubSelectedArray=function(t,o,i,r){var n=this;return Promise.all(i.map(function(s){if(s===null)return null;if(Array.isArray(s))return n.resolveSubSelectedArray(t,o,s,r);if(t.selectionSet)return n.resolveSelectionSet(t.selectionSet,o,s,r)}))},e.prototype.collectSelectionsToResolve=function(t,o){var i=function(s){return!Array.isArray(s)},r=this.selectionsToResolveCache;function n(s){if(!r.has(s)){var a=new Set;r.set(s,a),Yo(s,{Directive:function(l,c,u,d,p){l.name.value==="client"&&p.forEach(function(f){i(f)&&qh(f)&&a.add(f)})},FragmentSpread:function(l,c,u,d,p){var f=o[l.name.value];__DEV__?De(f,"No fragment named ".concat(l.name.value)):De(f,12);var g=n(f);g.size>0&&(p.forEach(function(y){i(y)&&qh(y)&&a.add(y)}),a.add(l),g.forEach(function(y){a.add(y)}))}})}return r.get(s)}return n(t)},e}(),yi=new(ri?WeakMap:Map);function Hl(e,t){var o=e[t];typeof o=="function"&&(e[t]=function(){return yi.set(e,(yi.get(e)+1)%1e15),o.apply(this,arguments)})}function Pp(e){e.notifyTimeout&&(clearTimeout(e.notifyTimeout),e.notifyTimeout=void 0)}var Wl=function(){function e(t,o){o===void 0&&(o=t.generateQueryId()),this.queryId=o,this.listeners=new Set,this.document=null,this.lastRequestId=1,this.subscriptions=new Set,this.stopped=!1,this.dirty=!1,this.observableQuery=null;var i=this.cache=t.cache;yi.has(i)||(yi.set(i,0),Hl(i,"evict"),Hl(i,"modify"),Hl(i,"reset"))}return e.prototype.init=function(t){var o=t.networkStatus||rt.loading;return this.variables&&this.networkStatus!==rt.loading&&!xt(this.variables,t.variables)&&(o=rt.setVariables),xt(t.variables,this.variables)||(this.lastDiff=void 0),Object.assign(this,{document:t.document,variables:t.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:o}),t.observableQuery&&this.setObservableQuery(t.observableQuery),t.lastRequestId&&(this.lastRequestId=t.lastRequestId),this},e.prototype.reset=function(){Pp(this),this.dirty=!1},e.prototype.getDiff=function(t){t===void 0&&(t=this.variables);var o=this.getDiffOptions(t);if(this.lastDiff&&xt(o,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables=t);var i=this.observableQuery;if(i&&i.options.fetchPolicy==="no-cache")return{complete:!1};var r=this.cache.diff(o);return this.updateLastDiff(r,o),r},e.prototype.updateLastDiff=function(t,o){this.lastDiff=t?{diff:t,options:o||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(t){var o;return t===void 0&&(t=this.variables),{query:this.document,variables:t,returnPartialData:!0,optimistic:!0,canonizeResults:(o=this.observableQuery)===null||o===void 0?void 0:o.options.canonizeResults}},e.prototype.setDiff=function(t){var o=this,i=this.lastDiff&&this.lastDiff.diff;this.updateLastDiff(t),!this.dirty&&!xt(i&&i.result,t&&t.result)&&(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout(function(){return o.notify()},0)))},e.prototype.setObservableQuery=function(t){var o=this;t!==this.observableQuery&&(this.oqListener&&this.listeners.delete(this.oqListener),this.observableQuery=t,t?(t.queryInfo=this,this.listeners.add(this.oqListener=function(){var i=o.getDiff();i.fromOptimisticTransaction?t.observe():Ly(t)})):delete this.oqListener)},e.prototype.notify=function(){var t=this;Pp(this),this.shouldNotify()&&this.listeners.forEach(function(o){return o(t)}),this.dirty=!1},e.prototype.shouldNotify=function(){if(!this.dirty||!this.listeners.size)return!1;if(Yn(this.networkStatus)&&this.observableQuery){var t=this.observableQuery.options.fetchPolicy;if(t!=="cache-only"&&t!=="cache-and-network")return!1}return!0},e.prototype.stop=function(){if(!this.stopped){this.stopped=!0,this.reset(),this.cancel(),this.cancel=e.prototype.cancel,this.subscriptions.forEach(function(o){return o.unsubscribe()});var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){},e.prototype.updateWatch=function(t){var o=this;t===void 0&&(t=this.variables);var i=this.observableQuery;if(!(i&&i.options.fetchPolicy==="no-cache")){var r=ce(ce({},this.getDiffOptions(t)),{watcher:this,callback:function(n){return o.setDiff(n)}});(!this.lastWatch||!xt(r,this.lastWatch))&&(this.cancel(),this.cancel=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(t,o){var i=this.lastWrite;return!(i&&i.dmCount===yi.get(this.cache)&&xt(o,i.variables)&&xt(t.data,i.result.data))},e.prototype.markResult=function(t,o,i,r){var n=this,s=new Er,a=co(t.errors)?t.errors.slice(0):[];if(this.reset(),"incremental"in t&&co(t.incremental)){var l=uy(this.getDiff().result,t);t.data=l}else if("hasNext"in t&&t.hasNext){var c=this.getDiff();t.data=s.merge(c.result,t.data)}this.graphQLErrors=a,i.fetchPolicy==="no-cache"?this.updateLastDiff({result:t.data,complete:!0},this.getDiffOptions(i.variables)):r!==0&&(zu(t,i.errorPolicy)?this.cache.performTransaction(function(u){if(n.shouldWrite(t,i.variables))u.writeQuery({query:o,data:t.data,variables:i.variables,overwrite:r===1}),n.lastWrite={result:t,variables:i.variables,dmCount:yi.get(n.cache)};else if(n.lastDiff&&n.lastDiff.diff.complete){t.data=n.lastDiff.diff.result;return}var d=n.getDiffOptions(i.variables),p=u.diff(d);n.stopped||n.updateWatch(i.variables),n.updateLastDiff(p,d),p.complete&&(t.data=p.result)}):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=rt.ready},e.prototype.markError=function(t){return this.networkStatus=rt.error,this.lastWrite=void 0,this.reset(),t.graphQLErrors&&(this.graphQLErrors=t.graphQLErrors),t.networkError&&(this.networkError=t.networkError),t},e}();function zu(e,t){t===void 0&&(t="none");var o=t==="ignore"||t==="all",i=!oa(e);return!i&&o&&e.data&&(i=!0),i}var TN=Object.prototype.hasOwnProperty,xN=function(){function e(t){var o=t.cache,i=t.link,r=t.defaultOptions,n=t.queryDeduplication,s=n===void 0?!1:n,a=t.onBroadcast,l=t.ssrMode,c=l===void 0?!1:l,u=t.clientAwareness,d=u===void 0?{}:u,p=t.localState,f=t.assumeImmutableResults;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new(ri?WeakMap:Map),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Map,this.cache=o,this.link=i,this.defaultOptions=r||Object.create(null),this.queryDeduplication=s,this.clientAwareness=d,this.localState=p||new Uy({cache:o}),this.ssrMode=c,this.assumeImmutableResults=!!f,(this.onBroadcast=a)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var t=this;this.queries.forEach(function(o,i){t.stopQueryNoBroadcast(i)}),this.cancelPendingFetches(__DEV__?new Ze("QueryManager stopped while query was in flight"):new Ze(14))},e.prototype.cancelPendingFetches=function(t){this.fetchCancelFns.forEach(function(o){return o(t)}),this.fetchCancelFns.clear()},e.prototype.mutate=function(t){var o,i,r=t.mutation,n=t.variables,s=t.optimisticResponse,a=t.updateQueries,l=t.refetchQueries,c=l===void 0?[]:l,u=t.awaitRefetchQueries,d=u===void 0?!1:u,p=t.update,f=t.onQueryUpdated,g=t.fetchPolicy,y=g===void 0?((o=this.defaultOptions.mutate)===null||o===void 0?void 0:o.fetchPolicy)||"network-only":g,T=t.errorPolicy,w=T===void 0?((i=this.defaultOptions.mutate)===null||i===void 0?void 0:i.errorPolicy)||"none":T,_=t.keepRootFields,x=t.context;return fr(this,void 0,void 0,function(){var D,M,J,V,W,P;return hr(this,function(ie){switch(ie.label){case 0:return __DEV__?De(r,"mutation option is required. You must specify your GraphQL document in the mutation option."):De(r,15),__DEV__?De(y==="network-only"||y==="no-cache","Mutations support only 'network-only' or 'no-cache' fetchPolicy strings. The default `network-only` behavior automatically writes mutation results to the cache. Passing `no-cache` skips the cache write."):De(y==="network-only"||y==="no-cache",16),D=this.generateMutationId(),M=this.transform(r),J=M.document,V=M.hasClientExports,r=this.cache.transformForLink(J),n=this.getVariables(r,n),V?[4,this.localState.addExportedVariables(r,n,x)]:[3,2];case 1:n=ie.sent(),ie.label=2;case 2:return W=this.mutationStore&&(this.mutationStore[D]={mutation:r,variables:n,loading:!0,error:null}),s&&this.markMutationOptimistic(s,{mutationId:D,document:r,variables:n,fetchPolicy:y,errorPolicy:w,context:x,updateQueries:a,update:p,keepRootFields:_}),this.broadcastQueries(),P=this,[2,new Promise(function(fe,B){return Bl(P.getObservableFromLink(r,ce(ce({},x),{optimisticResponse:s}),n,!1),function(Z){if(oa(Z)&&w==="none")throw new Fr({graphQLErrors:Iu(Z)});W&&(W.loading=!1,W.error=null);var I=ce({},Z);return typeof c=="function"&&(c=c(I)),w==="ignore"&&oa(I)&&delete I.errors,P.markMutationResult({mutationId:D,result:I,document:r,variables:n,fetchPolicy:y,errorPolicy:w,context:x,update:p,updateQueries:a,awaitRefetchQueries:d,refetchQueries:c,removeOptimistic:s?D:void 0,onQueryUpdated:f,keepRootFields:_})}).subscribe({next:function(Z){P.broadcastQueries(),(!("hasNext"in Z)||Z.hasNext===!1)&&fe(Z)},error:function(Z){W&&(W.loading=!1,W.error=Z),s&&P.cache.removeOptimistic(D),P.broadcastQueries(),B(Z instanceof Fr?Z:new Fr({networkError:Z}))}})})]}})})},e.prototype.markMutationResult=function(t,o){var i=this;o===void 0&&(o=this.cache);var r=t.result,n=[],s=t.fetchPolicy==="no-cache";if(!s&&zu(r,t.errorPolicy)){if(Ni(r)||n.push({result:r.data,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}),Ni(r)&&co(r.incremental)){var a=o.diff({id:"ROOT_MUTATION",query:this.transform(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0}),l=void 0;a.result&&(l=uy(a.result,r)),typeof l<"u"&&(r.data=l,n.push({result:l,dataId:"ROOT_MUTATION",query:t.document,variables:t.variables}))}var c=t.updateQueries;c&&this.queries.forEach(function(d,p){var f=d.observableQuery,g=f&&f.queryName;if(!(!g||!TN.call(c,g))){var y=c[g],T=i.queries.get(p),w=T.document,_=T.variables,x=o.diff({query:w,variables:_,returnPartialData:!0,optimistic:!1}),D=x.result,M=x.complete;if(M&&D){var J=y(D,{mutationResult:r,queryName:w&&Au(w)||void 0,queryVariables:_});J&&n.push({result:J,dataId:"ROOT_QUERY",query:w,variables:_})}}})}if(n.length>0||t.refetchQueries||t.update||t.onQueryUpdated||t.removeOptimistic){var u=[];if(this.refetchQueries({updateCache:function(d){s||n.forEach(function(y){return d.write(y)});var p=t.update,f=!tA(r)||Ni(r)&&!r.hasNext;if(p){if(!s){var g=d.diff({id:"ROOT_MUTATION",query:i.transform(t.document).asQuery,variables:t.variables,optimistic:!1,returnPartialData:!0});g.complete&&(r=ce(ce({},r),{data:g.result}),"incremental"in r&&delete r.incremental,"hasNext"in r&&delete r.hasNext)}f&&p(d,r,{context:t.context,variables:t.variables})}!s&&!t.keepRootFields&&f&&d.modify({id:"ROOT_MUTATION",fields:function(y,T){var w=T.fieldName,_=T.DELETE;return w==="__typename"?y:_}})},include:t.refetchQueries,optimistic:!1,removeOptimistic:t.removeOptimistic,onQueryUpdated:t.onQueryUpdated||null}).forEach(function(d){return u.push(d)}),t.awaitRefetchQueries||t.onQueryUpdated)return Promise.all(u).then(function(){return r})}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(t,o){var i=this,r=typeof t=="function"?t(o.variables):t;return this.cache.recordOptimisticTransaction(function(n){try{i.markMutationResult(ce(ce({},o),{result:{data:r}}),n)}catch(s){__DEV__&&De.error(s)}},o.mutationId)},e.prototype.fetchQuery=function(t,o,i){return this.fetchQueryObservable(t,o,i).promise},e.prototype.getQueryStore=function(){var t=Object.create(null);return this.queries.forEach(function(o,i){t[i]={variables:o.variables,networkStatus:o.networkStatus,networkError:o.networkError,graphQLErrors:o.graphQLErrors}}),t},e.prototype.resetErrors=function(t){var o=this.queries.get(t);o&&(o.networkError=void 0,o.graphQLErrors=[])},e.prototype.transform=function(t){var o=this.transformCache;if(!o.has(t)){var i=this.cache.transformDocument(t),r=BS(i),n=this.localState.clientQuery(i),s=r&&this.localState.serverQuery(r),a={document:i,hasClientExports:mS(i),hasForcedResolvers:this.localState.shouldForceResolvers(i),clientQuery:n,serverQuery:s,defaultVars:Qd(ns(i)),asQuery:ce(ce({},i),{definitions:i.definitions.map(function(c){return c.kind==="OperationDefinition"&&c.operation!=="query"?ce(ce({},c),{operation:"query"}):c})})},l=function(c){c&&!o.has(c)&&o.set(c,a)};l(t),l(i),l(n),l(s)}return o.get(t)},e.prototype.getVariables=function(t,o){return ce(ce({},this.transform(t).defaultVars),o)},e.prototype.watchQuery=function(t){t=ce(ce({},t),{variables:this.getVariables(t.query,t.variables)}),typeof t.notifyOnNetworkStatusChange>"u"&&(t.notifyOnNetworkStatusChange=!1);var o=new Wl(this),i=new ju({queryManager:this,queryInfo:o,options:t});return this.queries.set(i.queryId,o),o.init({document:i.query,observableQuery:i,variables:i.variables}),i},e.prototype.query=function(t,o){var i=this;return o===void 0&&(o=this.generateQueryId()),__DEV__?De(t.query,"query option is required. You must specify your GraphQL document in the query option."):De(t.query,17),__DEV__?De(t.query.kind==="Document",'You must wrap the query string in a "gql" tag.'):De(t.query.kind==="Document",18),__DEV__?De(!t.returnPartialData,"returnPartialData option only supported on watchQuery."):De(!t.returnPartialData,19),__DEV__?De(!t.pollInterval,"pollInterval option only supported on watchQuery."):De(!t.pollInterval,20),this.fetchQuery(o,t).finally(function(){return i.stopQuery(o)})},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(t){this.stopQueryInStoreNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(t){var o=this.queries.get(t);o&&o.stop()},e.prototype.clearStore=function(t){return t===void 0&&(t={discardWatches:!0}),this.cancelPendingFetches(__DEV__?new Ze("Store reset while query was in flight (not completed in link chain)"):new Ze(21)),this.queries.forEach(function(o){o.observableQuery?o.networkStatus=rt.loading:o.stop()}),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(t)},e.prototype.getObservableQueries=function(t){var o=this;t===void 0&&(t="active");var i=new Map,r=new Map,n=new Set;return Array.isArray(t)&&t.forEach(function(s){typeof s=="string"?r.set(s,!1):bS(s)?r.set(o.transform(s).document,!1):mt(s)&&s.query&&n.add(s)}),this.queries.forEach(function(s,a){var l=s.observableQuery,c=s.document;if(l){if(t==="all"){i.set(a,l);return}var u=l.queryName,d=l.options.fetchPolicy;if(d==="standby"||t==="active"&&!l.hasObservers())return;(t==="active"||u&&r.has(u)||c&&r.has(c))&&(i.set(a,l),u&&r.set(u,!0),c&&r.set(c,!0))}}),n.size&&n.forEach(function(s){var a=Du("legacyOneTimeQuery"),l=o.getQuery(a).init({document:s.query,variables:s.variables}),c=new ju({queryManager:o,queryInfo:l,options:ce(ce({},s),{fetchPolicy:"network-only"})});De(c.queryId===a),l.setObservableQuery(c),i.set(a,c)}),__DEV__&&r.size&&r.forEach(function(s,a){s||__DEV__&&De.warn("Unknown query ".concat(typeof a=="string"?"named ":"").concat(JSON.stringify(a,null,2)," requested in refetchQueries options.include array"))}),i},e.prototype.reFetchObservableQueries=function(t){var o=this;t===void 0&&(t=!1);var i=[];return this.getObservableQueries(t?"all":"active").forEach(function(r,n){var s=r.options.fetchPolicy;r.resetLastResults(),(t||s!=="standby"&&s!=="cache-only")&&i.push(r.refetch()),o.getQuery(n).setDiff(null)}),this.broadcastQueries(),Promise.all(i)},e.prototype.setObservableQuery=function(t){this.getQuery(t.queryId).setObservableQuery(t)},e.prototype.startGraphQLSubscription=function(t){var o=this,i=t.query,r=t.fetchPolicy,n=t.errorPolicy,s=t.variables,a=t.context,l=a===void 0?{}:a;i=this.transform(i).document,s=this.getVariables(i,s);var c=function(d){return o.getObservableFromLink(i,l,d).map(function(p){if(r!=="no-cache"&&(zu(p,n)&&o.cache.write({query:i,result:p.data,dataId:"ROOT_SUBSCRIPTION",variables:d}),o.broadcastQueries()),oa(p))throw new Fr({graphQLErrors:p.errors});return p})};if(this.transform(i).hasClientExports){var u=this.localState.addExportedVariables(i,s,l).then(c);return new nt(function(d){var p=null;return u.then(function(f){return p=f.subscribe(d)},d.error),function(){return p&&p.unsubscribe()}})}return c(s)},e.prototype.stopQuery=function(t){this.stopQueryNoBroadcast(t),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(t){this.stopQueryInStoreNoBroadcast(t),this.removeQuery(t)},e.prototype.removeQuery=function(t){this.fetchCancelFns.delete(t),this.queries.has(t)&&(this.getQuery(t).stop(),this.queries.delete(t))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach(function(t){return t.notify()})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(t,o,i,r){var n=this,s;r===void 0&&(r=(s=o==null?void 0:o.queryDeduplication)!==null&&s!==void 0?s:this.queryDeduplication);var a,l=this.transform(t).serverQuery;if(l){var c=this,u=c.inFlightLinkObservables,d=c.link,p={query:l,variables:i,operationName:Au(l)||void 0,context:this.prepareContext(ce(ce({},o),{forceFetch:!r}))};if(o=p.context,r){var f=u.get(l)||new Map;u.set(l,f);var g=Kr(i);if(a=f.get(g),!a){var y=new Tn([ku(d,p)]);f.set(g,a=y),y.beforeNext(function(){f.delete(g)&&f.size<1&&u.delete(l)})}}else a=new Tn([ku(d,p)])}else a=new Tn([nt.of({data:{}})]),o=this.prepareContext(o);var T=this.transform(t).clientQuery;return T&&(a=Bl(a,function(w){return n.localState.runResolvers({document:T,remoteResult:w,context:o,variables:i})})),a},e.prototype.getResultsFromLink=function(t,o,i){var r=t.lastRequestId=this.generateRequestId(),n=this.cache.transformForLink(this.transform(t.document).document);return Bl(this.getObservableFromLink(n,i.context,i.variables),function(s){var a=Iu(s),l=a.length>0;if(r>=t.lastRequestId){if(l&&i.errorPolicy==="none")throw t.markError(new Fr({graphQLErrors:a}));t.markResult(s,n,i,o),t.markReady()}var c={data:s.data,loading:!1,networkStatus:rt.ready};return l&&i.errorPolicy!=="ignore"&&(c.errors=a,c.networkStatus=rt.error),c},function(s){var a=_N(s)?s:new Fr({networkError:s});throw r>=t.lastRequestId&&t.markError(a),a})},e.prototype.fetchQueryObservable=function(t,o,i){var r=this;i===void 0&&(i=rt.loading);var n=this.transform(o.query).document,s=this.getVariables(n,o.variables),a=this.getQuery(t),l=this.defaultOptions.watchQuery,c=o.fetchPolicy,u=c===void 0?l&&l.fetchPolicy||"cache-first":c,d=o.errorPolicy,p=d===void 0?l&&l.errorPolicy||"none":d,f=o.returnPartialData,g=f===void 0?!1:f,y=o.notifyOnNetworkStatusChange,T=y===void 0?!1:y,w=o.context,_=w===void 0?{}:w,x=Object.assign({},o,{query:n,variables:s,fetchPolicy:u,errorPolicy:p,returnPartialData:g,notifyOnNetworkStatusChange:T,context:_}),D=function(V){x.variables=V;var W=r.fetchQueryByPolicy(a,x,i);return x.fetchPolicy!=="standby"&&W.length>0&&a.observableQuery&&a.observableQuery.applyNextFetchPolicy("after-fetch",o),W},M=function(){return r.fetchCancelFns.delete(t)};this.fetchCancelFns.set(t,function(V){M(),setTimeout(function(){return J.cancel(V)})});var J=new Tn(this.transform(x.query).hasClientExports?this.localState.addExportedVariables(x.query,x.variables,x.context).then(D):D(x.variables));return J.promise.then(M,M),J},e.prototype.refetchQueries=function(t){var o=this,i=t.updateCache,r=t.include,n=t.optimistic,s=n===void 0?!1:n,a=t.removeOptimistic,l=a===void 0?s?Du("refetchQueries"):void 0:a,c=t.onQueryUpdated,u=new Map;r&&this.getObservableQueries(r).forEach(function(p,f){u.set(f,{oq:p,lastDiff:o.getQuery(f).getDiff()})});var d=new Map;return i&&this.cache.batch({update:i,optimistic:s&&l||!1,removeOptimistic:l,onWatchUpdated:function(p,f,g){var y=p.watcher instanceof Wl&&p.watcher.observableQuery;if(y){if(c){u.delete(y.queryId);var T=c(y,f,g);return T===!0&&(T=y.refetch()),T!==!1&&d.set(y,T),T}c!==null&&u.set(y.queryId,{oq:y,lastDiff:g,diff:f})}}}),u.size&&u.forEach(function(p,f){var g=p.oq,y=p.lastDiff,T=p.diff,w;if(c){if(!T){var _=g.queryInfo;_.reset(),T=_.getDiff()}w=c(g,T,y)}(!c||w===!0)&&(w=g.refetch()),w!==!1&&d.set(g,w),f.indexOf("legacyOneTimeQuery")>=0&&o.stopQueryNoBroadcast(f)}),l&&this.cache.removeOptimistic(l),d},e.prototype.fetchQueryByPolicy=function(t,o,i){var r=this,n=o.query,s=o.variables,a=o.fetchPolicy,l=o.refetchWritePolicy,c=o.errorPolicy,u=o.returnPartialData,d=o.context,p=o.notifyOnNetworkStatusChange,f=t.networkStatus;t.init({document:this.transform(n).document,variables:s,networkStatus:i});var g=function(){return t.getDiff(s)},y=function(D,M){M===void 0&&(M=t.networkStatus||rt.loading);var J=D.result;__DEV__&&!u&&!xt(J,{})&&$y(D.missing);var V=function(W){return nt.of(ce({data:W,loading:Yn(M),networkStatus:M},D.complete?null:{partial:!0}))};return J&&r.transform(n).hasForcedResolvers?r.localState.runResolvers({document:n,remoteResult:{data:J},context:d,variables:s,onlyRunForcedResolvers:!0}).then(function(W){return V(W.data||void 0)}):c==="none"&&M===rt.refetch&&Array.isArray(D.missing)?V(void 0):V(J)},T=a==="no-cache"?0:i===rt.refetch&&l!=="merge"?1:2,w=function(){return r.getResultsFromLink(t,T,{variables:s,context:d,fetchPolicy:a,errorPolicy:c})},_=p&&typeof f=="number"&&f!==i&&Yn(i);switch(a){default:case"cache-first":{var x=g();return x.complete?[y(x,t.markReady())]:u||_?[y(x),w()]:[w()]}case"cache-and-network":{var x=g();return x.complete||u||_?[y(x),w()]:[w()]}case"cache-only":return[y(g(),t.markReady())];case"network-only":return _?[y(g()),w()]:[w()];case"no-cache":return _?[y(t.getDiff()),w()]:[w()];case"standby":return[]}},e.prototype.getQuery=function(t){return t&&!this.queries.has(t)&&this.queries.set(t,new Wl(this,t)),this.queries.get(t)},e.prototype.prepareContext=function(t){t===void 0&&(t={});var o=this.localState.prepareContext(t);return ce(ce({},o),{clientAwareness:this.clientAwareness})},e}(),kp=!1,IN=function(){function e(t){var o=this;this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var i=t.uri,r=t.credentials,n=t.headers,s=t.cache,a=t.ssrMode,l=a===void 0?!1:a,c=t.ssrForceFetchDelay,u=c===void 0?0:c,d=t.connectToDevTools,p=d===void 0?typeof window=="object"&&!window.__APOLLO_CLIENT__&&__DEV__:d,f=t.queryDeduplication,g=f===void 0?!0:f,y=t.defaultOptions,T=t.assumeImmutableResults,w=T===void 0?!1:T,_=t.resolvers,x=t.typeDefs,D=t.fragmentMatcher,M=t.name,J=t.version,V=t.link;if(V||(V=i?new RA({uri:i,credentials:r,headers:n}):Ao.empty()),!s)throw __DEV__?new Ze(`To initialize Apollo Client, you must specify a 'cache' property in the options object. 
For more information, please visit: https://go.apollo.dev/c/docs`):new Ze(9);if(this.link=V,this.cache=s,this.disableNetworkFetches=l||u>0,this.queryDeduplication=g,this.defaultOptions=y||Object.create(null),this.typeDefs=x,u&&setTimeout(function(){return o.disableNetworkFetches=!1},u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),p&&typeof window=="object"&&(window.__APOLLO_CLIENT__=this),!kp&&p&&__DEV__&&(kp=!0,typeof window<"u"&&window.document&&window.top===window.self&&!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__)){var W=window.navigator,P=W&&W.userAgent,ie=void 0;typeof P=="string"&&(P.indexOf("Chrome/")>-1?ie="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":P.indexOf("Firefox/")>-1&&(ie="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),ie&&__DEV__&&De.log("Download the Apollo DevTools for a better development experience: "+ie)}this.version=lA,this.localState=new Uy({cache:s,client:this,resolvers:_,fragmentMatcher:D}),this.queryManager=new xN({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,queryDeduplication:g,ssrMode:l,clientAwareness:{name:M,version:J},localState:this.localState,assumeImmutableResults:w,onBroadcast:p?function(){o.devToolsHookCb&&o.devToolsHookCb({action:{},state:{queries:o.queryManager.getQueryStore(),mutations:o.queryManager.mutationStore||{}},dataWithOptimisticResults:o.cache.extract(!0)})}:void 0})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(t){return this.defaultOptions.watchQuery&&(t=Ll(this.defaultOptions.watchQuery,t)),this.disableNetworkFetches&&(t.fetchPolicy==="network-only"||t.fetchPolicy==="cache-and-network")&&(t=ce(ce({},t),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(t)},e.prototype.query=function(t){return this.defaultOptions.query&&(t=Ll(this.defaultOptions.query,t)),__DEV__?De(t.fetchPolicy!=="cache-and-network","The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."):De(t.fetchPolicy!=="cache-and-network",10),this.disableNetworkFetches&&t.fetchPolicy==="network-only"&&(t=ce(ce({},t),{fetchPolicy:"cache-first"})),this.queryManager.query(t)},e.prototype.mutate=function(t){return this.defaultOptions.mutate&&(t=Ll(this.defaultOptions.mutate,t)),this.queryManager.mutate(t)},e.prototype.subscribe=function(t){return this.queryManager.startGraphQLSubscription(t)},e.prototype.readQuery=function(t,o){return o===void 0&&(o=!1),this.cache.readQuery(t,o)},e.prototype.readFragment=function(t,o){return o===void 0&&(o=!1),this.cache.readFragment(t,o)},e.prototype.writeQuery=function(t){var o=this.cache.writeQuery(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),o},e.prototype.writeFragment=function(t){var o=this.cache.writeFragment(t);return t.broadcast!==!1&&this.queryManager.broadcastQueries(),o},e.prototype.__actionHookForDevTools=function(t){this.devToolsHookCb=t},e.prototype.__requestRaw=function(t){return ku(this.link,t)},e.prototype.resetStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!1})}).then(function(){return Promise.all(t.resetStoreCallbacks.map(function(o){return o()}))}).then(function(){return t.reFetchObservableQueries()})},e.prototype.clearStore=function(){var t=this;return Promise.resolve().then(function(){return t.queryManager.clearStore({discardWatches:!0})}).then(function(){return Promise.all(t.clearStoreCallbacks.map(function(o){return o()}))})},e.prototype.onResetStore=function(t){var o=this;return this.resetStoreCallbacks.push(t),function(){o.resetStoreCallbacks=o.resetStoreCallbacks.filter(function(i){return i!==t})}},e.prototype.onClearStore=function(t){var o=this;return this.clearStoreCallbacks.push(t),function(){o.clearStoreCallbacks=o.clearStoreCallbacks.filter(function(i){return i!==t})}},e.prototype.reFetchObservableQueries=function(t){return this.queryManager.reFetchObservableQueries(t)},e.prototype.refetchQueries=function(t){var o=this.queryManager.refetchQueries(t),i=[],r=[];o.forEach(function(s,a){i.push(a),r.push(s)});var n=Promise.all(r);return n.queries=i,n.results=r,n.catch(function(s){__DEV__&&De.debug("In client.refetchQueries, Promise.all promise rejected with error ".concat(s))}),n},e.prototype.getObservableQueries=function(t){return t===void 0&&(t="active"),this.queryManager.getObservableQueries(t)},e.prototype.extract=function(t){return this.cache.extract(t)},e.prototype.restore=function(t){return this.cache.restore(t)},e.prototype.addResolvers=function(t){this.localState.addResolvers(t)},e.prototype.setResolvers=function(t){this.localState.setResolvers(t)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(t){this.localState.setFragmentMatcher(t)},e.prototype.setLink=function(t){this.link=this.queryManager.link=t},e}();const Vu=Pe`
  query {
    acciones @client {
      mensaje
      tipo
      timestamp
    }
  }
`;let Go=window.location.host;Go.includes("localhost")&&(Go="localhost:3000");Go.includes("5173")&&(Go=Go.replace("5173","3000"));console.log(`Host location: ${Go}`);let qy="http://",jy="ws://";Go.includes("heroku")&&(console.log("Protocolo https"),qy="https://",jy="wss://");let zy=qy+Go,DN=jy+Go;var PN=new Intl.NumberFormat("en-US",{style:"currency",currency:"COP"});const Xn=Ce`
  query auth_usuario_local{
    auth_usuario @client{
      id
      username
      permisos
      subscripcionIlimitada
      millisFinSubscripcion
      token
    }
  }
`,kN={apollo:{usuario:{query:Xn,fetchPolicy:"cache-only",update({auth_usuario:e}){return e}},estadoRed:{query:Ce`
            query{
                estadoRed @client
            }
        `}},data(){return{widthScreen:100,serverUrl:zy,usuario:null}},computed:{usuarioLogeado(){return this.usuario!=null&&this.usuario.id},usuarioSuperadministrador:function(){var e,t;return(t=(e=this.usuario)==null?void 0:e.permisos)==null?void 0:t.includes("superadministrador")},produccion(){return!0},usuarioProfe:function(){var e;return(e=this.usuario)!=null&&e.permisos?this.usuario.permisos.includes("maestraVida-profesor"):!1},usuarioEscuelaMaestraVida(){var e,t,o;return((e=this.usuario)==null?void 0:e.permisos.includes("maestraVida-profesor"))||((t=this.usuario)==null?void 0:t.permisos.includes("maestraVida-estudiante"))||((o=this.usuario)==null?void 0:o.permisos.includes("maestraVida-acompañante"))},deviceMobile(){}},methods:{raiseAccion(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:Vu});let r=JSON.parse(JSON.stringify(i));r||(r={}),r.acciones||(r.acciones=[]),r.acciones.push({mensaje:e,tipo:t||"accion",timestamp:Date.now()}),o.writeQuery({query:Vu,data:r})},selectTargetFocus(e){e.target&&e.target.select()},toReadableTime(e){var t=new Date(e),o=""+t.getHours();o.length===1&&(o="0"+o);var i=""+t.getMinutes();return i.length===1&&(i="0"+i),o+":"+i},toReadableDate(e){var t=new Date(e),o=t.getFullYear();const i=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],r=["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"];var n=i[t.getMonth()],s=t.getDate(),a=r[t.getDay()],l=a+" "+s+" de "+n;return o!=new Date(Date.now()).getFullYear()&&(l="("+o+") "+l),l},toReadableFullDate(e){return this.toReadableDate(e)+" - "+this.toReadableTime(e)},enrichedToReadableDate(e){var t=new Date(e),o=t.getFullYear(),i=t.getMonth(),r=t.getDate(),n=new Date,s=new Date(n.getTime()+864e5),a=new Date(n.getTime()-864e5);return o===n.getFullYear()&&i===n.getMonth()&&r===n.getDate()?"Hoy":o===s.getFullYear()&&i===s.getMonth()&&r===s.getDate()?"Mañana":o===a.getFullYear()&&i===a.getMonth()&&r===a.getDate()?"Ayer":this.toReadableDate(e)},enrichedToReadableFullDate(e){return this.enrichedToReadableDate(e)+" - "+this.toReadableTime(e)},toReadableMoney(e){var t=PN.format(e);return t}},mounted(){this.widthScreen=screen.width}};var zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hu(e,t,o){var i,r,n,s,a;t==null&&(t=100);function l(){var u=Date.now()-s;u<t&&u>=0?i=setTimeout(l,t-u):(i=null,o||(a=e.apply(n,r),n=r=null))}var c=function(){n=this,r=arguments,s=Date.now();var u=o&&!i;return i||(i=setTimeout(l,t)),u&&(a=e.apply(n,r),n=r=null),a};return c.clear=function(){i&&(clearTimeout(i),i=null)},c.flush=function(){i&&(a=e.apply(n,r),n=r=null,clearTimeout(i),i=null)},c}Hu.debounce=Hu;var Xa=Hu;const Rt="/caracol/assets/equis-115f5fad.svg",Le=(e,t)=>{const o=e.__vccOpts||e;for(const[i,r]of t)o[i]=r;return o},ON={name:"accion",props:{estaAccion:{type:Object,required:!0}}},RN={id:"barraPrincipal"},MN={id:"icono"},FN={key:0,src:Rt,alt:"Error"},BN={id:"mensaje"};function LN(e,t,o,i,r,n){return H(),Y("div",{class:de(["accion",[o.estaAccion.tipo]])},[v("div",RN,[v("div",MN,[o.estaAccion.tipo==="error"?(H(),Y("img",FN)):he("",!0)]),v("div",BN,ve(o.estaAccion.mensaje),1)])],2)}const $N=Le(ON,[["render",LN],["__scopeId","data-v-2fc49aa6"]]),UN={name:"GestorAcciones",components:{Accion:$N},apollo:{acciones:{query:Vu}},data(){return{mostrandoListaAcciones:!1,poppingLastAccion:!1}},computed:{lastAccion(){return!this.acciones||this.acciones.length<1?null:this.acciones[this.acciones.length-1]}},methods:{unpop:Xa(function(){this.poppingLastAccion=!1},2600)},watch:{lastAccion(e){e&&Date.now()-e.timestamp>1e4||(this.poppingLastAccion=!0,this.unpop())}}},qN={class:"gestorAcciones"},jN={key:0,id:"lastAccion",class:"anuncio"},zN={key:0,class:"listaAcciones"};function VN(e,t,o,i,r,n){const s=Te("accion");return H(),Y("div",qN,[Se(Qi,{name:"fade"},{default:ht(()=>[n.lastAccion?U((H(),Y("div",jN,[Se(s,{estaAccion:n.lastAccion},null,8,["estaAccion"])],512)),[[K,!r.mostrandoListaAcciones&&r.poppingLastAccion]]):he("",!0)]),_:1}),r.mostrandoListaAcciones?(H(),Y("div",zN,[(H(!0),Y(Me,null,Ve(e.acciones,(a,l)=>(H(),qe(s,{key:"accion"+l,estaAccion:a},null,8,["estaAccion"]))),128))])):he("",!0)])}const HN=Le(UN,[["render",VN],["__scopeId","data-v-c84200e7"]]),Vy="/caracol/assets/stream-ec9379f8.svg",WN="/caracol/assets/home-959f5783.svg",QN="/caracol/assets/compassRegular-35a3bb0d.svg",Hy="/caracol/assets/users-51870354.svg",GN="/caracol/assets/calendarWeek-c4109c41.svg",Wy="/caracol/assets/routeSolid-5d88aed0.svg",KN="/caracol/assets/userPlus-5dbbfe78.svg",as="/caracol/assets/user-7388aad2.svg",JN="/caracol/assets/userLock-66f42e7a.svg",Qy="/caracol/assets/idBadge-e2f47328.svg",YN="/caracol/assets/xMark-a3920273.svg",XN=Ce`
  query {
    estadoRed
  }
`,ZN=Ce`
  query {
    yo {
      id
      nombres
      apellidos
      permisos
        finSubscripcion
    }
  }
`,eC=Ce`
query{
    refreshToken
}
`;function Op(e){var t=e.split(".")[1],o=t.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(o).split("").map(function(r){return"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}const tC={name:"App",apollo:{yo:{query:ZN,fetchPolicy:"cache-and-network",skip(){var e;return!((e=this.usuario)!=null&&e.id)}},token:{query:eC,update({refreshToken:e}){let t=Op(e);const o=this.$apollo.provider.defaultClient;let i={id:t.id,username:t.username,permisos:t.permisos,subscripcionIlimitada:t.subscripcionIlimitada,millisFinSubscripcion:t.millisFinSubscripcion,token:e};return o.writeQuery({query:Xn,data:{auth_usuario:i}}),e},skip(){return!this.usuarioLogeado},fetchPolicy:"network-only",pollInterval:6e5*10}},components:{GestorAcciones:HN},data(){return{token:null,mostrandoInfoFinSubscripcion:!1,mostrandoNavUsuario:!1,accionesLogeado:!1,yo:{atlas:{colecciones:[],datosNodo:[]}},mostrandoNav:!1,navSeleccionado:"home",errores:[]}},computed:{subscripcionActiva(){var e;return(e=this.usuario)!=null&&e.permisos?this.usuario.permisos.some(t=>t.substring(0,11)==="maestraVida")||this.usuario.permisos.includes("subscripcion-ilimitada")?!0:this.yo.finSubscripcion?Date.now()<new Date(this.yo.finSubscripcion).getTime():!1:!1},estiloBackground(){let e="",t="rgba(235, 85, 21, 0.75) 73.16%";return{background:"linear-gradient( 190.19deg, "+e+" 7.52%, "+t+" 73.16%)"}},tallerCuentosUrl(){return"https://192.168.1.100:3000"},username:function(){return this.usuario.username},colorBlancoAccionLogeado:function(){return this.accionesLogeado?{backgroundColor:"white"}:{}}},methods:{alienarPersona(e){this.$router.push("/home"),this.logearUsuario(e)},cerrarMenus(){this.mostrandoNav=!1,this.mostrandoNavUsuario=!1},setEstadoRed(){this.$apollo.provider.defaultClient.writeQuery({query:XN,data:{estadoRed:navigator.onLine}})},logearUsuario(e){let t=Op(e);const o=this.$apollo.provider.defaultClient;let i={id:t.id,username:t.username,permisos:t.permisos,subscripcionIlimitada:t.subscripcionIlimitada,millisFinSubscripcion:t.millisFinSubscripcion,token:e};o.writeQuery({query:Xn,data:{auth_usuario:i}}),this.$router.push({name:"perfilPersonal"}),this.setEstadoRed()},async deslogearse(){this.$router.push({name:"logoutScreen"})}},watch:{mostrandoNav(e){e&&(this.mostrandoNavUsuario=!1)},mostrandoNavUsuario(e){e&&(this.mostrandoNav=!1)},$route(e){e.name!="visorNodoConocimiento"&&(document.title="La estrategia del caracol")}},mounted(){var e;(e=this.yo)!=null&&e.finSubscripcion&&this.yo.finSubscripcion.getTime()<Date.now()&&(this.mostrandoInfoFinSubscripcion=!0)},created(){this.setEstadoRed(),window.addEventListener("online",this.setEstadoRed),window.addEventListener("offline",this.setEstadoRed)},destroyed(){window.removeEventListener("online",this.setEstadoRed),window.removeEventListener("offline",this.setEstadoRed)}},No=e=>(Ge("data-v-160eacc3"),e=e(),Ke(),e),oC={id:"navBar"},rC=No(()=>v("img",{id:"botonDesplegarNav",src:Vy,alt:"Menu"},null,-1)),iC=[rC],nC=No(()=>v("img",{src:WN,alt:"Compás"},null,-1)),sC=No(()=>v("img",{src:QN,alt:"Compás"},null,-1)),aC=No(()=>v("img",{src:Hy,alt:"Usuarios"},null,-1)),lC={key:1,class:"bloqueNav"},cC=No(()=>v("div",{class:"tituloBloqueNav"},"Escuela",-1)),uC={class:"desplegableBloqueNav"},dC=No(()=>v("img",{src:GN,alt:"Calendario"},null,-1)),fC=No(()=>v("img",{src:Wy,alt:"Calendario"},null,-1)),hC={key:2,class:"bloqueNav"},pC=No(()=>v("div",{class:"tituloBloqueNav"},"Administración",-1)),mC={class:"desplegableBloqueNav"},vC=No(()=>v("img",{src:KN,alt:"Crear usuario"},null,-1)),gC={key:0,src:as,alt:"Usuario"},yC={key:1,src:JN,alt:"Locked user"},bC=No(()=>v("img",{src:Qy,alt:"Identificación"},null,-1)),wC=No(()=>v("img",{src:YN,alt:"Identificación"},null,-1));function EC(e,t,o,i,r,n){const s=Te("router-link"),a=Te("router-view"),l=Te("gestor-acciones");return H(),Y("div",{id:"app",onClick:t[5]||(t[5]=(...c)=>n.cerrarMenus&&n.cerrarMenus(...c)),class:de({landing:e.$route.name==="home"||e.$route.name==="loginScreen"})},[v("div",oC,[v("div",{id:"botonMenuNav",class:"boton",onClick:t[0]||(t[0]=Ae(c=>r.mostrandoNav=!r.mostrandoNav,["stop"]))},iC),v("div",{id:"contenedorBotonesNav",class:de(["menuNavDesplegable",{desplegado:r.mostrandoNav}]),onClick:t[1]||(t[1]=Ae((...c)=>n.cerrarMenus&&n.cerrarMenus(...c),["stop"]))},[Se(s,{to:"/",class:"botonNav",id:"navHome"},{default:ht(()=>[nC,$e(" Inicio ")]),_:1}),Se(s,{to:{name:"atlas",params:{tipoBrowse:"mapa",idBrowsed:"123"}},class:"botonNav",id:"navAtlas"},{default:ht(()=>[sC,$e(" Atlas de conocimientos ")]),_:1}),e.usuarioLogeado?(H(),qe(s,{key:0,to:"/personas",class:"botonNav",id:"navActividadesVirtuales"},{default:ht(()=>[aC,$e(" Personas ")]),_:1})):he("",!0),e.usuarioLogeado&&e.usuarioEscuelaMaestraVida?(H(),Y("div",lC,[cC,v("div",uC,[Se(s,{to:"/espacios",class:"botonNav",id:"navActividadesVirtuales"},{default:ht(()=>[dC,$e(" Horario semanal ")]),_:1}),r.yo&&r.yo.id?(H(),qe(s,{key:0,to:"/rutaGrado/"+r.yo.id,class:"botonNav",id:"navRutaGrado"},{default:ht(()=>[fC,$e(" Mi ruta de grado ")]),_:1},8,["to"])):he("",!0)])])):he("",!0),e.usuarioSuperadministrador?(H(),Y("div",hC,[pC,v("div",mC,[e.usuarioSuperadministrador?(H(),qe(s,{key:0,to:"/registro",id:"navRegistro",class:"botonNav"},{default:ht(()=>[vC,$e(" Registrar usuario ")]),_:1})):he("",!0)])])):he("",!0)],2),e.usuarioLogeado?(H(),Y("div",{key:0,id:"botonMenuNavUsuario",onClick:t[2]||(t[2]=Ae(c=>r.mostrandoNavUsuario=!r.mostrandoNavUsuario,["stop"]))},[v("span",null,ve(r.yo.nombres),1),n.subscripcionActiva?(H(),Y("img",gC)):he("",!0),n.subscripcionActiva?he("",!0):(H(),Y("img",yC))])):he("",!0),e.usuarioLogeado?(H(),Y("div",{key:1,id:"contenedorBotonesUsuario",class:de(["menuNavDesplegable",{desplegado:r.mostrandoNavUsuario}]),onClick:t[4]||(t[4]=Ae((...c)=>n.cerrarMenus&&n.cerrarMenus(...c),["stop"]))},[Se(s,{to:{name:"perfilPersonal"},class:"botonNav"},{default:ht(()=>[bC,$e(" Perfil personal ")]),_:1}),v("div",{class:"botonNav",onClick:t[3]||(t[3]=(...c)=>n.deslogearse&&n.deslogearse(...c))},[wC,$e(" Salir ")])],2)):he("",!0)]),Se(a,{onLogearse:n.logearUsuario,onAlienandoPersona:n.alienarPersona,id:"visorRouter",yo:r.yo},null,8,["onLogearse","onAlienandoPersona","yo"]),Se(l)],2)}const _C=Le(tC,[["render",EC],["__scopeId","data-v-160eacc3"]]);/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const pi=typeof window<"u";function SC(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const tt=Object.assign;function Ql(e,t){const o={};for(const i in t){const r=t[i];o[i]=So(r)?r.map(e):e(r)}return o}const Fn=()=>{},So=Array.isArray,AC=/\/$/,NC=e=>e.replace(AC,"");function Gl(e,t,o="/"){let i,r={},n="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),n=t.slice(l+1,a>-1?a:t.length),r=e(n)),a>-1&&(i=i||t.slice(0,a),s=t.slice(a,t.length)),i=IC(i??t,o),{fullPath:i+(n&&"?")+n+s,path:i,query:r,hash:s}}function CC(e,t){const o=t.query?e(t.query):"";return t.path+(o&&"?")+o+(t.hash||"")}function Rp(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function TC(e,t,o){const i=t.matched.length-1,r=o.matched.length-1;return i>-1&&i===r&&Bi(t.matched[i],o.matched[r])&&Gy(t.params,o.params)&&e(t.query)===e(o.query)&&t.hash===o.hash}function Bi(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Gy(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const o in e)if(!xC(e[o],t[o]))return!1;return!0}function xC(e,t){return So(e)?Mp(e,t):So(t)?Mp(t,e):e===t}function Mp(e,t){return So(t)?e.length===t.length&&e.every((o,i)=>o===t[i]):e.length===1&&e[0]===t}function IC(e,t){if(e.startsWith("/"))return e;if(!e)return t;const o=t.split("/"),i=e.split("/");let r=o.length-1,n,s;for(n=0;n<i.length;n++)if(s=i[n],s!==".")if(s==="..")r>1&&r--;else break;return o.slice(0,r).join("/")+"/"+i.slice(n-(n===i.length?1:0)).join("/")}var Zn;(function(e){e.pop="pop",e.push="push"})(Zn||(Zn={}));var Bn;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Bn||(Bn={}));function DC(e){if(!e)if(pi){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),NC(e)}const PC=/^[^#]+#/;function kC(e,t){return e.replace(PC,"#")+t}function OC(e,t){const o=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-o.left-(t.left||0),top:i.top-o.top-(t.top||0)}}const Za=()=>({left:window.pageXOffset,top:window.pageYOffset});function RC(e){let t;if("el"in e){const o=e.el,i=typeof o=="string"&&o.startsWith("#"),r=typeof o=="string"?i?document.getElementById(o.slice(1)):document.querySelector(o):o;if(!r)return;t=OC(r,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Fp(e,t){return(history.state?history.state.position-t:-1)+e}const Wu=new Map;function MC(e,t){Wu.set(e,t)}function FC(e){const t=Wu.get(e);return Wu.delete(e),t}let BC=()=>location.protocol+"//"+location.host;function Ky(e,t){const{pathname:o,search:i,hash:r}=t,n=e.indexOf("#");if(n>-1){let a=r.includes(e.slice(n))?e.slice(n).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),Rp(l,"")}return Rp(o,e)+i+r}function LC(e,t,o,i){let r=[],n=[],s=null;const a=({state:p})=>{const f=Ky(e,location),g=o.value,y=t.value;let T=0;if(p){if(o.value=f,t.value=p,s&&s===g){s=null;return}T=y?p.position-y.position:0}else i(f);r.forEach(w=>{w(o.value,g,{delta:T,type:Zn.pop,direction:T?T>0?Bn.forward:Bn.back:Bn.unknown})})};function l(){s=o.value}function c(p){r.push(p);const f=()=>{const g=r.indexOf(p);g>-1&&r.splice(g,1)};return n.push(f),f}function u(){const{history:p}=window;p.state&&p.replaceState(tt({},p.state,{scroll:Za()}),"")}function d(){for(const p of n)p();n=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:l,listen:c,destroy:d}}function Bp(e,t,o,i=!1,r=!1){return{back:e,current:t,forward:o,replaced:i,position:window.history.length,scroll:r?Za():null}}function $C(e){const{history:t,location:o}=window,i={value:Ky(e,o)},r={value:t.state};r.value||n(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function n(l,c,u){const d=e.indexOf("#"),p=d>-1?(o.host&&document.querySelector("base")?e:e.slice(d))+l:BC()+e+l;try{t[u?"replaceState":"pushState"](c,"",p),r.value=c}catch(f){console.error(f),o[u?"replace":"assign"](p)}}function s(l,c){const u=tt({},t.state,Bp(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});n(l,u,!0),i.value=l}function a(l,c){const u=tt({},r.value,t.state,{forward:l,scroll:Za()});n(u.current,u,!0);const d=tt({},Bp(i.value,l,null),{position:u.position+1},c);n(l,d,!1),i.value=l}return{location:i,state:r,push:a,replace:s}}function UC(e){e=DC(e);const t=$C(e),o=LC(e,t.state,t.location,t.replace);function i(n,s=!0){s||o.pauseListeners(),history.go(n)}const r=tt({location:"",base:e,go:i,createHref:kC.bind(null,e)},t,o);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function qC(e){return typeof e=="string"||e&&typeof e=="object"}function Jy(e){return typeof e=="string"||typeof e=="symbol"}const sr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Yy=Symbol("");var Lp;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Lp||(Lp={}));function Li(e,t){return tt(new Error,{type:e,[Yy]:!0},t)}function $o(e,t){return e instanceof Error&&Yy in e&&(t==null||!!(e.type&t))}const $p="[^/]+?",jC={sensitive:!1,strict:!1,start:!0,end:!0},zC=/[.+*?^${}()[\]/\\]/g;function VC(e,t){const o=tt({},jC,t),i=[];let r=o.start?"^":"";const n=[];for(const c of e){const u=c.length?[]:[90];o.strict&&!c.length&&(r+="/");for(let d=0;d<c.length;d++){const p=c[d];let f=40+(o.sensitive?.25:0);if(p.type===0)d||(r+="/"),r+=p.value.replace(zC,"\\$&"),f+=40;else if(p.type===1){const{value:g,repeatable:y,optional:T,regexp:w}=p;n.push({name:g,repeatable:y,optional:T});const _=w||$p;if(_!==$p){f+=10;try{new RegExp(`(${_})`)}catch(D){throw new Error(`Invalid custom RegExp for param "${g}" (${_}): `+D.message)}}let x=y?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;d||(x=T&&c.length<2?`(?:/${x})`:"/"+x),T&&(x+="?"),r+=x,f+=20,T&&(f+=-8),y&&(f+=-20),_===".*"&&(f+=-50)}u.push(f)}i.push(u)}if(o.strict&&o.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}o.strict||(r+="/?"),o.end?r+="$":o.strict&&(r+="(?:/|$)");const s=new RegExp(r,o.sensitive?"":"i");function a(c){const u=c.match(s),d={};if(!u)return null;for(let p=1;p<u.length;p++){const f=u[p]||"",g=n[p-1];d[g.name]=f&&g.repeatable?f.split("/"):f}return d}function l(c){let u="",d=!1;for(const p of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of p)if(f.type===0)u+=f.value;else if(f.type===1){const{value:g,repeatable:y,optional:T}=f,w=g in c?c[g]:"";if(So(w)&&!y)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const _=So(w)?w.join("/"):w;if(!_)if(T)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=_}}return u||"/"}return{re:s,score:i,keys:n,parse:a,stringify:l}}function HC(e,t){let o=0;for(;o<e.length&&o<t.length;){const i=t[o]-e[o];if(i)return i;o++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function WC(e,t){let o=0;const i=e.score,r=t.score;for(;o<i.length&&o<r.length;){const n=HC(i[o],r[o]);if(n)return n;o++}if(Math.abs(r.length-i.length)===1){if(Up(i))return 1;if(Up(r))return-1}return r.length-i.length}function Up(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const QC={type:0,value:""},GC=/[a-zA-Z0-9_]/;function KC(e){if(!e)return[[]];if(e==="/")return[[QC]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(f){throw new Error(`ERR (${o})/"${c}": ${f}`)}let o=0,i=o;const r=[];let n;function s(){n&&r.push(n),n=[]}let a=0,l,c="",u="";function d(){c&&(o===0?n.push({type:0,value:c}):o===1||o===2||o===3?(n.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),n.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function p(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&o!==2){i=o,o=4;continue}switch(o){case 0:l==="/"?(c&&d(),s()):l===":"?(d(),o=1):p();break;case 4:p(),o=i;break;case 1:l==="("?o=2:GC.test(l)?p():(d(),o=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:o=3:u+=l;break;case 3:d(),o=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return o===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),s(),r}function JC(e,t,o){const i=VC(KC(e.path),o),r=tt(i,{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function YC(e,t){const o=[],i=new Map;t=zp({strict:!1,end:!0,sensitive:!1},t);function r(u){return i.get(u)}function n(u,d,p){const f=!p,g=XC(u);g.aliasOf=p&&p.record;const y=zp(t,u),T=[g];if("alias"in u){const x=typeof u.alias=="string"?[u.alias]:u.alias;for(const D of x)T.push(tt({},g,{components:p?p.record.components:g.components,path:D,aliasOf:p?p.record:g}))}let w,_;for(const x of T){const{path:D}=x;if(d&&D[0]!=="/"){const M=d.record.path,J=M[M.length-1]==="/"?"":"/";x.path=d.record.path+(D&&J+D)}if(w=JC(x,d,y),p?p.alias.push(w):(_=_||w,_!==w&&_.alias.push(w),f&&u.name&&!jp(w)&&s(u.name)),g.children){const M=g.children;for(let J=0;J<M.length;J++)n(M[J],w,p&&p.children[J])}p=p||w,(w.record.components&&Object.keys(w.record.components).length||w.record.name||w.record.redirect)&&l(w)}return _?()=>{s(_)}:Fn}function s(u){if(Jy(u)){const d=i.get(u);d&&(i.delete(u),o.splice(o.indexOf(d),1),d.children.forEach(s),d.alias.forEach(s))}else{const d=o.indexOf(u);d>-1&&(o.splice(d,1),u.record.name&&i.delete(u.record.name),u.children.forEach(s),u.alias.forEach(s))}}function a(){return o}function l(u){let d=0;for(;d<o.length&&WC(u,o[d])>=0&&(u.record.path!==o[d].record.path||!Xy(u,o[d]));)d++;o.splice(d,0,u),u.record.name&&!jp(u)&&i.set(u.record.name,u)}function c(u,d){let p,f={},g,y;if("name"in u&&u.name){if(p=i.get(u.name),!p)throw Li(1,{location:u});y=p.record.name,f=tt(qp(d.params,p.keys.filter(_=>!_.optional).map(_=>_.name)),u.params&&qp(u.params,p.keys.map(_=>_.name))),g=p.stringify(f)}else if("path"in u)g=u.path,p=o.find(_=>_.re.test(g)),p&&(f=p.parse(g),y=p.record.name);else{if(p=d.name?i.get(d.name):o.find(_=>_.re.test(d.path)),!p)throw Li(1,{location:u,currentLocation:d});y=p.record.name,f=tt({},d.params,u.params),g=p.stringify(f)}const T=[];let w=p;for(;w;)T.unshift(w.record),w=w.parent;return{name:y,path:g,params:f,matched:T,meta:eT(T)}}return e.forEach(u=>n(u)),{addRoute:n,resolve:c,removeRoute:s,getRoutes:a,getRecordMatcher:r}}function qp(e,t){const o={};for(const i of t)i in e&&(o[i]=e[i]);return o}function XC(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:ZC(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function ZC(e){const t={},o=e.props||!1;if("component"in e)t.default=o;else for(const i in e.components)t[i]=typeof o=="boolean"?o:o[i];return t}function jp(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function eT(e){return e.reduce((t,o)=>tt(t,o.meta),{})}function zp(e,t){const o={};for(const i in e)o[i]=i in t?t[i]:e[i];return o}function Xy(e,t){return t.children.some(o=>o===e||Xy(e,o))}const Zy=/#/g,tT=/&/g,oT=/\//g,rT=/=/g,iT=/\?/g,eb=/\+/g,nT=/%5B/g,sT=/%5D/g,tb=/%5E/g,aT=/%60/g,ob=/%7B/g,lT=/%7C/g,rb=/%7D/g,cT=/%20/g;function lf(e){return encodeURI(""+e).replace(lT,"|").replace(nT,"[").replace(sT,"]")}function uT(e){return lf(e).replace(ob,"{").replace(rb,"}").replace(tb,"^")}function Qu(e){return lf(e).replace(eb,"%2B").replace(cT,"+").replace(Zy,"%23").replace(tT,"%26").replace(aT,"`").replace(ob,"{").replace(rb,"}").replace(tb,"^")}function dT(e){return Qu(e).replace(rT,"%3D")}function fT(e){return lf(e).replace(Zy,"%23").replace(iT,"%3F")}function hT(e){return e==null?"":fT(e).replace(oT,"%2F")}function Sa(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function pT(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let r=0;r<i.length;++r){const n=i[r].replace(eb," "),s=n.indexOf("="),a=Sa(s<0?n:n.slice(0,s)),l=s<0?null:Sa(n.slice(s+1));if(a in t){let c=t[a];So(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Vp(e){let t="";for(let o in e){const i=e[o];if(o=dT(o),i==null){i!==void 0&&(t+=(t.length?"&":"")+o);continue}(So(i)?i.map(n=>n&&Qu(n)):[i&&Qu(i)]).forEach(n=>{n!==void 0&&(t+=(t.length?"&":"")+o,n!=null&&(t+="="+n))})}return t}function mT(e){const t={};for(const o in e){const i=e[o];i!==void 0&&(t[o]=So(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return t}const vT=Symbol(""),Hp=Symbol(""),cf=Symbol(""),ib=Symbol(""),Gu=Symbol("");function vn(){let e=[];function t(i){return e.push(i),()=>{const r=e.indexOf(i);r>-1&&e.splice(r,1)}}function o(){e=[]}return{add:t,list:()=>e,reset:o}}function mr(e,t,o,i,r){const n=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((s,a)=>{const l=d=>{d===!1?a(Li(4,{from:o,to:t})):d instanceof Error?a(d):qC(d)?a(Li(2,{from:t,to:d})):(n&&i.enterCallbacks[r]===n&&typeof d=="function"&&n.push(d),s())},c=e.call(i&&i.instances[r],t,o,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(d=>a(d))})}function Kl(e,t,o,i){const r=[];for(const n of e)for(const s in n.components){let a=n.components[s];if(!(t!=="beforeRouteEnter"&&!n.instances[s]))if(gT(a)){const c=(a.__vccOpts||a)[t];c&&r.push(mr(c,o,i,n,s))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${s}" at "${n.path}"`));const u=SC(c)?c.default:c;n.components[s]=u;const p=(u.__vccOpts||u)[t];return p&&mr(p,o,i,n,s)()}))}}return r}function gT(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Wp(e){const t=Qo(cf),o=Qo(ib),i=so(()=>t.resolve(_i(e.to))),r=so(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],d=o.matched;if(!u||!d.length)return-1;const p=d.findIndex(Bi.bind(null,u));if(p>-1)return p;const f=Qp(l[c-2]);return c>1&&Qp(u)===f&&d[d.length-1].path!==f?d.findIndex(Bi.bind(null,l[c-2])):p}),n=so(()=>r.value>-1&&ET(o.params,i.value.params)),s=so(()=>r.value>-1&&r.value===o.matched.length-1&&Gy(o.params,i.value.params));function a(l={}){return wT(l)?t[_i(e.replace)?"replace":"push"](_i(e.to)).catch(Fn):Promise.resolve()}return{route:i,href:so(()=>i.value.href),isActive:n,isExactActive:s,navigate:a}}const yT=ug({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Wp,setup(e,{slots:t}){const o=rs(Wp(e)),{options:i}=Qo(cf),r=so(()=>({[Gp(e.activeClass,i.linkActiveClass,"router-link-active")]:o.isActive,[Gp(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:o.isExactActive}));return()=>{const n=t.default&&t.default(o);return e.custom?n:Ld("a",{"aria-current":o.isExactActive?e.ariaCurrentValue:null,href:o.href,onClick:o.navigate,class:r.value},n)}}}),bT=yT;function wT(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function ET(e,t){for(const o in t){const i=t[o],r=e[o];if(typeof i=="string"){if(i!==r)return!1}else if(!So(r)||r.length!==i.length||i.some((n,s)=>n!==r[s]))return!1}return!0}function Qp(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Gp=(e,t,o)=>e??t??o,_T=ug({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:o}){const i=Qo(Gu),r=so(()=>e.route||i.value),n=Qo(Hp,0),s=so(()=>{let c=_i(n);const{matched:u}=r.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=so(()=>r.value.matched[s.value]);Gs(Hp,so(()=>s.value+1)),Gs(vT,a),Gs(Gu,r);const l=_E();return Ks(()=>[l.value,a.value,e.name],([c,u,d],[p,f,g])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===p&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!Bi(u,f)||!p)&&(u.enterCallbacks[d]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=r.value,u=e.name,d=a.value,p=d&&d.components[u];if(!p)return Kp(o.default,{Component:p,route:c});const f=d.props[u],g=f?f===!0?c.params:typeof f=="function"?f(c):f:null,T=Ld(p,tt({},g,t,{onVnodeUnmounted:w=>{w.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Kp(o.default,{Component:T,route:c})||T}}});function Kp(e,t){if(!e)return null;const o=e(t);return o.length===1?o[0]:o}const nb=_T;function ST(e){const t=YC(e.routes,e),o=e.parseQuery||pT,i=e.stringifyQuery||Vp,r=e.history,n=vn(),s=vn(),a=vn(),l=SE(sr);let c=sr;pi&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Ql.bind(null,Q=>""+Q),d=Ql.bind(null,hT),p=Ql.bind(null,Sa);function f(Q,q){let N,A;return Jy(Q)?(N=t.getRecordMatcher(Q),A=q):A=Q,t.addRoute(A,N)}function g(Q){const q=t.getRecordMatcher(Q);q&&t.removeRoute(q)}function y(){return t.getRoutes().map(Q=>Q.record)}function T(Q){return!!t.getRecordMatcher(Q)}function w(Q,q){if(q=tt({},q||l.value),typeof Q=="string"){const C=Gl(o,Q,q.path),R=t.resolve({path:C.path},q),b=r.createHref(C.fullPath);return tt(C,R,{params:p(R.params),hash:Sa(C.hash),redirectedFrom:void 0,href:b})}let N;if("path"in Q)N=tt({},Q,{path:Gl(o,Q.path,q.path).path});else{const C=tt({},Q.params);for(const R in C)C[R]==null&&delete C[R];N=tt({},Q,{params:d(Q.params)}),q.params=d(q.params)}const A=t.resolve(N,q),G=Q.hash||"";A.params=u(p(A.params));const j=CC(i,tt({},Q,{hash:uT(G),path:A.path})),k=r.createHref(j);return tt({fullPath:j,hash:G,query:i===Vp?mT(Q.query):Q.query||{}},A,{redirectedFrom:void 0,href:k})}function _(Q){return typeof Q=="string"?Gl(o,Q,l.value.path):tt({},Q)}function x(Q,q){if(c!==Q)return Li(8,{from:q,to:Q})}function D(Q){return V(Q)}function M(Q){return D(tt(_(Q),{replace:!0}))}function J(Q){const q=Q.matched[Q.matched.length-1];if(q&&q.redirect){const{redirect:N}=q;let A=typeof N=="function"?N(Q):N;return typeof A=="string"&&(A=A.includes("?")||A.includes("#")?A=_(A):{path:A},A.params={}),tt({query:Q.query,hash:Q.hash,params:"path"in A?{}:Q.params},A)}}function V(Q,q){const N=c=w(Q),A=l.value,G=Q.state,j=Q.force,k=Q.replace===!0,C=J(N);if(C)return V(tt(_(C),{state:typeof C=="object"?tt({},G,C.state):G,force:j,replace:k}),q||N);const R=N;R.redirectedFrom=q;let b;return!j&&TC(i,A,N)&&(b=Li(16,{to:R,from:A}),be(A,A,!0,!1)),(b?Promise.resolve(b):P(R,A)).catch(z=>$o(z)?$o(z,2)?z:le(z):X(z,R,A)).then(z=>{if(z){if($o(z,2))return V(tt({replace:k},_(z.to),{state:typeof z.to=="object"?tt({},G,z.to.state):G,force:j}),q||R)}else z=fe(R,A,!0,k,G);return ie(R,A,z),z})}function W(Q,q){const N=x(Q,q);return N?Promise.reject(N):Promise.resolve()}function P(Q,q){let N;const[A,G,j]=AT(Q,q);N=Kl(A.reverse(),"beforeRouteLeave",Q,q);for(const C of A)C.leaveGuards.forEach(R=>{N.push(mr(R,Q,q))});const k=W.bind(null,Q,q);return N.push(k),ci(N).then(()=>{N=[];for(const C of n.list())N.push(mr(C,Q,q));return N.push(k),ci(N)}).then(()=>{N=Kl(G,"beforeRouteUpdate",Q,q);for(const C of G)C.updateGuards.forEach(R=>{N.push(mr(R,Q,q))});return N.push(k),ci(N)}).then(()=>{N=[];for(const C of Q.matched)if(C.beforeEnter&&!q.matched.includes(C))if(So(C.beforeEnter))for(const R of C.beforeEnter)N.push(mr(R,Q,q));else N.push(mr(C.beforeEnter,Q,q));return N.push(k),ci(N)}).then(()=>(Q.matched.forEach(C=>C.enterCallbacks={}),N=Kl(j,"beforeRouteEnter",Q,q),N.push(k),ci(N))).then(()=>{N=[];for(const C of s.list())N.push(mr(C,Q,q));return N.push(k),ci(N)}).catch(C=>$o(C,8)?C:Promise.reject(C))}function ie(Q,q,N){for(const A of a.list())A(Q,q,N)}function fe(Q,q,N,A,G){const j=x(Q,q);if(j)return j;const k=q===sr,C=pi?history.state:{};N&&(A||k?r.replace(Q.fullPath,tt({scroll:k&&C&&C.scroll},G)):r.push(Q.fullPath,G)),l.value=Q,be(Q,q,N,k),le()}let B;function Z(){B||(B=r.listen((Q,q,N)=>{if(!re.listening)return;const A=w(Q),G=J(A);if(G){V(tt(G,{replace:!0}),A).catch(Fn);return}c=A;const j=l.value;pi&&MC(Fp(j.fullPath,N.delta),Za()),P(A,j).catch(k=>$o(k,12)?k:$o(k,2)?(V(k.to,A).then(C=>{$o(C,20)&&!N.delta&&N.type===Zn.pop&&r.go(-1,!1)}).catch(Fn),Promise.reject()):(N.delta&&r.go(-N.delta,!1),X(k,A,j))).then(k=>{k=k||fe(A,j,!1),k&&(N.delta&&!$o(k,8)?r.go(-N.delta,!1):N.type===Zn.pop&&$o(k,20)&&r.go(-1,!1)),ie(A,j,k)}).catch(Fn)}))}let I=vn(),ne=vn(),me;function X(Q,q,N){le(Q);const A=ne.list();return A.length?A.forEach(G=>G(Q,q,N)):console.error(Q),Promise.reject(Q)}function pe(){return me&&l.value!==sr?Promise.resolve():new Promise((Q,q)=>{I.add([Q,q])})}function le(Q){return me||(me=!Q,Z(),I.list().forEach(([q,N])=>Q?N(Q):q()),I.reset()),Q}function be(Q,q,N,A){const{scrollBehavior:G}=e;if(!pi||!G)return Promise.resolve();const j=!N&&FC(Fp(Q.fullPath,0))||(A||!N)&&history.state&&history.state.scroll||null;return eg().then(()=>G(Q,q,j)).then(k=>k&&RC(k)).catch(k=>X(k,Q,q))}const ee=Q=>r.go(Q);let F;const te=new Set,re={currentRoute:l,listening:!0,addRoute:f,removeRoute:g,hasRoute:T,getRoutes:y,resolve:w,options:e,push:D,replace:M,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:n.add,beforeResolve:s.add,afterEach:a.add,onError:ne.add,isReady:pe,install(Q){const q=this;Q.component("RouterLink",bT),Q.component("RouterView",nb),Q.config.globalProperties.$router=q,Object.defineProperty(Q.config.globalProperties,"$route",{enumerable:!0,get:()=>_i(l)}),pi&&!F&&l.value===sr&&(F=!0,D(r.location).catch(G=>{}));const N={};for(const G in sr)N[G]=so(()=>l.value[G]);Q.provide(cf,q),Q.provide(ib,rs(N)),Q.provide(Gu,l);const A=Q.unmount;te.add(Q),Q.unmount=function(){te.delete(Q),te.size<1&&(c=sr,B&&B(),B=null,l.value=sr,F=!1,me=!1),A()}}};return re}function ci(e){return e.reduce((t,o)=>t.then(()=>o()),Promise.resolve())}function AT(e,t){const o=[],i=[],r=[],n=Math.max(t.matched.length,e.matched.length);for(let s=0;s<n;s++){const a=t.matched[s];a&&(e.matched.find(c=>Bi(c,a))?i.push(a):o.push(a));const l=e.matched[s];l&&(t.matched.find(c=>Bi(c,l))||r.push(l))}return[o,i,r]}function NT(e,t){var o=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(o!=null){var i,r,n,s,a=[],l=!0,c=!1;try{if(n=(o=o.call(e)).next,t===0){if(Object(o)!==o)return;l=!1}else for(;!(l=(i=n.call(o)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&o.return!=null&&(s=o.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}function Jp(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),o.push.apply(o,i)}return o}function ui(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?Jp(Object(o),!0).forEach(function(i){Vo(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Jp(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function Ku(e){return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function ls(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yp(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,cb(i.key),i)}}function cs(e,t,o){return t&&Yp(e.prototype,t),o&&Yp(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vo(e,t,o){return t=cb(t),t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function sb(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ju(e,t)}function qt(e){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},qt(e)}function Ju(e,t){return Ju=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Ju(e,t)}function CT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Vr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TT(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vr(e)}function ab(e){var t=CT();return function(){var i=qt(e),r;if(t){var n=qt(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return TT(this,r)}}function xT(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qt(e),e!==null););return e}function Jt(){return typeof Reflect<"u"&&Reflect.get?Jt=Reflect.get.bind():Jt=function(t,o,i){var r=xT(t,o);if(r){var n=Object.getOwnPropertyDescriptor(r,o);return n.get?n.get.call(arguments.length<3?t:i):n.value}},Jt.apply(this,arguments)}function Xp(e,t){return PT(e)||NT(e,t)||lb(e,t)||RT()}function IT(e){return DT(e)||kT(e)||lb(e)||OT()}function DT(e){if(Array.isArray(e))return Yu(e)}function PT(e){if(Array.isArray(e))return e}function kT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lb(e,t){if(e){if(typeof e=="string")return Yu(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);if(o==="Object"&&e.constructor&&(o=e.constructor.name),o==="Map"||o==="Set")return Array.from(e);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return Yu(e,t)}}function Yu(e,t){(t==null||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function OT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MT(e,t){if(typeof e!="object"||e===null)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var i=o.call(e,t||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cb(e){var t=MT(e,"string");return typeof t=="symbol"?t:String(t)}function Xu(e,t,o,i){var r,n=!1,s=0;function a(){r&&clearTimeout(r)}function l(){a(),n=!0}typeof t!="boolean"&&(i=o,o=t,t=void 0);function c(){for(var u=arguments.length,d=new Array(u),p=0;p<u;p++)d[p]=arguments[p];var f=this,g=Date.now()-s;if(n)return;function y(){s=Date.now(),o.apply(f,d)}function T(){r=void 0}i&&!r&&y(),a(),i===void 0&&g>e?y():t!==!0&&(r=setTimeout(i?T:y,i===void 0?e-g:e))}return c.cancel=l,c}function FT(e,t,o){return o===void 0?Xu(e,t,!1):Xu(e,o,t!==!1)}var ub=Object.freeze({__proto__:null,debounce:FT,throttle:Xu});function db(e){return function(t,o){return e(o,t)}}var Zp=db(ub.throttle),em=db(ub.debounce),Zu=function(t,o){for(;typeof t=="function";)t=t.call(o);return t},ed=function(t,o){return Object.entries(t).filter(function(i){var r=Xp(i,1),n=r[0];return!o.includes(n)}).reduce(function(i,r){var n=Xp(r,2),s=n[0],a=n[1];return i[s]=a,i},{})},tm=function(t){t.graphQLErrors&&t.graphQLErrors.length&&(t.gqlError=t.graphQLErrors[0])},Mo=typeof window>"u",BT={query:"_skipAllQueries",subscription:"_skipAllSubscriptions"},fb=function(){function e(t,o,i){ls(this,e),Vo(this,"type",null),Vo(this,"vueApolloSpecialKeys",[]),this.vm=t,this.key=o,this.initialOptions=i,this.options=Object.assign({},i),this._skip=!1,this._pollInterval=null,this._watchers=[],this._destroyed=!1,this.lastApolloOptions=null}return cs(e,[{key:"autostart",value:function(){var o=this;typeof this.options.skip=="function"?this._skipWatcher=this.vm.$watch(function(){return o.options.skip.call(o.vm,o.vm,o.key)},this.skipChanged.bind(this),{immediate:!0,deep:this.options.deep}):!this.options.skip&&!this.allSkip?this.start():this._skip=!0,typeof this.options.pollInterval=="function"&&(this._pollWatcher=this.vm.$watch(this.options.pollInterval.bind(this.vm),this.pollIntervalChanged.bind(this),{immediate:!0}))}},{key:"pollIntervalChanged",value:function(o,i){o!==i&&(this.pollInterval=o,o==null?this.stopPolling():this.startPolling(o))}},{key:"skipChanged",value:function(o,i){o!==i&&(this.skip=o)}},{key:"pollInterval",get:function(){return this._pollInterval},set:function(o){this._pollInterval=o}},{key:"skip",get:function(){return this._skip},set:function(o){o||this.allSkip?this.stop():this.start(),this._skip=o}},{key:"allSkip",get:function(){return this.vm.$apollo[BT[this.type]]}},{key:"refresh",value:function(){this._skip||(this.stop(),this.start())}},{key:"start",value:function(){var o=this;this.starting=!0;for(var i=function(){var l=n[r];if(typeof o.initialOptions[l]=="function"){var c=o.initialOptions[l].bind(o.vm);o.options[l]=c();var u=function(p){o._destroyed||(o.options[l]=p,o.refresh())};Mo||(u=o.options.throttle?Zp(u,o.options.throttle):u,u=o.options.debounce?em(u,o.options.debounce):u),o._watchers.push(o.vm.$watch(c,u,{deep:o.options.deep}))}},r=0,n=["query","document","context"];r<n.length;r++)i();if(typeof this.options.variables=="function"){var s=this.executeApollo.bind(this);Mo||(s=this.options.throttle?Zp(s,this.options.throttle):s,s=this.options.debounce?em(s,this.options.debounce):s),this._watchers.push(this.vm.$watch(function(){return typeof o.options.variables=="function"?o.options.variables.call(o.vm):o.options.variables},s,{immediate:!0,deep:this.options.deep}))}else this.executeApollo(this.options.variables)}},{key:"stop",value:function(){for(var o=0,i=this._watchers;o<i.length;o++){var r=i[o];r()}this.sub&&(this.sub.unsubscribe(),this.sub=null)}},{key:"generateApolloOptions",value:function(o){var i=ed(this.options,this.vueApolloSpecialKeys);return i.variables=o,this.lastApolloOptions=i,i}},{key:"executeApollo",value:function(o){this.starting=!1}},{key:"nextResult",value:function(o){var i=o.error;i&&tm(i)}},{key:"callHandlers",value:function(o){for(var i=!1,r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];for(var a=0;a<o.length;a++){var l=o[a];if(l){i=!0;var c=l.apply(this.vm,n);if(typeof c<"u"&&!c)break}}return i}},{key:"errorHandler",value:function(){for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return this.callHandlers.apply(this,[[this.options.error,this.vm.$apollo.error,this.vm.$apollo.provider.errorHandler]].concat(i))}},{key:"catchError",value:function(o){tm(o);var i=this.errorHandler(o,this.vm,this.key,this.type,this.lastApolloOptions);if(!i)if(o.graphQLErrors&&o.graphQLErrors.length!==0){console.error("GraphQL execution errors for ".concat(this.type," '").concat(this.key,"'"));for(var r=0,n=o.graphQLErrors;r<n.length;r++){var s=n[r];console.error(s)}}else if(o.networkError)console.error("Error sending the ".concat(this.type," '").concat(this.key,"'"),o.networkError);else if(console.error("[vue-apollo] An error has occurred for ".concat(this.type," '").concat(this.key,"'")),Array.isArray(o)){var a;(a=console).error.apply(a,IT(o))}else console.error(o)}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.stop(),this._skipWatcher&&this._skipWatcher())}}]),e}(),LT=["variables","watch","update","result","error","loadingKey","watchLoading","skip","throttle","debounce","subscribeToMore","prefetch","manual"],$T=function(e){sb(o,e);var t=ab(o);function o(i,r,n){var s,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return ls(this,o),i.$data.$apolloData&&!i.$data.$apolloData.queries[r]&&(i.$data.$apolloData.queries[r]={loading:!1}),s=t.call(this,i,r,n),Vo(Vr(s),"type","query"),Vo(Vr(s),"vueApolloSpecialKeys",LT),Vo(Vr(s),"_loading",!1),Vo(Vr(s),"_linkedSubscriptions",[]),Mo&&(s.firstRun=new Promise(function(l,c){s._firstRunResolve=l,s._firstRunReject=c})),Mo&&(s.options.fetchPolicy="network-only"),n.manual||(s.hasDataField=Object.prototype.hasOwnProperty.call(s.vm.$data,r),s.hasDataField?Object.defineProperty(s.vm.$data.$apolloData.data,r,{get:function(){return s.vm.$data[r]},enumerable:!0,configurable:!0}):Object.defineProperty(s.vm.$data,r,{get:function(){return s.vm.$data.$apolloData.data[r]},enumerable:!0,configurable:!0})),a&&s.autostart(),s}return cs(o,[{key:"client",get:function(){return this.vm.$apollo.getClient(this.options)}},{key:"loading",get:function(){return this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]?this.vm.$data.$apolloData.queries[this.key].loading:this._loading},set:function(r){this._loading!==r&&(this._loading=r,this.vm.$data.$apolloData&&this.vm.$data.$apolloData.queries[this.key]&&(this.vm.$data.$apolloData.queries[this.key].loading=r,this.vm.$data.$apolloData.loading+=r?1:-1))}},{key:"stop",value:function(){Jt(qt(o.prototype),"stop",this).call(this),this.loadingDone(),this.observer&&(this.observer.stopPolling(),this.observer=null)}},{key:"generateApolloOptions",value:function(r){var n=Jt(qt(o.prototype),"generateApolloOptions",this).call(this,r);return this.vm.$isServer&&delete n.pollInterval,n}},{key:"executeApollo",value:function(r){if(!this._destroyed){var n=JSON.stringify(r);if(this.sub){if(n===this.previousVariablesJson)return;this.sub.unsubscribe();for(var s=0,a=this._linkedSubscriptions;s<a.length;s++){var l=a[s];l.stop()}}if(this.previousVariablesJson=n,this.observer=this.vm.$apollo.watchQuery(this.generateApolloOptions(r)),this.startQuerySubscription(),this.options.fetchPolicy!=="no-cache"||this.options.notifyOnNetworkStatusChange){var c=this.retrieveCurrentResult();(this.options.notifyOnNetworkStatusChange||this.observer.getCurrentResult&&!c.loading)&&this.nextResult(c)}Jt(qt(o.prototype),"executeApollo",this).call(this,r);for(var u=0,d=this._linkedSubscriptions;u<d.length;u++){var p=d[u];p.start()}}}},{key:"startQuerySubscription",value:function(){this.sub&&!this.sub.closed||(this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)}))}},{key:"retrieveCurrentResult",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.observer.getCurrentResult?this.observer.getCurrentResult():this.observer.currentResult();return(r||n.loading)&&(this.loading||this.applyLoadingModifier(1),this.loading=!0),n}},{key:"nextResult",value:function(r){Jt(qt(o.prototype),"nextResult",this).call(this,r);var n=r.data,s=r.loading,a=r.error,l=r.errors,c=l&&l.length;if((a||c)&&this.firstRunReject(a),s||this.loadingDone(),!a&&c){var u=new Error("GraphQL error: ".concat(l.map(function(p){return p.message}).join(" | ")));Object.assign(u,{graphQLErrors:l,networkError:null}),Jt(qt(o.prototype),"catchError",this).call(this,u)}if(!(this.observer.options.errorPolicy==="none"&&(a||c))){var d=typeof this.options.result=="function";n==null||(this.options.manual?d||console.error("".concat(this.key," query must have a 'result' hook in manual mode")):typeof this.options.update=="function"?this.setData(this.options.update.call(this.vm,n)):typeof n[this.key]>"u"&&Object.keys(n).length?console.error("Missing ".concat(this.key," attribute on result"),n):this.setData(n[this.key])),d&&this.options.result.call(this.vm,r,this.key)}}},{key:"setData",value:function(r){var n=this.hasDataField?this.vm.$data:this.vm.$data.$apolloData.data;n[this.key]=r}},{key:"catchError",value:function(r){Jt(qt(o.prototype),"catchError",this).call(this,r),this.firstRunReject(r),this.loadingDone(r),this.nextResult(this.observer.getCurrentResult?this.observer.getCurrentResult():this.observer.currentResult()),this.resubscribeToQuery()}},{key:"resubscribeToQuery",value:function(){var r=this.observer.getLastError(),n=this.observer.getLastResult();this.observer.resetLastResults(),this.startQuerySubscription(),Object.assign(this.observer,{lastError:r,lastResult:n})}},{key:"loadingKey",get:function(){return this.options.loadingKey||this.vm.$apollo.loadingKey}},{key:"watchLoading",value:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return this.callHandlers.apply(this,[[this.options.watchLoading,this.vm.$apollo.watchLoading,this.vm.$apollo.provider.watchLoading]].concat(n,[this]))}},{key:"applyLoadingModifier",value:function(r){var n=this.loadingKey;n&&typeof this.vm[n]=="number"&&(this.vm[n]+=r),this.watchLoading(r===1,r)}},{key:"loadingDone",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;this.loading&&this.applyLoadingModifier(-1),this.loading=!1,r||this.firstRunResolve()}},{key:"fetchMore",value:function(){var r=this;if(this.observer){var n;return this.retrieveCurrentResult(!0),(n=this.observer).fetchMore.apply(n,arguments).then(function(s){return s.loading||r.loadingDone(),s})}}},{key:"subscribeToMore",value:function(){if(this.observer){var r;return{unsubscribe:(r=this.observer).subscribeToMore.apply(r,arguments)}}}},{key:"refetch",value:function(r){var n=this;if(r&&(this.options.variables=r),this.observer){var s=this.observer.refetch(r).then(function(a){return a.loading||n.loadingDone(),a});return this.retrieveCurrentResult(),s}}},{key:"setVariables",value:function(r,n){if(this.options.variables=r,this.observer){var s=this.observer.setVariables(r,n);return this.retrieveCurrentResult(),s}}},{key:"setOptions",value:function(r){if(Object.assign(this.options,r),this.observer){var n=this.observer.setOptions(r);return this.retrieveCurrentResult(),n}}},{key:"startPolling",value:function(){if(this.observer){var r;return(r=this.observer).startPolling.apply(r,arguments)}}},{key:"stopPolling",value:function(){if(this.observer){var r;return(r=this.observer).stopPolling.apply(r,arguments)}}},{key:"firstRunResolve",value:function(){this._firstRunResolve&&(this._firstRunResolve(),this._firstRunResolve=null)}},{key:"firstRunReject",value:function(r){this._firstRunReject&&(this._firstRunReject(r),this._firstRunReject=null)}},{key:"destroy",value:function(){Jt(qt(o.prototype),"destroy",this).call(this),this.loading&&this.watchLoading(!1,-1),this.loading=!1}}]),o}(fb),UT=function(e){sb(o,e);var t=ab(o);function o(i,r,n){var s,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return ls(this,o),s=t.call(this,i,r,n),Vo(Vr(s),"type","subscription"),Vo(Vr(s),"vueApolloSpecialKeys",["variables","result","error","throttle","debounce","linkedQuery"]),a&&s.autostart(),s}return cs(o,[{key:"generateApolloOptions",value:function(r){var n=Jt(qt(o.prototype),"generateApolloOptions",this).call(this,r);return n.onError=this.catchError.bind(this),n}},{key:"executeApollo",value:function(r){if(!this._destroyed){var n=JSON.stringify(r);if(this.sub){if(n===this.previousVariablesJson)return;this.sub.unsubscribe()}this.previousVariablesJson=n;var s=this.generateApolloOptions(r);if(typeof s.updateQuery=="function"&&(s.updateQuery=s.updateQuery.bind(this.vm)),this.options.linkedQuery){if(typeof this.options.result=="function"){var a=this.options.result.bind(this.vm),l=s.updateQuery&&s.updateQuery.bind(this.vm);s.updateQuery=function(){return a.apply(void 0,arguments),l&&l.apply(void 0,arguments)}}this.sub=this.options.linkedQuery.subscribeToMore(s)}else this.observer=this.vm.$apollo.subscribe(s),this.sub=this.observer.subscribe({next:this.nextResult.bind(this),error:this.catchError.bind(this)});Jt(qt(o.prototype),"executeApollo",this).call(this,r)}}},{key:"nextResult",value:function(r){Jt(qt(o.prototype),"nextResult",this).call(this,r),typeof this.options.result=="function"&&this.options.result.call(this.vm,r,this.key)}},{key:"catchError",value:function(r){Jt(qt(o.prototype),"catchError",this).call(this,r),this.skip||(this.stop(),this.start())}}]),o}(fb),qT=function(){function e(t,o){ls(this,e),this._apolloSubscriptions=[],this._watchers=[],this.vm=t,this.provider=o,this.queries={},this.subscriptions={},this.client=void 0,this.loadingKey=void 0,this.error=void 0}return cs(e,[{key:"getClient",value:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;if(!o||!o.client){if(Ku(this.client)==="object")return this.client;if(this.client)if(this.provider.clients){var i=this.provider.clients[this.client];if(!i)throw new Error("[vue-apollo] Missing client '".concat(this.client,"' in 'apolloProvider'"));return i}else throw new Error("[vue-apollo] Missing 'clients' options in 'apolloProvider'");return this.provider.defaultClient}var r=this.provider.clients[o.client];if(!r)throw new Error("[vue-apollo] Missing client '".concat(o.client,"' in 'apolloProvider'"));return r}},{key:"query",value:function(o){return this.getClient(o).query(o)}},{key:"watchQuery",value:function(o){var i=this,r=this.getClient(o).watchQuery(o),n=r.subscribe.bind(r);return r.subscribe=function(s){var a=n(s);return i._apolloSubscriptions.push(a),a},r}},{key:"mutate",value:function(o){return this.getClient(o).mutate(o)}},{key:"subscribe",value:function(o){var i=this;if(!Mo){var r=this.getClient(o).subscribe(o),n=r.subscribe.bind(r);return r.subscribe=function(s){var a=n(s);return i._apolloSubscriptions.push(a),a},r}}},{key:"loading",get:function(){return this.vm.$data.$apolloData.loading!==0}},{key:"data",get:function(){return this.vm.$data.$apolloData.data}},{key:"addSmartQuery",value:function(o,i){var r=this,n=Zu(i,this.vm);if(!n.query){var s=n;n={query:s}}var a=this.vm.$options.apollo,l=this.provider.defaultOptions,c;if(l&&l.$query&&(c=l.$query),a&&a.$query&&(c=ui(ui({},c||{}),a.$query)),c)for(var u in c)typeof n[u]>"u"&&(n[u]=c[u]);var d=this.queries[o]=new $T(this.vm,o,n,!1);if((!Mo||n.prefetch!==!1)&&d.autostart(),!Mo){var p=n.subscribeToMore;p&&(Array.isArray(p)?p.forEach(function(f,g){r.addSmartSubscription("".concat(o).concat(g),ui(ui({},f),{},{linkedQuery:d}))}):this.addSmartSubscription(o,ui(ui({},p),{},{linkedQuery:d})))}return d}},{key:"addSmartSubscription",value:function(o,i){if(!Mo){i=Zu(i,this.vm);var r=this.subscriptions[o]=new UT(this.vm,o,i,!1);if(r.autostart(),i.linkedQuery){var n=i.linkedQuery._linkedSubscriptions.findIndex(function(s){return s.key===o});n!==-1?i.linkedQuery._linkedSubscriptions[n]=r:i.linkedQuery._linkedSubscriptions.push(r)}return r}}},{key:"defineReactiveSetter",value:function(o,i,r){var n=this;this._watchers.push(this.vm.$watch(i,function(s){n[o]=s},{immediate:!0,deep:r}))}},{key:"skipAllQueries",set:function(o){this._skipAllQueries=o;for(var i in this.queries)this.queries[i].skip=o}},{key:"skipAllSubscriptions",set:function(o){this._skipAllSubscriptions=o;for(var i in this.subscriptions)this.subscriptions[i].skip=o}},{key:"skipAll",set:function(o){this.skipAllQueries=o,this.skipAllSubscriptions=o}},{key:"destroy",value:function(){for(var o=0,i=this._watchers;o<i.length;o++){var r=i[o];r()}for(var n in this.queries)this.queries[n].destroy();for(var s in this.subscriptions)this.subscriptions[s].destroy();this._apolloSubscriptions.forEach(function(a){a.unsubscribe()}),this._apolloSubscriptions=null,this.vm=null}}]),e}();function Jl(e,t){return typeof e<"u"&&Object.prototype.hasOwnProperty.call(e,t)}function jT(){var e=this,t=this.$apolloProvider;if(!(this._apolloLaunched||!t)){this._apolloLaunched=!0;var o=this.$options.apollo;if(o){this.$_apolloPromises=[],o.$init||(o.$init=!0,t.defaultOptions&&(o=this.$options.apollo=Object.assign({},t.defaultOptions,o))),Pr(this.$apollo,"skipAll",o.$skipAll,o.$deep),Pr(this.$apollo,"skipAllQueries",o.$skipAllQueries,o.$deep),Pr(this.$apollo,"skipAllSubscriptions",o.$skipAllSubscriptions,o.$deep),Pr(this.$apollo,"client",o.$client,o.$deep),Pr(this.$apollo,"loadingKey",o.$loadingKey,o.$deep),Pr(this.$apollo,"error",o.$error,o.$deep),Pr(this.$apollo,"watchLoading",o.$watchLoading,o.$deep),Object.defineProperty(this,"$apolloData",{get:function(){return e.$data.$apolloData},enumerable:!0,configurable:!0});for(var i in o)if(i.charAt(0)!=="$"){var r=o[i],n=this.$apollo.addSmartQuery(i,r);Mo&&(r=Zu(r,this),t.prefetch!==!1&&r.prefetch!==!1&&o.$prefetch!==!1&&!n.skip&&this.$_apolloPromises.push(n.firstRun))}if(o.subscribe&&console.warn("vue-apollo -> `subscribe` option is deprecated. Use the `$subscribe` option instead."),o.$subscribe)for(var s in o.$subscribe)this.$apollo.addSmartSubscription(s,o.$subscribe[s])}}}function Pr(e,t,o,i){typeof o<"u"&&(typeof o=="function"?e.defineReactiveSetter(t,o,i):e[t]=o)}function Fs(){this.$apollo&&(this.$apollo.destroy(),this.$apollo=null)}function zT(e,t){e.mixin({data:function(){var i={$apolloData:{queries:{},loading:0,data:{}}},r=this.$options.apollo;if(r){for(var n in r)if(n.charAt(0)!=="$"){var s=r[n];!s.manual&&!Jl(this.$options.props,n)&&!Jl(this.$options.computed,n)&&!Jl(this.$options.methods,n)&&(i[n]=null)}}return i},beforeCreate:function(){var i=this;if(this.$apollo=new qT(this,t),Mo){var r=this.$options.ssrRender;this.$options.ssrRender=function(n){var s=r.call(i,n);return Fs.call(i),s}}},serverPrefetch:function(){var i=this;if(this.$_apolloPromises)return Promise.all(this.$_apolloPromises).then(function(){var r={vm:i,provider:i.$apollo.provider,loading:!1,queries:{},subscriptions:{}};Fs.call(i),i.$apollo=r}).catch(function(r){return Fs.call(i),Promise.reject(r)})},created:jT,unmounted:Fs})}var Bs=["$subscribe"],VT=function(){function e(t){if(ls(this,e),!t)throw new Error("Options argument required");this.clients=t.clients||{},t.defaultClient&&(this.clients.defaultClient=this.defaultClient=t.defaultClient),this.defaultOptions=t.defaultOptions,this.watchLoading=t.watchLoading,this.errorHandler=t.errorHandler,this.prefetch=t.prefetch}return cs(e,[{key:"install",value:function(o){o.config.optionMergeStrategies.apollo=function(i,r,n){if(!i)return r;if(!r)return i;for(var s=Object.assign({},ed(i,Bs),i.data),a=Object.assign({},ed(r,Bs),r.data),l={},c=0;c<Bs.length;c++){var u=Bs[c];l[u]=om(i[u],r[u])}return Object.assign(l,om(s,a))},o.config.globalProperties.$apolloProvider=this,zT(o,this)}}]),e}();function om(e,t){return e?Object.assign(Object.assign(Object.create(null),e),t):t}function HT(e){return new VT(e)}function hb(e){return new Ao(function(t,o){return new nt(function(i){var r,n,s;try{r=o(t).subscribe({next:function(a){if(a.errors&&(s=e({graphQLErrors:a.errors,response:a,operation:t,forward:o}),s)){n=s.subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return}i.next(a)},error:function(a){if(s=e({operation:t,networkError:a,graphQLErrors:a&&a.result&&a.result.errors,forward:o}),s){n=s.subscribe({next:i.next.bind(i),error:i.error.bind(i),complete:i.complete.bind(i)});return}i.error(a)},complete:function(){s||i.complete.bind(i)()}})}catch(a){e({networkError:a,operation:t,forward:o}),i.error(a)}return function(){r&&r.unsubscribe(),n&&r.unsubscribe()}})})}(function(e){oo(t,e);function t(o){var i=e.call(this)||this;return i.link=hb(o),i}return t.prototype.request=function(o,i){return this.link.request(o,i)},t})(Ao);function WT(e){return new Ao(function(t,o){var i=Xr(t,[]);return new nt(function(r){var n,s=!1;return Promise.resolve(i).then(function(a){return e(a,t.getContext())}).then(t.setContext).then(function(){s||(n=o(t).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}))}).catch(r.error.bind(r)),function(){s=!0,n&&n.unsubscribe()}})})}function QT(e){return mt(e)&&"code"in e&&"reason"in e}var GT=function(e){oo(t,e);function t(o){var i=e.call(this)||this;return i.client=o,i}return t.prototype.request=function(o){var i=this;return new nt(function(r){return i.client.subscribe(ce(ce({},o),{query:Yg(o.query)}),{next:r.next.bind(r),complete:r.complete.bind(r),error:function(n){return n instanceof Error?r.error(n):QT(n)?r.error(new Error("Socket closed with event ".concat(n.code," ").concat(n.reason||""))):r.error(new Fr({graphQLErrors:Array.isArray(n)?n:[n]}))}})})},t}(Ao),rm=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;for(var i=Array(e),r=0,t=0;t<o;t++)for(var n=arguments[t],s=0,a=n.length;s<a;s++,r++)i[r]=n[s];return i},KT=function(){function e(t){var o=t.debug,i=o===void 0?!1:o;this.debug=i,this.lines=[]}return e.prototype.emit=function(t,o){if(t in console){var i=e.prefix;console[t].apply(console,rm([i],o))}},e.prototype.tailLogs=function(){var t=this;this.lines.forEach(function(o){var i=o[0],r=o[1];return t.emit(i,r)})},e.prototype.getLogs=function(){return this.lines},e.prototype.write=function(t,o){var i=e.buffer;this.lines=rm(this.lines.slice(1-i),[[t,o]]),(this.debug||t!=="log")&&this.emit(t,o)},e.prototype.info=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("log",t)},e.prototype.warn=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("warn",t)},e.prototype.error=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];this.write("error",t)},e.buffer=30,e.prefix="[apollo-cache-persist]",e}(),JT=function(){function e(t){var o=t.cache,i=t.serialize,r=i===void 0?!0:i;this.cache=o,this.serialize=r}return e.prototype.extract=function(){var t=this.cache.extract();return this.serialize&&(t=JSON.stringify(t)),t},e.prototype.restore=function(t){this.serialize&&typeof t=="string"&&(t=JSON.parse(t)),t!=null&&this.cache.restore(t)},e}(),Ls=globalThis&&globalThis.__awaiter||function(e,t,o,i){function r(n){return n instanceof o?n:new o(function(s){s(n)})}return new(o||(o=Promise))(function(n,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?n(u.value):r(u.value).then(a,l)}c((i=i.apply(e,t||[])).next())})},$s=globalThis&&globalThis.__generator||function(e,t){var o={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,r,n,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=c[0]&2?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[c[0]&2,n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(c[0]===6&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(u){c=[6,u],r=0}finally{i=n=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},pb=function(){function e(t){var o=t.storage,i=t.key,r=i===void 0?"apollo-cache-persist":i;this.storage=o,this.key=r}return e.prototype.read=function(){return Ls(this,void 0,void 0,function(){return $s(this,function(t){return[2,this.storage.getItem(this.key)]})})},e.prototype.write=function(t){return Ls(this,void 0,void 0,function(){return $s(this,function(o){switch(o.label){case 0:return[4,this.storage.setItem(this.key,t)];case 1:return o.sent(),[2]}})})},e.prototype.purge=function(){return Ls(this,void 0,void 0,function(){return $s(this,function(t){switch(t.label){case 0:return[4,this.storage.removeItem(this.key)];case 1:return t.sent(),[2]}})})},e.prototype.getSize=function(){return Ls(this,void 0,void 0,function(){var t;return $s(this,function(o){switch(o.label){case 0:return[4,this.storage.getItem(this.key)];case 1:return t=o.sent(),t==null?[2,0]:[2,typeof t=="string"?t.length:null]}})})},e}(),Yl=globalThis&&globalThis.__awaiter||function(e,t,o,i){function r(n){return n instanceof o?n:new o(function(s){s(n)})}return new(o||(o=Promise))(function(n,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?n(u.value):r(u.value).then(a,l)}c((i=i.apply(e,t||[])).next())})},Xl=globalThis&&globalThis.__generator||function(e,t){var o={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,r,n,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;o;)try{if(i=1,r&&(n=c[0]&2?r.return:c[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,c[1])).done)return n;switch(r=0,n&&(c=[c[0]&2,n.value]),c[0]){case 0:case 1:n=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,r=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(c[0]===6||c[0]===2)){o=0;continue}if(c[0]===3&&(!n||c[1]>n[0]&&c[1]<n[3])){o.label=c[1];break}if(c[0]===6&&o.label<n[1]){o.label=n[1],n=c;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(c);break}n[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(u){c=[6,u],r=0}finally{i=n=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},mb=function(){function e(t,o){var i=t.log,r=t.cache,n=t.storage,s=o.maxSize,a=s===void 0?1024*1024:s,l=o.persistenceMapper;this.log=i,this.cache=r,this.storage=n,this.paused=!1,l&&(this.persistenceMapper=l),a&&(this.maxSize=a)}return e.prototype.persist=function(){return Yl(this,void 0,void 0,function(){var t,o;return Xl(this,function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),t=this.cache.extract(),!this.paused&&this.persistenceMapper?[4,this.persistenceMapper(t)]:[3,2];case 1:t=i.sent(),i.label=2;case 2:return this.maxSize!=null&&typeof t=="string"&&t.length>this.maxSize&&!this.paused?[4,this.purge()]:[3,4];case 3:return i.sent(),this.paused=!0,[2];case 4:return this.paused?[2]:[4,this.storage.write(t)];case 5:return i.sent(),this.log.info(typeof t=="string"?"Persisted cache of size "+t.length+" characters":"Persisted cache"),[3,7];case 6:throw o=i.sent(),this.log.error("Error persisting cache",o),o;case 7:return[2]}})})},e.prototype.restore=function(){return Yl(this,void 0,void 0,function(){var t,o;return Xl(this,function(i){switch(i.label){case 0:return i.trys.push([0,5,,6]),[4,this.storage.read()];case 1:return t=i.sent(),t==null?[3,3]:[4,this.cache.restore(t)];case 2:return i.sent(),this.log.info(typeof t=="string"?"Restored cache of size "+t.length+" characters":"Restored cache"),[3,4];case 3:this.log.info("No stored cache to restore"),i.label=4;case 4:return[3,6];case 5:throw o=i.sent(),this.log.error("Error restoring cache",o),o;case 6:return[2]}})})},e.prototype.purge=function(){return Yl(this,void 0,void 0,function(){var t;return Xl(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.storage.purge()];case 1:return o.sent(),this.log.info("Purged cache storage"),[3,3];case 2:throw t=o.sent(),this.log.error("Error purging cache storage",t),t;case 3:return[2]}})})},e}();const vb=function(e){var t=e.cache;return function(o){var i=t.write,r=t.evict,n=t.modify;return t.write=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=i.apply(t,s);return o(),l},t.evict=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=r.apply(t,s);return o(),l},t.modify=function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];var l=n.apply(t,s);return o(),l},function(){t.write=i,t.evict=r,t.modify=n}}},YT=function(e){var t=e.log,o=e.cache;return function(i){return t.warn("Trigger option `background` not available on web; using `write` trigger"),vb({cache:o})(i)}};var XT=function(){function e(t,o){var i=this,r=t.log,n=t.persistor;this.fire=function(){if(!i.debounce){i.persist();return}i.timeout!=null&&clearTimeout(i.timeout),i.timeout=setTimeout(i.persist,i.debounce)},this.persist=function(){i.paused||i.persistor.persist()};var s=e.defaultDebounce,a=o.cache,l=o.debounce,c=o.trigger,u=c===void 0?"write":c;if(u)switch(this.debounce=l??s,this.persistor=n,this.paused=!1,u){case"write":this.uninstall=vb({cache:a})(this.fire);break;case"background":l&&r.warn("Debounce is not recommended with `background` trigger"),this.debounce=l,this.uninstall=YT({cache:a,log:r})(this.fire);break;default:if(typeof u=="function")this.uninstall=u(this.fire);else throw Error("Unrecognized trigger option: "+u)}}return e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e.prototype.remove=function(){this.uninstall&&(this.uninstall(),this.uninstall=null,this.paused=!0)},e.defaultDebounce=1e3,e}(),gb=function(){function e(t){if(!t.cache)throw new Error("In order to persist your Apollo Cache, you need to pass in a cache. Please see https://www.apollographql.com/docs/react/basics/caching.html for our default InMemoryCache.");if(!t.storage)throw new Error("In order to persist your Apollo Cache, you need to pass in an underlying storage provider. Please see https://github.com/apollographql/apollo-cache-persist#storage-providers");var o=new KT(t),i=new JT(t),r=new pb(t),n=new mb({log:o,cache:i,storage:r},t),s=new XT({log:o,persistor:n},t);this.log=o,this.cache=i,this.storage=r,this.persistor=n,this.trigger=s}return e.prototype.persist=function(){return this.persistor.persist()},e.prototype.restore=function(){return this.persistor.restore()},e.prototype.purge=function(){return this.persistor.purge()},e.prototype.pause=function(){this.trigger.pause()},e.prototype.resume=function(){this.trigger.resume()},e.prototype.remove=function(){this.trigger.remove()},e.prototype.getLogs=function(t){if(t===void 0&&(t=!1),t)this.log.tailLogs();else return this.log.getLogs()},e.prototype.getSize=function(){return this.storage.getSize()},e}(),uf=globalThis&&globalThis.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(i[n]=r[n])},e(t,o)};return function(t,o){e(t,o);function i(){this.constructor=t}t.prototype=o===null?Object.create(o):(i.prototype=o.prototype,new i)}}();(function(e){uf(t,e);function t(o){var i=e.call(this,o)||this;return i.storage=new ex(o),i.persistor=new ZT({log:i.log,cache:i.cache,storage:i.storage},o),i}return t.prototype.restoreSync=function(){this.persistor.restoreSync()},t})(gb);var ZT=function(e){uf(t,e);function t(o,i){var r=o.log,n=o.cache,s=o.storage;return e.call(this,{log:r,cache:n,storage:s},i)||this}return t.prototype.restoreSync=function(){this.cache.restore(this.storage.readSync())},t}(mb),ex=function(e){uf(t,e);function t(o){return e.call(this,o)||this}return t.prototype.readSync=function(){return this.storage.getItem(this.key)},t}(pb),tx=function(){function e(t){this.storage=t}return e.prototype.getItem=function(t){return this.storage.getItem(t)},e.prototype.removeItem=function(t){return this.storage.removeItem(t)},e.prototype.setItem=function(t,o){return o!==null?this.storage.setItem(t,o):this.removeItem(t)},e}();const yb=new EN({typePolicies:{Query:{fields:{nodo:{read(e,{variables:t,toReference:o}){return t!=null&&t.idNodo?o({__typename:"NodoConocimiento",id:t.idNodo}):!1}},coleccionNodosConocimiento:{read(e,{variables:t,toReference:o}){return t!=null&&t.idColeccion?o({__typename:"ColeccionNodosAtlasConocimiento",id:t.idColeccion}):!1}}}}}}),ox=new gb({cache:yb,storage:new tx(window.localStorage)});function Gt(e){return e===null?"null":Array.isArray(e)?"array":typeof e}function Br(e){return Gt(e)==="object"}function rx(e){return Array.isArray(e)&&e.length>0&&e.every(t=>"message"in t)}function im(e,t){return e.length<124?e:t}const ix="graphql-transport-ws";var to;(function(e){e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests"})(to||(to={}));var bt;(function(e){e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete"})(bt||(bt={}));function bb(e){if(!Br(e))throw new Error(`Message is expected to be an object, but got ${Gt(e)}`);if(!e.type)throw new Error("Message is missing the 'type' property");if(typeof e.type!="string")throw new Error(`Message is expects the 'type' property to be a string, but got ${Gt(e.type)}`);switch(e.type){case bt.ConnectionInit:case bt.ConnectionAck:case bt.Ping:case bt.Pong:{if(e.payload!=null&&!Br(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object or nullish or missing, but got "${e.payload}"`);break}case bt.Subscribe:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Gt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Br(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Gt(e.payload)}`);if(typeof e.payload.query!="string")throw new Error(`"${e.type}" message payload expects the 'query' property to be a string, but got ${Gt(e.payload.query)}`);if(e.payload.variables!=null&&!Br(e.payload.variables))throw new Error(`"${e.type}" message payload expects the 'variables' property to be a an object or nullish or missing, but got ${Gt(e.payload.variables)}`);if(e.payload.operationName!=null&&Gt(e.payload.operationName)!=="string")throw new Error(`"${e.type}" message payload expects the 'operationName' property to be a string or nullish or missing, but got ${Gt(e.payload.operationName)}`);if(e.payload.extensions!=null&&!Br(e.payload.extensions))throw new Error(`"${e.type}" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ${Gt(e.payload.extensions)}`);break}case bt.Next:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Gt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!Br(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an object, but got ${Gt(e.payload)}`);break}case bt.Error:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Gt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);if(!rx(e.payload))throw new Error(`"${e.type}" message expects the 'payload' property to be an array of GraphQL errors, but got ${JSON.stringify(e.payload)}`);break}case bt.Complete:{if(typeof e.id!="string")throw new Error(`"${e.type}" message expects the 'id' property to be a string, but got ${Gt(e.id)}`);if(!e.id)throw new Error(`"${e.type}" message requires a non-empty 'id' property`);break}default:throw new Error(`Invalid message 'type' property "${e.type}"`)}return e}function nx(e,t){return bb(typeof e=="string"?JSON.parse(e,t):e)}function gn(e,t){return bb(e),JSON.stringify(e,t)}function sx(e){const{url:t,connectionParams:o,lazy:i=!0,onNonLazyError:r=console.error,lazyCloseTimeout:n=0,keepAlive:s=0,disablePong:a,connectionAckWaitTimeout:l=0,retryAttempts:c=5,retryWait:u=async function(ne){let me=1e3;for(let X=0;X<ne;X++)me*=2;await new Promise(X=>setTimeout(X,me+Math.floor(Math.random()*(3e3-300)+300)))},shouldRetry:d=Us,isFatalConnectionProblem:p,on:f,webSocketImpl:g,generateID:y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,ne=>{const me=Math.random()*16|0;return(ne=="x"?me:me&3|8).toString(16)})},jsonMessageReplacer:T,jsonMessageReviver:w}=e;let _;if(g){if(!lx(g))throw new Error("Invalid WebSocket implementation provided");_=g}else typeof WebSocket<"u"?_=WebSocket:typeof global<"u"?_=global.WebSocket||global.MozWebSocket:typeof window<"u"&&(_=window.WebSocket||window.MozWebSocket);if(!_)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const x=_,D=(()=>{const I=(()=>{const me={};return{on(X,pe){return me[X]=pe,()=>{delete me[X]}},emit(X){var pe;"id"in X&&((pe=me[X.id])===null||pe===void 0||pe.call(me,X))}}})(),ne={connecting:f!=null&&f.connecting?[f.connecting]:[],opened:f!=null&&f.opened?[f.opened]:[],connected:f!=null&&f.connected?[f.connected]:[],ping:f!=null&&f.ping?[f.ping]:[],pong:f!=null&&f.pong?[f.pong]:[],message:f!=null&&f.message?[I.emit,f.message]:[I.emit],closed:f!=null&&f.closed?[f.closed]:[],error:f!=null&&f.error?[f.error]:[]};return{onMessage:I.on,on(me,X){const pe=ne[me];return pe.push(X),()=>{pe.splice(pe.indexOf(X),1)}},emit(me,...X){for(const pe of[...ne[me]])pe(...X)}}})();function M(I){const ne=[D.on("error",me=>{ne.forEach(X=>X()),I(me)}),D.on("closed",me=>{ne.forEach(X=>X()),I(me)})]}let J,V=0,W,P=!1,ie=0,fe=!1;async function B(){clearTimeout(W);const[I,ne]=await(J??(J=new Promise((pe,le)=>(async()=>{if(P){if(await u(ie),!V)return J=void 0,le({code:1e3,reason:"All Subscriptions Gone"});ie++}D.emit("connecting");const be=new x(typeof t=="function"?await t():t,ix);let ee,F;function te(){isFinite(s)&&s>0&&(clearTimeout(F),F=setTimeout(()=>{be.readyState===x.OPEN&&(be.send(gn({type:bt.Ping})),D.emit("ping",!1,void 0))},s))}M(Q=>{J=void 0,clearTimeout(ee),clearTimeout(F),le(Q),Us(Q)&&Q.code===4499&&(be.close(4499,"Terminated"),be.onerror=null,be.onclose=null)}),be.onerror=Q=>D.emit("error",Q),be.onclose=Q=>D.emit("closed",Q),be.onopen=async()=>{try{D.emit("opened",be);const Q=typeof o=="function"?await o():o;if(be.readyState!==x.OPEN)return;be.send(gn(Q?{type:bt.ConnectionInit,payload:Q}:{type:bt.ConnectionInit},T)),isFinite(l)&&l>0&&(ee=setTimeout(()=>{be.close(to.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")},l)),te()}catch(Q){D.emit("error",Q),be.close(to.InternalClientError,im(Q instanceof Error?Q.message:new Error(Q).message,"Internal client error"))}};let re=!1;be.onmessage=({data:Q})=>{try{const q=nx(Q,w);if(D.emit("message",q),q.type==="ping"||q.type==="pong"){D.emit(q.type,!0,q.payload),q.type==="pong"?te():a||(be.send(gn(q.payload?{type:bt.Pong,payload:q.payload}:{type:bt.Pong})),D.emit("pong",!1,q.payload));return}if(re)return;if(q.type!==bt.ConnectionAck)throw new Error(`First message cannot be of type ${q.type}`);clearTimeout(ee),re=!0,D.emit("connected",be,q.payload),P=!1,ie=0,pe([be,new Promise((N,A)=>M(A))])}catch(q){be.onmessage=null,D.emit("error",q),be.close(to.BadResponse,im(q instanceof Error?q.message:new Error(q).message,"Bad response"))}}})())));I.readyState===x.CLOSING&&await ne;let me=()=>{};const X=new Promise(pe=>me=pe);return[I,me,Promise.race([X.then(()=>{if(!V){const pe=()=>I.close(1e3,"Normal Closure");isFinite(n)&&n>0?W=setTimeout(()=>{I.readyState===x.OPEN&&pe()},n):pe()}}),ne])]}function Z(I){if(Us(I)&&(ax(I.code)||[to.InternalServerError,to.InternalClientError,to.BadRequest,to.BadResponse,to.Unauthorized,to.SubprotocolNotAcceptable,to.SubscriberAlreadyExists,to.TooManyInitialisationRequests].includes(I.code)))throw I;if(fe)return!1;if(Us(I)&&I.code===1e3)return V>0;if(!c||ie>=c||!d(I)||p!=null&&p(I))throw I;return P=!0}return i||(async()=>{for(V++;;)try{const[,,I]=await B();await I}catch(I){try{if(!Z(I))return}catch(ne){return r==null?void 0:r(ne)}}})(),{on:D.on,subscribe(I,ne){const me=y(I);let X=!1,pe=!1,le=()=>{V--,X=!0};return(async()=>{for(V++;;)try{const[be,ee,F]=await B();if(X)return ee();const te=D.onMessage(me,re=>{switch(re.type){case bt.Next:{ne.next(re.payload);return}case bt.Error:{pe=!0,X=!0,ne.error(re.payload),le();return}case bt.Complete:{X=!0,le();return}}});be.send(gn({id:me,type:bt.Subscribe,payload:I},T)),le=()=>{!X&&be.readyState===x.OPEN&&be.send(gn({id:me,type:bt.Complete},T)),V--,X=!0,ee()},await F.finally(te);return}catch(be){if(!Z(be))return}})().then(()=>{pe||ne.complete()}).catch(be=>{ne.error(be)}),()=>{X||le()}},async dispose(){if(fe=!0,J){const[I]=await J;I.close(1e3,"Normal Closure")}},terminate(){J&&D.emit("closed",{code:4499,reason:"Terminated",wasClean:!1})}}}function Us(e){return Br(e)&&"code"in e&&"reason"in e}function ax(e){return[1e3,1001,1006,1005,1012,1013,1013].includes(e)?!1:e>=1e3&&e<=1999}function lx(e){return typeof e=="function"&&"constructor"in e&&"CLOSED"in e&&"CLOSING"in e&&"CONNECTING"in e&&"OPEN"in e}const cx=hy({uri:zy+"/graphql"}),ux=WT((e,{headers:t})=>{let o=wb(),i="";return o&&(i="Bearer "+o),{headers:{...t,authorization:i}}}),dx=new GT(sx({url:DN+"/graphql",connectionParams:()=>({authentication:wb(),mensaje:"hola"})})),fx=aA(({query:e})=>{const t=Qa(e);return t.kind==="OperationDefinition"&&t.operation==="subscription"},dx,dy([ux,cx])),hx=hb(({graphQLErrors:e,networkError:t})=>{}),Aa=new IN({link:dy([hx,fx]),cache:yb}),px=HT({defaultClient:Aa,defaultOptions:{$query:{fetchPolicy:"cache-and-network"}}});function wb(){var t,o;let e=Aa.readQuery({query:Pe`
      query {
        auth_usuario @client {
          id
          token
        }
      }
    `});return(t=e==null?void 0:e.auth_usuario)!=null&&t.token?(o=e==null?void 0:e.auth_usuario)==null?void 0:o.token:""}const mx=Pe`
fragment fragBloqueSubscripcion on BloqueSubscripcion{
    id
    dateInicio
    duracion
    valorPagado
}
`,Ln=Pe`
query($idUsuario: ID!){
    Usuario(idUsuario: $idUsuario){
        id
        bloquesSubscripcion{
            ...fragBloqueSubscripcion
        }
    }
}
${mx}
`,vx=Ce`
fragment fragNodoConocimientoMinimoAtlas on NodoConocimiento{
    id
    nombre
    expertos
    tipoNodo
    autoCoords{
        x
        y
    }
    vinculos{
        id
        idRef
        rol
        tipo
    }
} `,ia=Ce`
  fragment fragDatoNodoConocimiento on DatoNodoUsuario {
    id
    idNodo
    nombreNodo
    aprendido
    estudiado
    diasRepaso    
    estadoAprendizaje
  }
`,mi=Ce`
  fragment fragColecciones on ColeccionNodosAtlasConocimiento {
    id
    nombre
    idsNodos
    nodos {
      id
      nombre
    }
  }
`,Eb=Ce`
  fragment fragNodoConocimiento on NodoConocimiento {
    id
    nombre
    descripcion
    expertos
    tipoNodo
    nivel   
    autoCoords {
      x
      y
    }
    angulo
    puntaje
    vinculos {
      id
      idRef
      rol
      tipo
      nodoContraparte{
        id
        nombre
        autoCoords{
          x
          y
        }
      }
    }
  }

`;Ce`
  query todosNodos {
    todosNodos {
      ...fragNodoConocimiento
    }
  }
  ${Eb}
`;Ce`
  query($idNodo:ID!){
    nodo(idNodo:$idNodo){
      id
      nombre
      vinculos{
        id
        idRef
        tipo
        rol
        nodoContraparte{
         id
         nombre
         autoCoords{
           x
           y
         }
        }
      }
      descripcion
      tipoNodo
      expertos
      autoCoords{
        x
        y
      }
      
    }
  }
`;const df=Ce`
  query($idNodo:ID!){
    nodo(idNodo:$idNodo){
      id
      nombre
      vinculos{
        id
        idRef
        tipo
        rol
      }
      descripcion
      tipoNodo
      expertos
      
    }
  }
`,bo=Ce`
  query {
    yo {
      id
      atlas {
        id
        idNodoTarget
        datosNodos {
          ...fragDatoNodoConocimiento
        }
        configuracion {
          modo
        }
        colecciones {
          ...fragColecciones
        }
      }
    }
  }
  ${ia}
  ${mi}
`,gx={name:"PieProgreso",props:{colorProgreso:{type:String,default:"#3f7d20"},mostrarNumero:{type:Boolean,default:!0},progreso:{type:Number,default:0},factorArco:{type:Number,default:.12},cifrasDecimales:{type:Number,default(){return 0}},size:{type:Number,default:40},colorFondo:{type:String,default:"transparent"}},data(){return{}},computed:{estiloCirculoVacio(){return{width:this.size+"px",height:this.size+"px",backgroundColor:this.colorFondo}},estiloCanvasProgreso(){return{width:this.size+"px",height:this.size+"px"}},estiloNumero(){let e=70;return this.progreso>=100&&(e=60),{fontSize:e+"%"}}},methods:{trazarGraph(){const e=this.$refs.canvasProgreso.getContext("2d"),t=Math.round(this.size/2),o=2*Math.PI/100*this.progreso-Math.PI/2;e.clearRect(0,0,this.size,this.size),e.beginPath(),e.strokeStyle=this.colorProgreso||"#04AA6D",e.lineWidth=Math.round(this.size*this.factorArco),e.arc(t,t,Math.round(t*(1-this.factorArco)),-(Math.PI/2),o),e.stroke()}},watch:{progreso(){this.trazarGraph()}},mounted(){this.trazarGraph()}},yx={class:"pieProgreso"},bx={id:"contenidoExterno"},wx={key:0},Ex=["width","height"];function _x(e,t,o,i,r,n){return H(),Y("div",yx,[v("div",{id:"circuloVacio",style:Re([n.estiloCirculoVacio])},[v("div",bx,[Od(e.$slots,"default",{},void 0,!0)]),o.mostrarNumero?(H(),Y("div",{key:0,id:"numeroProgreso",style:Re([n.estiloNumero])},[o.progreso?(H(),Y("span",wx,ve(o.progreso.toFixed(o.cifrasDecimales)),1)):he("",!0)],4)):he("",!0),v("canvas",{id:"canvasProgreso",ref:"canvasProgreso",width:o.size,height:o.size,style:Re([n.estiloCanvasProgreso])},null,12,Ex)],4)])}const us=Le(gx,[["render",_x],["__scopeId","data-v-89c2680b"]]),ds="/caracol/assets/fireSolid-fd34d4dd.svg",fs="/caracol/assets/lightbulbEmpty-b30e6079.svg",Sx={name:"NodoConocimientoVistaLista",props:{idNodo:{type:String,required:!0},yo:{type:Object,required:!0}},apollo:{elNodoDB:{query:Pe`
        query ($idNodo: ID!) {
          nodo(idNodo: $idNodo) {
            id
            nombre
            tipoNodo
            vinculos {
              id
              idRef
              rol
              tipo
            }
          }
        }
      `,variables(){return{idNodo:this.idNodo}},update({nodo:e}){return e},skip(){return!this.idNodo},fetchPolicy:"cache-first"}},data(){return{elNodoDB:{vinculos:[]}}},computed:{elNodo(){return this.idNodo?this.elNodoDB:null},datoUsuarioEsteNodo(){var e,t;return(t=(e=this.yo)==null?void 0:e.datosUsuario)==null?void 0:t.find(o=>o.idNodo===this.idNodo)},aprendido(){var e;return(e=this.datoUsuarioEsteNodo)==null?void 0:e.aprendido},estudiado(){var e;return this.datoUsuarioEsteNodo?(e=this.datoUsuarioEsteNodo)==null?void 0:e.estudiado:null},fresco(){var t;return!this.estudiado||!((t=this.datoUsuarioEsteNodo)!=null&&t.diasRepaso)?!1:this.estudiado+this.datoUsuarioEsteNodo.diasRepaso*24*60*60*1e3>Date.now()}}},Ax={class:"nodoConocimientoVistaLista"},Nx={id:"barraPrincipal"},Cx={key:0,id:"iconoNodo"},Tx={key:0,src:ds,alt:"Skill"},xx={key:1,src:fs,alt:"Idea"},Ix={id:"nombreNodo"};function Dx(e,t,o,i,r,n){var s;return H(),Y("div",Ax,[v("div",Nx,[n.elNodo?(H(),Y("div",Cx,[n.elNodo.tipoNodo==="habilidad"?(H(),Y("img",Tx)):(H(),Y("img",xx))])):he("",!0),v("div",Ix,ve((s=n.elNodo)==null?void 0:s.nombre),1)])])}const Px=Le(Sx,[["render",Dx],["__scopeId","data-v-b04abced"]]),kx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAABm1BMVEUAAAB9fX2jo6NeXl6Pj4+Pj4+ioqIvLy82NjY1NTWMjIxLS0tra2uOjo4tLS1VVVWioqJXV1ehoaGhoaFdXV2Li4s5OTl5eXksLCwaGhpTU1MdHR17e3uOjo5BQUGOjo4vLy9UVFSOjo4dHR0wMDCPj49nZ2dDQ0MfHx9paWkyMjI+Pj4mJiY3NzcdHR17e3tqamqOjo6Ojo56enqgoKA7OztpaWmQkJChoaFPT08mJiY9PT2NjY2Pj49/f3+fn5+lpaVoaGh6enp7e3sdHR1oaGhTU1NBQUEvLy9UVFR7e3t7e3saGhpoaGg+Pj4dHR1qamp7e3tCQkJCQkKPj498fHweHh5paWmPj49paWlCQkJnZ2dVVVV9fX0vLy9nZ2d7e3tUVFQfHx9ra2t8fHxVVVVERERERERqampAQECPj49DQ0MzMzNVVVV6enpVVVVpaWl6enpFRUUmJiYaGhpmZmZTU1NTU1MyMjJ7e3ufn596enqPj493d3d8fHwbGxukpKRoaGhUVFQrKysaGhp7e3s/Pz8+Pj49PT291zY1AAAAgXRSTlMABlYN4txVHhcSEQoD4N6UUDAuJxgLB/39+/ba2NfHxcS7qKSej4mBdm1sZmBaWlZWUEtJSEdAOjc2NDEpHBoYCPz49vXv7+/s6+bl5ODg09HKwby7u7u6ubGwrKinp6KhoKCWlY2NgoF6eXlzcWxrY2JRT01IQz09PDs2MC8nJSDBqhNCAAABgklEQVRIx+3SRVPDQBTA8VdClTptcZeWCnVX3N3d3d0lJG352GwuDKewb4YZLv3fkskvu/N2odAfZZErkSK2WTXbDpQp5RaAkiae56tidMJZr22Ow9swIRV0y9xrOY5rtsjHBHJNRewcSSsHWzfPN9ENwFVOSL0C4MrmVABVitVyrt8OtAX3juKgcBwHqYVrNJ+vjQKiksUcyYohzKRAdtUYc/CZz/VdAibGWjvlAGRKBlAxBoMaJwzLvQM6E4rsfJDOUKfSIBAdhqh1AjkBTNGGysoNE6Ay3d4xgE4iwYq2pTUPUnSw7MgNRjBzLKkVdTILAtkHTOc9LDseAlSerdYQmP3ul59DTKdFx6gGYLa7yqrd32/MEb3sUQWi+Tuz2ewM+SjhC5PflxaRjOLkooyQ6hR4pzU1hxIwEiGLiJOHQULWJapGaXFxTRje9TKZvhTEO50YWnmCZB0hGh/ZWSBg/PUapV7NZFAtUo10PkEeMxmg7LmlrtGLvdVJFRT6v74ABqxMskl6QHIAAAAASUVORK5CYII=",Ox={name:"Loading",props:{texto:{type:String},colorLetra:{type:String,default:"black"}},computed:{estiloTexto(){return{color:this.colorLetra}}}},Rx=e=>(Ge("data-v-47eb51b8"),e=e(),Ke(),e),Mx={class:"loading"},Fx=Rx(()=>v("img",{src:kx,alt:"Cargando",id:"iconoLoading"},null,-1));function Bx(e,t,o,i,r,n){return H(),Y("div",Mx,[Fx,o.texto?(H(),Y("span",{key:0,style:Re([n.estiloTexto]),class:"textoLoading"},ve(o.texto),5)):he("",!0)])}const ut=Le(Ox,[["render",Bx],["__scopeId","data-v-47eb51b8"]]);function Lx(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ff=Lx,$x=typeof zo=="object"&&zo&&zo.Object===Object&&zo,Ux=$x,qx=Ux,jx=typeof self=="object"&&self&&self.Object===Object&&self,zx=qx||jx||Function("return this")(),_b=zx,Vx=_b,Hx=function(){return Vx.Date.now()},Wx=Hx,Qx=/\s/;function Gx(e){for(var t=e.length;t--&&Qx.test(e.charAt(t)););return t}var Kx=Gx,Jx=Kx,Yx=/^\s+/;function Xx(e){return e&&e.slice(0,Jx(e)+1).replace(Yx,"")}var Zx=Xx,eI=_b,tI=eI.Symbol,Sb=tI,nm=Sb,Ab=Object.prototype,oI=Ab.hasOwnProperty,rI=Ab.toString,yn=nm?nm.toStringTag:void 0;function iI(e){var t=oI.call(e,yn),o=e[yn];try{e[yn]=void 0;var i=!0}catch{}var r=rI.call(e);return i&&(t?e[yn]=o:delete e[yn]),r}var nI=iI,sI=Object.prototype,aI=sI.toString;function lI(e){return aI.call(e)}var cI=lI,sm=Sb,uI=nI,dI=cI,fI="[object Null]",hI="[object Undefined]",am=sm?sm.toStringTag:void 0;function pI(e){return e==null?e===void 0?hI:fI:am&&am in Object(e)?uI(e):dI(e)}var mI=pI;function vI(e){return e!=null&&typeof e=="object"}var gI=vI,yI=mI,bI=gI,wI="[object Symbol]";function EI(e){return typeof e=="symbol"||bI(e)&&yI(e)==wI}var _I=EI,SI=Zx,lm=ff,AI=_I,cm=0/0,NI=/^[-+]0x[0-9a-f]+$/i,CI=/^0b[01]+$/i,TI=/^0o[0-7]+$/i,xI=parseInt;function II(e){if(typeof e=="number")return e;if(AI(e))return cm;if(lm(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=lm(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=SI(e);var o=CI.test(e);return o||TI.test(e)?xI(e.slice(2),o?2:8):NI.test(e)?cm:+e}var DI=II,PI=ff,Zl=Wx,um=DI,kI="Expected a function",OI=Math.max,RI=Math.min;function MI(e,t,o){var i,r,n,s,a,l,c=0,u=!1,d=!1,p=!0;if(typeof e!="function")throw new TypeError(kI);t=um(t)||0,PI(o)&&(u=!!o.leading,d="maxWait"in o,n=d?OI(um(o.maxWait)||0,t):n,p="trailing"in o?!!o.trailing:p);function f(J){var V=i,W=r;return i=r=void 0,c=J,s=e.apply(W,V),s}function g(J){return c=J,a=setTimeout(w,t),u?f(J):s}function y(J){var V=J-l,W=J-c,P=t-V;return d?RI(P,n-W):P}function T(J){var V=J-l,W=J-c;return l===void 0||V>=t||V<0||d&&W>=n}function w(){var J=Zl();if(T(J))return _(J);a=setTimeout(w,y(J))}function _(J){return a=void 0,p&&i?f(J):(i=r=void 0,s)}function x(){a!==void 0&&clearTimeout(a),c=0,i=l=r=a=void 0}function D(){return a===void 0?s:_(Zl())}function M(){var J=Zl(),V=T(J);if(i=arguments,r=this,l=J,V){if(a===void 0)return g(l);if(d)return clearTimeout(a),a=setTimeout(w,t),f(l)}return a===void 0&&(a=setTimeout(w,t)),s}return M.cancel=x,M.flush=D,M}var FI=MI,BI=FI,LI=ff,$I="Expected a function";function UI(e,t,o){var i=!0,r=!0;if(typeof e!="function")throw new TypeError($I);return LI(o)&&(i="leading"in o?!!o.leading:i,r="trailing"in o?!!o.trailing:r),BI(e,t,{leading:i,maxWait:t,trailing:r})}var ec=UI;const qI={props:{nodoCreandoDependencia:{type:Object},nodoTargetRelevante:{type:Boolean,default:!0},idNodoSeleccionado:{type:String},emitOpenNodo:{type:Boolean,default:!1}},apollo:{yo:{query:bo,fetchPolicy:"cache-first"},elNodoDB:{query:df,variables(){return{idNodo:this.idNodoSeleccionado}},skip(){return!this.idNodoSeleccionado},update({nodo:e}){return e},fetchPolicy:"cache-first"}},components:{Loading:ut,PieProgreso:us,NodoConocimientoVistaLista:Px},name:"ControlesNodo",data(){return{creandoNodoUnder:!1,nodoTarget:null,hovered:!1,direccionTransicion:"normal",elNodoDB:{vinculos:[],expertos:[]},yo:{atlas:{datosNodos:[],colecciones:[]}},eliminandose:!1,mostrandoFlechasConexiones:!1,desplegado:!1,cantidadFilas:3,filaMostrada:1,mostrando:"",touchStartX:null,montado:!1,heightNombre:0,heightAll:0,settingDateEstudiado:!1,diasRepaso:0,guardandoDiasRepaso:!1,settingEstadoAprendido:!1,idVinculoEliminando:null,creandoDependencia:!1,startTouchTargetX:null,intervaloEventoWheel:400,lastEventoWheel:0}},computed:{elNodo(){return this.idNodoSeleccionado?this.elNodoDB:null},idNodoTarget(){return this.yo.atlas.idNodoTarget},dependenciasNodo(){return this.elNodo?this.elNodo.vinculos.filter(e=>e.tipo=="continuacion"&&e.rol==="target"):[]},usuarioExpertoNodo(){var e;return!this.elNodo||!this.yo?!1:(e=this.elNodo.expertos)==null?void 0:e.includes(this.usuario.id)},estiloPos(){return{transform:"translate(-50%, 0px)"}},datoUsuarioEsteNodo(){var e,t;return!this.elNodo||!((t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos)?null:this.yo.atlas.datosNodos.find(o=>o.idNodo===this.elNodo.id)},nodoAccesible(){let e=this.yo.atlas.datosNodos.filter(t=>t.aprendido?!0:!(!t.estudiado||!t.diasRepaso||new Date(t.estudiado).getTime()+t.diasRepaso*864e5<Date.now())).map(t=>t.idNodo);return!this.elNodo.vinculos.some(t=>t.tipo==="continuacion"&&t.rol==="target"&&!e.includes(t.idRef))},nodoEstudiado(){return!this.elNodo||!this.datoUsuarioEsteNodo?!1:this.datoUsuarioEsteNodo.estudiado},nodoAprendido(){return!this.elNodo||!this.datoUsuarioEsteNodo?!1:this.datoUsuarioEsteNodo.aprendido},nodoFresco(){var t,o;if(!this.elNodo||!((t=this.datoUsuarioEsteNodo)!=null&&t.estudiado)||!((o=this.datoUsuarioEsteNodo)!=null&&o.diasRepaso))return!1;if(this.nodoAprendido)return!0;let e=new Date(this.datoUsuarioEsteNodo.estudiado).getTime()+this.datoUsuarioEsteNodo.diasRepaso*864e5;return Date.now()<e},nodoRepasar(){return this.nodoEstudiado&&!this.nodoFresco&&!this.nodoAprendido},porcentajeRepaso(){var o;if(!((o=this.datoUsuarioEsteNodo)!=null&&o.estudiado)||!this.datoUsuarioEsteNodo.diasRepaso||this.nodoAprendido)return null;let t=(Date.now()-new Date(this.datoUsuarioEsteNodo.estudiado).getTime())/(this.datoUsuarioEsteNodo.diasRepaso*864e5/100);return t>100&&(t=100),t<0&&(t=0),100-t},usuarioExperto(){var e,t;return!((e=this.usuario)!=null&&e.id)||!((t=this.elNodo)!=null&&t.expertos)?!1:this.elNodo.expertos.includes(this.usuario.id)}},methods:{desplegar(){console.log("desplegandoControles"),this.elNodo&&(this.desplegado||(this.desplegado=!0))},crearNodoDependencia(){if(console.log("creando nodo dependencia"),!this.usuarioExperto&&!this.usuarioSuperadministrador){console.log("No autorizado");return}this.creandoNodoUnder=!0,this.$apollo.mutate({mutation:Pe`
          mutation($idNodoTarget: ID!){
            crearNodoConocimientoUnderNodo(idNodoTarget: $idNodoTarget){
              id
              vinculos{
                id
                idRef
                tipo
                rol
              }
              autoCoords{
                x
                y
              }
            }
          }
        `,variables:{idNodoTarget:this.elNodo.id}}).then(({data:{crearNodoConocimientoUnderNodo:e}})=>{this.creandoNodoUnder=!1,this.$emit("nodoCreado",e[1]),console.log("creado nodo "+e[1].id)}).catch(e=>{console.log("Error: "+e),this.creandoNodoUnder=!1})},emitirOpenNodo(e){console.log("Emitiendo el open nodo"),this.$emit("openNodoCaptured",this.elNodo.id),e.preventDefault()},setFilaMostrada(e){this.filaMostrada<e||this.filaMostrada===1?this.direccionTransicion="left":this.direccionTransicion="right",this.filaMostrada=e},setNodoTarget(e=this.idNodo){var n;const t=Pe`
          query{
           yo{
            id
             atlas{
             id
               idNodoTarget
             }
            }
         }
        `;e=e===this.idNodoTarget?null:e;const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:t});if(!((n=i.yo)!=null&&n.atlas)||e===i.yo.atlas.idNodoTarget)return;let r=JSON.parse(JSON.stringify(i));r.yo.atlas.idNodoTarget=e,o.writeQuery({query:t,data:r}),this.$apollo.mutate({mutation:Pe`
          mutation($idNodo: ID){
            setNodoAtlasTarget(idNodo:$idNodo)
          }
        `,variables:{idNodo:e}}).catch(s=>{console.log(`Error sincronizando nodo target: ${s}`)})},startTouchAnuncioTarget(e){this.startTouchTargetX=e.touches[0].clientX},moveTouchAnuncioTarget(e){let t=40;if(this.startTouchTargetX){let o=e.touches[0].clientX-this.startTouchTargetX;if(Math.abs(o)>t){let i=-o/Math.abs(o);this.$emit("stepNivelesUnderTarget",i),this.startTouchTargetX=null}}},endTouchAnuncioTarget(){this.startTouchTargetX=null},movimientoTouch(e){let t=60;if(this.touchStartX){let o=e.touches[0].clientX-this.touchStartX;if(console.log(`mov de ${o}`),Math.abs(o)>t){let i=-o/Math.abs(o);this.stepFilaMostrada(i),this.touchStartX=null}}},stepFilaMostrada(e){this.direccionTransicion=e>0?"left":"right",this.filaMostrada+=e,this.filaMostrada>this.cantidadFilas&&(this.filaMostrada=1),this.filaMostrada<1&&(this.filaMostrada=this.cantidadFilas)},finTouch(){this.touchStartX=null},inicioTouch(e){console.log("registro de touchstart"),this.touchStartX=e.touches[0].clientX,console.log(`Queda en ${this.touchStartX}`)},eliminarNodo(){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}if(!confirm("¿Seguro de que quieres eliminar este nodo?"))return;let e=this.elNodo.id;this.eliminandose=!0,console.log("enviando mutacion de eliminar nodo"),this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: ID!) {
              eliminarNodo(idNodo: $idNodo){
                id
                vinculos{
                  id
                  idRef
                  tipo
                  rol
                }

              }
            }
          `,variables:{idNodo:e}}).then(({data:{eliminarNodo:t}})=>{console.log(t.length+" nodos afectados por la eliminación de un nodo"),this.eliminandose=!1,this.$emit("nodoEliminado",e)}).catch(t=>{this.eliminandose=!1,console.log(`Error eliminando nodo. : ${t}`)})},crearDependenciaNodo(e){if(!e||!this.elNodo)return;let t=this.elNodo;console.log(`Mutando que ${e} es dependencia de ${t.nombre}`),this.creandoDependencia=!0,this.$apollo.mutate({mutation:Pe`
            mutation($tipo: String!, $idSource: ID!, $idTarget: ID!){
              crearVinculo(tipo: $tipo, idSource: $idSource, idTarget: $idTarget){
                modificados{
                  id
                  vinculos{
                    id
                    idRef
                    tipo
                    rol
                  }
                }
              }
            }
            `,variables:{tipo:"continuacion",idSource:e,idTarget:t.id}}).then(()=>{console.log("Dependencia creada"),this.creandoDependencia=!1,this.$emit("cancelarCreandoDependencia")}).catch(o=>{console.log("Error: "+o),this.raiseAccion("Error creando dependencia","error"),this.creandoDependencia=!1})},eliminarVinculo(e){if(!this.usuarioExperto&&!this.usuarioSuperadministrador)return;let t=e.idRef;this.idVinculoEliminando=e.id,this.$apollo.mutate({mutation:Pe`
              mutation($idSource: ID!, $idTarget: ID!){
                eliminarVinculoFromTo(idSource: $idSource, idTarget: $idTarget){
                  modificados{
                    id
                    vinculos{
                      id
                      idRef
                      tipo
                      rol
                    }
                  }
                }
              }
              `,variables:{idSource:t,idTarget:this.elNodo.id}}).then(()=>{this.idVinculoEliminando=null}).catch(o=>{console.log("Error: "+o),this.idVinculoEliminando=null})},toggleDespliege(){this.mostrandoFlechasConexiones||(this.desplegado=!this.desplegado)},clickFuera(){this.mostrandoFlechasConexiones=!1},marcarEstudiado(){this.settingDateEstudiado=!0,this.$apollo.mutate({mutation:Pe`
                    mutation( $idUsuario: ID!, $idNodo: ID!, $fecha: Date!){
                        setDateNodoConocimientoEstudiadoUsuario(idUsuario: $idUsuario, idNodo: $idNodo, fecha: $fecha){
                            ...fragDatoNodoConocimiento
                        }
                    }
                    ${ia}
                    `,variables:{idUsuario:this.usuario.id,idNodo:this.elNodo.id,fecha:new Date}}).then(({data:{setDateNodoConocimientoEstudiadoUsuario:e}})=>{this.settingDateEstudiado=!1;let t=this.$apollo.provider.defaultClient,o=t.readQuery({query:bo,variables:{idUsuario:this.usuario.id}});if(o.yo.atlas.datosNodos.indexOf(r=>r.idNodo===this.elNodo.id)===-1){let r=JSON.parse(JSON.stringify(o));r.yo.atlas.datosNodos.push(e),t.writeQuery({query:bo,variables:{idUsuario:this.usuario.id},data:r})}this.$emit("cambioEstadoEstudiadoNodo")}).catch(e=>{console.log("Error: "+e),this.settingDateEstudiado=!1})},setDiasRepaso(){this.elNodo&&(this.diasRepaso=Number(this.$refs.inputDiasRepaso.value),!(this.datosUsuarioEsteNodo&&this.diasRepaso===this.datoUsuarioEsteNodo.diasRepaso)&&(this.diasRepaso<1||!this.diasRepaso>3e3||(this.guardandoDiasRepaso=!0,this.$apollo.mutate({mutation:Pe`
                    mutation($idNodo: ID!, $nuevoDiasRepaso: Int!){
                        setDiasRepasoNodoConocimientoUsuario(idNodo: $idNodo, nuevoDiasRepaso: $nuevoDiasRepaso){
                             ...fragDatoNodoConocimiento
                        }
                    }
                    ${ia}
                    `,variables:{idNodo:this.elNodo.id,nuevoDiasRepaso:this.diasRepaso}}).then(()=>{this.guardandoDiasRepaso=!1,this.mostrando=""}).catch(e=>{console.log("Error: "+e),this.guardandoDiasRepaso=!1}))))},marcarAprendido(){if(!this.elNodo)return;let e=!0;this.datoUsuarioEsteNodo&&(e=!this.datoUsuarioEsteNodo.aprendido),this.settingEstadoAprendido=!0,this.$apollo.mutate({mutation:Pe`
                    mutation($idNodo: ID!, $nuevoEstadoAprendido: Boolean!){
                        setNodoAtlasAprendidoUsuario(idNodo: $idNodo, nuevoEstadoAprendido: $nuevoEstadoAprendido){
                            ...fragDatoNodoConocimiento
                        }
                    }
                    ${ia}
                    `,variables:{idNodo:this.elNodo.id,nuevoEstadoAprendido:e}}).then(({data:{setNodoAtlasAprendidoUsuario:t}})=>{this.settingEstadoAprendido=!1;let o=this.$apollo.provider.defaultClient,i=o.readQuery({query:bo,variables:{idUsuario:this.usuario.id}}),r=t.filter(s=>{var a,l,c;return((c=(l=(a=i.yo)==null?void 0:a.atlas)==null?void 0:l.datosNodos)==null?void 0:c.findIndex(u=>u.idNodo===s.idNodo))===-1});console.log("Nuevos datos nodos: ",r.length);let n=JSON.parse(JSON.stringify(i));n.yo.atlas.datosNodos=n.yo.atlas.datosNodos.concat(r),o.writeQuery({query:bo,variables:{idUsuario:this.usuario.id},data:n}),this.$emit("cambioEstadoEstudiadoNodo")}).catch(t=>{console.log("Error: "+t),this.settingEstadoAprendido=!1})},recalcularHeights(){this.$nextTick(()=>{this.heightNombre=this.$refs.nombre.clientHeight,this.heightAll=this.$el.clientHeight})},iniciarCrearDependenciaNodo(){this.elNodo&&this.$emit("iniciarCrearDependenciaNodo",this.elNodo)},zoomWheel(e){if(!this.hovered)return;if(e.preventDefault(),e.timeStamp-this.lastEventoWheel<this.intervaloEventoWheel)return!0;let t=e.deltaY,o=t/Math.abs(t);return this.stepFilaMostrada(o),this.lastEventoWheel=e.timeStamp,!0}},watch:{elNodo(e){this.mostrandoFlechasConexiones=!1,e||(this.desplegado=!1,this.mostrando="",this.heightAll=0,this.$emit("cancelarCreandoDependencia")),this.$nextTick(()=>{this.recalcularHeights()})},datoUsuarioEsteNodo(e){e&&(this.diasRepaso=e.diasRepaso||0)},mostrando(e){this.recalcularHeights()}},mounted(){this.montado=!0,this.desplegado=!1}},el="/caracol/assets/codeBranch-1d161a21.svg",Ki="/caracol/assets/crosshairsSolid-e6c81b12.svg",Nb="/caracol/assets/lockSolid-fc625c97.svg",jI="/caracol/assets/bookSolid-eae94e37.svg",Cb="/caracol/assets/stopwatchSolid-d874903c.svg",zI="/caracol/assets/circlecheckSolid-bfeb7e39.svg",hs="/caracol/assets/plugSolid-112ef2fb.svg",Ji="/caracol/assets/plusCircle-b5e3a2dd.svg",Nr="/caracol/assets/trash-63deb6cc.svg",VI="/caracol/assets/expandSolid-e988a130.svg",Mt=e=>(Ge("data-v-0fed821f"),e=e(),Ke(),e),HI={id:"contenedorAnuncios"},WI={id:"anuncioCreandoDependencia"},QI={class:"anuncio anuncioSeleccion"},GI={src:el,alt:"Dependencia"},KI=Mt(()=>v("span",null," Conectando dependencia ",-1)),JI=Mt(()=>v("img",{src:Rt,alt:"Cancelar"},null,-1)),YI=[JI],XI=Mt(()=>v("div",{class:"subanuncio"},null,-1)),ZI=Mt(()=>v("img",{src:Ki,alt:"Mira"},null,-1)),eD=Mt(()=>v("span",null,"Nodo en la mira",-1)),tD=[ZI,eD],oD={key:0,src:fs,alt:"Skill"},rD={key:1,src:ds,alt:"Skill"},iD={class:"anuncio",style:{opacity:"0.7"}},nD=Mt(()=>v("img",{src:Nb,alt:"Bloqueo",style:{height:"15px"}},null,-1)),sD={class:"bloqueControl",style:{}},aD={src:jI,alt:"Repaso"},lD=Mt(()=>v("img",{src:Cb,alt:"Repaso"},null,-1)),cD={src:zI,alt:"Check"},uD={class:"bloqueControl",id:"bloqueControlDependencias"},dD=Mt(()=>v("img",{src:el,alt:"Repaso"},null,-1)),fD=Mt(()=>v("img",{src:hs,alt:"Nuevo"},null,-1)),hD=[fD],pD=Mt(()=>v("img",{src:Ji,alt:"Crear"},null,-1)),mD=[pD],vD={key:0,class:"bloqueControl"},gD=Mt(()=>v("img",{src:Nr,alt:"Eliminar"},null,-1)),yD=[gD],bD={class:"contenidoMostrado",id:"zonaGestionDependencias"},wD={key:0,id:"listaDependencias"},ED=["onClick"],_D={src:Rt,alt:"Eliminar"},SD={class:"anuncioZonaVacia"},AD=Mt(()=>v("img",{src:Ki,alt:"Crosshair"},null,-1)),ND=[AD],CD={id:"zonaDescripcionNodo"},TD={id:"descripcionNodo"},xD={key:0,class:"anuncioZonaVacia"},ID={class:"bloqueControl"},DD=Mt(()=>v("div",{class:"botonTexto"},[v("img",{src:VI,alt:"Expandir"}),$e(" Visitar ")],-1)),PD={key:0,class:"bloqueControl",id:"bloqueControlBrowse"},kD=Mt(()=>v("img",{src:el,alt:"Ramas"},null,-1)),OD={class:"bloqueControl",id:"bloqueControlTarget"},RD=Mt(()=>v("img",{src:Ki,alt:"Mira"},null,-1)),MD=Mt(()=>v("img",{src:Rt,alt:"Cancelar"},null,-1)),FD=[MD],BD={id:"zonaSelectorFilas"},LD=["onClick"],$D={id:"zonaMostrada"},UD={class:"bloqueConfiguracion bloqueSplash",id:"configuracionTiempoRepaso"},qD=Mt(()=>v("img",{src:Rt,alt:"Cerrar"},null,-1)),jD=[qD],zD=Mt(()=>v("h3",{class:"tituloSplash"},[v("img",{src:Cb,alt:"Crono"}),$e(" Periodo de repaso ")],-1)),VD={class:"descripcionSplash"};function HD(e,t){var a,l,c;const o=Te("Loading"),i=Te("loading"),r=Te("pie-progreso"),n=Te("nodo-conocimiento-vista-lista"),s=Te("router-link");return H(),Y("div",{class:de(["controlesNodo",{deshabilitado:e.eliminandose}]),style:Re(e.estiloPos),onClick:t[28]||(t[28]=(...u)=>e.clickFuera&&e.clickFuera(...u))},[v("div",HI,[U(v("div",WI,[v("div",QI,[U(v("img",GI,null,512),[[K,!e.creandoDependencia]]),U(Se(o,null,null,512),[[K,e.creandoDependencia]]),KI,v("div",{class:"boton",onClick:t[0]||(t[0]=Ae(u=>e.$emit("cancelarCreandoDependencia"),["stop"]))},YI)]),XI],512),[[K,e.nodoCreandoDependencia]]),U(v("div",{class:de(["anuncio",{anuncioSeleccion:e.idNodoTarget===((a=e.elNodo)==null?void 0:a.id),deshabilitado:!e.nodoTargetRelevante}]),id:"anuncioNodoTarget",onClick:t[1]||(t[1]=u=>e.$emit("centerEnTarget")),onMouseenter:t[2]||(t[2]=u=>e.$emit("hoveringAnuncioTarget",!0)),onMouseleave:t[3]||(t[3]=u=>e.$emit("hoveringAnuncioTarget",!1)),onTouchstart:t[4]||(t[4]=(...u)=>e.startTouchAnuncioTarget&&e.startTouchAnuncioTarget(...u)),onTouchmove:t[5]||(t[5]=(...u)=>e.moveTouchAnuncioTarget&&e.moveTouchAnuncioTarget(...u)),onTouchend:t[6]||(t[6]=(...u)=>e.endTouchAnuncioTarget&&e.endTouchAnuncioTarget(...u))},tD,34),[[K,e.idNodoTarget&&(!e.elNodo||e.elNodo.id==e.idNodoTarget)]])]),v("div",{id:"nombre",ref:"nombre",onClick:t[7]||(t[7]=(...u)=>e.toggleDespliege&&e.toggleDespliege(...u))},[e.elNodo&&e.elNodo.tipoNodo==="concepto"?(H(),Y("img",oD)):(H(),Y("img",rD)),$e(" "+ve(((l=e.elNodo)==null?void 0:l.nombre)||""),1)],512),e.elNodo&&!e.$apollo.queries.elNodoDB.loading?U((H(),Y("div",{key:0,id:"zonaControles",onClick:t[19]||(t[19]=()=>{}),onMouseenter:t[20]||(t[20]=u=>e.hovered=!0),onMouseleave:t[21]||(t[21]=u=>e.hovered=!1),onTouchstart:t[22]||(t[22]=Ae((...u)=>e.inicioTouch&&e.inicioTouch(...u),["stop"])),onTouchmove:t[23]||(t[23]=Ae((...u)=>e.movimientoTouch&&e.movimientoTouch(...u),["stop"])),onTouchend:t[24]||(t[24]=Ae((...u)=>e.finTouch&&e.finTouch(...u),["stop"]))},[Se($g,{name:"pan",onAfterLeave:e.recalcularHeights,tag:"div",id:"transicionFilas"},{default:ht(()=>{var u,d,p,f;return[U(v("div",{class:de(["filaControles",[e.direccionTransicion]]),key:"fila1"},[U(v("div",iD,[nD,$e(" ¡Tienes nodos por completar que son necesarios para este! ")],512),[[K,!e.nodoAccesible]]),v("div",sD,[v("div",{class:de(["botonTexto selector botonControl",{deshabilitado:e.nodoAprendido,checked:e.nodoFresco}]),onClick:t[8]||(t[8]=(...g)=>e.marcarEstudiado&&e.marcarEstudiado(...g)),onDblclick:t[9]||(t[9]=(...g)=>e.marcarAprendido&&e.marcarAprendido(...g)),style:{"align-self":"normal","border-top-right-radius":"0px","border-bottom-right-radius":"0px","flex-grow":"1","flex-shrink":"1"}},[U(Se(i,null,null,512),[[K,e.settingDateEstudiado]]),U(v("img",aD,null,512),[[K,!e.settingDateEstudiado]]),$e(" Estudiado ")],34),U(v("div",{class:"botonTexto botonControl",style:{"border-top-left-radius":"0px","border-bottom-left-radius":"0px","align-self":"normal"},onClick:t[10]||(t[10]=Ae(g=>e.mostrando=e.mostrando==="tiempoRepaso"?"":"tiempoRepaso",["stop"]))},[Se(r,{mostrarNumero:!1,"color-progreso":"#3f7d20","color-fondo":"transparent",progreso:e.porcentajeRepaso,size:40},{default:ht(()=>[lD]),_:1},8,["progreso"]),$e(" "+ve(e.datoUsuarioEsteNodo?e.datoUsuarioEsteNodo.diasRepaso:""),1)],512),[[K,e.datoUsuarioEsteNodo&&e.datoUsuarioEsteNodo.estudiado&&e.datoUsuarioEsteNodo.diasRepaso&&!e.nodoAprendido]]),v("div",{class:de(["botonTexto selector botonControl",{checked:e.nodoAprendido}]),id:"botonMarcarAprendido",style:{width:"100%"},onClick:t[11]||(t[11]=(...g)=>e.marcarAprendido&&e.marcarAprendido(...g))},[U(Se(i,null,null,512),[[K,e.settingEstadoAprendido]]),U(v("img",cD,null,512),[[K,!e.settingEstadoAprendido]]),$e(" "+ve("Aprendido"))],2)])],2),[[K,e.filaMostrada===2]]),U(v("div",{class:de(["filaControles",[e.direccionTransicion]]),key:"fila3"},[v("div",uD,[v("div",{class:de(["botonTexto selector botonControl",{activo:e.mostrando==="dependenciasNodo",deshabilitado:e.dependenciasNodo.length===0}]),onClick:t[12]||(t[12]=g=>e.mostrando=e.mostrando==="dependenciasNodo"?null:"dependenciasNodo")},[dD,$e(" Dependencias ")],2),e.usuarioSuperadministrador||e.usuarioExpertoNodo?(H(),Y("div",{key:0,class:de(["botonTexto",{deshabilitado:e.nodoCreandoDependencia}]),id:"botonCrearDependenciaNodo",onClick:t[13]||(t[13]=Ae((...g)=>e.iniciarCrearDependenciaNodo&&e.iniciarCrearDependenciaNodo(...g),["stop"]))},hD,2)):he("",!0),v("div",{class:"botonTexto",onClick:t[14]||(t[14]=(...g)=>e.crearNodoDependencia&&e.crearNodoDependencia(...g))},mD)]),e.usuarioSuperadministrador?(H(),Y("div",vD,[U(Se(o,null,null,512),[[K,e.eliminandose]]),U(v("div",{class:"boton botonControl",onClick:t[15]||(t[15]=(...g)=>e.eliminarNodo&&e.eliminarNodo(...g))},yD,512),[[K,!e.eliminandose]])])):he("",!0),U(v("div",bD,[e.elNodo&&e.elNodo.vinculos?(H(),Y("div",wD,[(H(!0),Y(Me,null,Ve(e.dependenciasNodo,g=>(H(),Y("div",{class:"dependencia",key:g.id},[Se(n,{idNodo:g.idRef,yo:e.yo},null,8,["idNodo","yo"]),e.usuarioExperto||e.usuarioSuperadministrador?(H(),Y("div",{key:0,class:de(["botonTexto botonEliminarDependencia",{deshabilitado:e.idVinculoEliminando===g.id}]),onClick:Ae(y=>e.eliminarVinculo(g),["stop"])},[U(Se(o,null,null,512),[[K,e.idVinculoEliminando===g.id]]),U(v("img",_D,null,512),[[K,e.idVinculoEliminando!=g.id]])],10,ED)):he("",!0)]))),128)),U(v("div",SD," Este nodo no tiene dependencias ",512),[[K,e.dependenciasNodo.length===0]])])):he("",!0)],512),[[K,e.mostrando==="dependenciasNodo"]])],2),[[K,e.filaMostrada===3]]),U(v("div",{class:de(["filaControles",[e.direccionTransicion]]),key:"fila1",style:{gap:"10px"}},[v("div",{id:"botonLocalizarNodo",class:"boton",style:{height:"20px"},onClick:t[16]||(t[16]=Ae(g=>e.$emit("localizeMe"),["stop"]))},ND),v("div",CD,[v("div",TD,[$e(ve(e.elNodo.descripcion||"")+" ",1),!((d=(u=e.elNodo)==null?void 0:u.descripcion)!=null&&d.length)>0?(H(),Y("div",xD," Aún no hay descripción ")):he("",!0)])]),v("div",ID,[(p=e.elNodo)!=null&&p.id?(H(),qe(s,{key:0,to:{name:"visorNodoConocimiento",params:{idNodo:e.elNodo.id}}},{default:ht(()=>[DD]),_:1},8,["to"])):he("",!0)]),(f=e.elNodo)!=null&&f.id?(H(),Y("div",PD,[Se(s,{to:{name:"atlas",params:{tipoBrowse:"browseNodo",idBrowsed:e.elNodo.id}},class:"botonTexto"},{default:ht(()=>[kD,$e(" Explorar ")]),_:1},8,["to"])])):he("",!0),v("div",OD,[v("div",{class:de(["botonTexto selector",{activo:e.elNodo.id===e.idNodoTarget}]),onClick:t[17]||(t[17]=g=>e.setNodoTarget(e.elNodo.id))},[RD,$e(" En la mira ")],2),U(v("div",{class:"botonTexto",style:{"align-self":"stretch"},onClick:t[18]||(t[18]=g=>e.setNodoTarget(null))},FD,512),[[K,e.elNodo.id===e.idNodoTarget]])])],2),[[K,e.filaMostrada===1]])]}),_:1},8,["onAfterLeave"]),v("div",BD,[(H(!0),Y(Me,null,Ve(e.cantidadFilas,u=>(H(),Y("div",{class:de(["selectorFila boton selector",{activo:e.filaMostrada===u}]),key:"selectorFila"+u,onClick:Ae(d=>e.setFilaMostrada(u),["stop"])},null,10,LD))),128))])],544)),[[K,e.desplegado]]):he("",!0),U(v("div",$D,null,512),[[K,e.mostrando]]),(H(),qe(Ng,{to:"body"},[U(v("div",UD,[v("div",{class:"boton",id:"botonCerrar",onClick:t[25]||(t[25]=u=>e.mostrando="")},jD),zD,U(v("input",{type:"number",ref:"inputDiasRepaso",id:"inputDiasRepaso",min:"0",max:"180","onUpdate:modelValue":t[26]||(t[26]=u=>e.diasRepaso=u)},null,512),[[je,e.diasRepaso]]),v("div",VD," Selecciona la cantidad de días entre repasos para el nodo "+ve(((c=e.elNodo)==null?void 0:c.nombre)||"")+". ",1),v("div",{class:de(["botonTexto",{deshabilitado:e.guardandoDiasRepaso}]),onClick:t[27]||(t[27]=(...u)=>e.setDiasRepaso&&e.setDiasRepaso(...u))}," Aceptar ",2),U(Se(i,null,null,512),[[K,e.guardandoDiasRepaso]])],512),[[K,e.mostrando==="tiempoRepaso"]])]))],6)}const Tb=Le(qI,[["render",HD],["__scopeId","data-v-0fed821f"]]),WD=Pe`
    query($idNodo:ID!){
        nodo(idNodo:$idNodo){
            id
            nombre
            vinculos{
                id
                tipo
                rol
                idRef
            }
        }
    }

`,QD={name:"NodoConocimientoVistaArbol",props:{idNodoUp:{type:String},idNodo:{type:String,required:!0},idNodoSeleccionado:{type:String,default:null},nivelArbol:{type:Number,default:0},refreshLineaHorizontal:{type:Number,default:0}},apollo:{yo:{query:bo,fetchPolicy:"cache-first",skip(){var e;return!((e=this.usuario)!=null&&e.id)}},elNodo:{query:WD,variables(){return{idNodo:this.idNodo}},update({nodo:e}){return e},skip(){return!this.idNodo},fetchPolicy:"cacheFirst"}},data(){return{elNodo:{vinculos:[]},paddingTopArbol:50,paddingLateralArbol:30,montado:!1,selfUnfolded:!1,xCentro:0,yCentro:0,anchosSubnodos:[],gapSubnodos:100,anchoMiArbol:100,anchoMiLinea:0,leftMiLinea:0}},methods:{updateMeasurements(){var n,s;if(!((n=this.$refs)!=null&&n.contenedorArbol)){this.anchoMiArbol=0;return}if(this.anchoMiArbol=this.$refs.contenedorArbol.offsetWidth,!((s=this.$refs)!=null&&s.subnodo))return;let e=this.$refs.subnodo;if(e.length<2){this.anchoMiLinea=0;return}let t=e[0],o=e[e.length-1],i=t.$el.offsetWidth,r=o.$el.offsetWidth;this.anchoMiLinea=this.anchoMiArbol-i/2-r/2-2*this.paddingLateralArbol,this.leftMiLinea=i/2+this.paddingLateralArbol},calcularAnchoMiArbol:Xa(function(){this.updateMeasurements(),this.$nextTick(()=>{this.$emit("anchoUpdated")})},300),prepareDataScroll(){let e=this.$el.getBoundingClientRect();this.xCentro=e.left+e.width/2,this.yCentro=e.top+e.height/2},forwardScrollMe(e){this.$emit("scrollMe",e)},askScrollMe(){let e=this;this.$emit("scrollMe",{elem:e,xCentro:this.xCentro,yCentro:this.yCentro})},toggleSelfUnfolded(){this.selfUnfolded=!this.selfUnfolded}},computed:{targeted(){var e,t;return((t=(e=this.yo)==null?void 0:e.atlas)==null?void 0:t.idNodoTarget)===this.elNodo.id},estiloLineaReceptora(){return{height:this.paddingTopArbol+"px"}},estiloLineaHorizontalContenedorArbol(){return{width:this.anchoMiLinea+"px",left:this.leftMiLinea+"px"}},estiloContenedorArbol(){let e=this.paddingTopArbol,t=100,o=this.paddingLateralArbol,i=this.paddingLateralArbol,r=this.gapSubnodos;return{paddingTop:e+"px",paddingBottom:t+"px",paddingLeft:o+"px",paddingRight:i+"px",gap:r+"px"}},idsDependencias(){return this.elNodo.vinculos.filter(t=>t.tipo==="continuacion"&&t.rol==="target").map(t=>t.idRef)},idsNodosVerdes(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos?this.yo.atlas.datosNodos.filter(o=>o.estadoAprendizaje==="ESTUDIADO"||o.estadoAprendizaje==="APRENDIDO").map(o=>o.idNodo):[]},seleccionado(){return this.idNodoSeleccionado===this.idNodo},accesible(){return!this.elNodo.vinculos.some(e=>e.tipo==="continuacion"&&e.rol==="target"&&!this.idsNodosVerdes.includes(e.idRef))},datosUsuarioEsteNodo(){return this.yo.atlas.datosNodos?this.yo.atlas.datosNodos.find(e=>e.idNodo===this.idNodo):null}},watch:{refreshLineaHorizontal(){if(!this.$refs)return;let e=this.$refs["contenedorArbol"+this.idNodo];e&&e.scrollWidth!=this.anchoArbol&&this.$nextTick(()=>{this.anchoArbol=e.scrollWidth}),setTimeout(()=>{let t=this.$refs["contenedorArbol"+this.idNodo];t&&(this.anchoArbol=t.scrollWidth)},700)}}},Yi="/caracol/assets/ellipsisVertical-b6601740.svg",GD="/caracol/assets/longarrowDown-bfc63e81.svg",KD={key:0,src:Ki,alt:"Mira",id:"iconoTargeted"},JD={class:"bolita"},YD={key:0,src:Nb,alt:"Lock",id:"iconoInaccesible"},XD={key:1,src:fs,alt:"Skill"},ZD={key:2,src:ds,alt:"Skill"},eP={class:"cajaTexto"},tP={style:{transform:"scale(0.6)"},src:Yi,alt:"Cerrado"},oP={src:GD,alt:"Arrow"};function rP(e,t){var i;const o=Te("nodo-conocimiento-vista-arbol",!0);return H(),Y("div",{class:de(["nodoConocimientoVistaArbol nodoConocimientoConBola",[{seleccionado:e.seleccionado,accesible:e.accesible,targeted:e.targeted},(((i=e.datosUsuarioEsteNodo)==null?void 0:i.estadoAprendizaje)||"").toLowerCase()]]),onClick:t[6]||(t[6]=Ae(r=>e.$emit("clickEnNodo",e.idNodo),["stop"])),onDblclick:t[7]||(t[7]=Ae(r=>e.$router.push({name:"visorNodoConocimiento",params:{idNodo:e.idNodo}}),["stop"]))},[U(v("div",{id:"lineaReceptora",style:Re([e.estiloLineaReceptora])},null,4),[[K,e.nivelArbol>0]]),e.targeted?(H(),Y("img",KD)):he("",!0),v("div",JD,[e.accesible?he("",!0):(H(),Y("img",YD)),e.elNodo.tipoNodo==="concepto"?(H(),Y("img",XD)):(H(),Y("img",ZD))]),v("div",eP,ve(e.elNodo.nombre),1),this.elNodo.vinculos.some(r=>r.tipo==="continuacion"&&r.rol==="target")?(H(),Y("div",{key:1,class:"boton",id:"botonDesplegarDependencias",onClick:t[0]||(t[0]=Ae((...r)=>e.toggleSelfUnfolded&&e.toggleSelfUnfolded(...r),["stop"]))},[U(v("img",tP,null,512),[[K,!e.selfUnfolded]]),U(v("img",oP,null,512),[[K,e.selfUnfolded]])])):he("",!0),Se(Qi,{name:e.idsDependencias.length>1?"unfoldHorizontally":"unfoldVertically",onBeforeEnter:e.prepareDataScroll,onEnter:t[4]||(t[4]=r=>{e.askScrollMe(),e.calcularAnchoMiArbol()}),onBeforeLeave:e.prepareDataScroll,onAfterLeave:t[5]||(t[5]=r=>{e.askScrollMe(),e.calcularAnchoMiArbol()})},{default:ht(()=>[e.selfUnfolded?(H(),Y("div",{key:0,id:"contenedorArbol",ref:"contenedorArbol",style:Re([e.estiloContenedorArbol]),onClick:t[3]||(t[3]=Ae(()=>{},["stop"]))},[U(v("div",{id:"lineaHorizontal",style:Re([e.estiloLineaHorizontalContenedorArbol])},null,4),[[K,e.idsDependencias.length>1]]),Se($g,{style:{display:"flex",gap:"100px","align-items":"flex-start"},tag:"div",name:"unfoldVertically",onEnter:e.calcularAnchoMiArbol,onAfterLeave:e.calcularAnchoMiArbol},{default:ht(()=>[(H(!0),Y(Me,null,Ve(e.idsDependencias,r=>(H(),qe(o,{ref_for:!0,ref:"subnodo",key:r,idNodo:r,idNodoSeleccionado:e.idNodoSeleccionado,yo:e.yo,nivelArbol:e.nivelArbol+1,idNodoUp:e.idNodo,refreshLineaHorizontal:e.refreshLineaHorizontal,onScrollMe:e.forwardScrollMe,onComponentUpdated:t[1]||(t[1]=n=>e.$emit("componentUpdated")),onClickEnNodo:t[2]||(t[2]=n=>e.$emit("clickEnNodo",n)),onAnchoUpdated:e.calcularAnchoMiArbol},null,8,["idNodo","idNodoSeleccionado","yo","nivelArbol","idNodoUp","refreshLineaHorizontal","onScrollMe","onAnchoUpdated"]))),128))]),_:1},8,["onEnter","onAfterLeave"])],4)):he("",!0)]),_:1},8,["name","onBeforeEnter","onBeforeLeave"])],34)}const xb=Le(QD,[["render",rP],["__scopeId","data-v-c2b61d47"]]);function Ib(e,t){return function(){return e.apply(t,arguments)}}const{toString:Db}=Object.prototype,{getPrototypeOf:hf}=Object,pf=(e=>t=>{const o=Db.call(t);return e[o]||(e[o]=o.slice(8,-1).toLowerCase())})(Object.create(null)),Zo=e=>(e=e.toLowerCase(),t=>pf(t)===e),tl=e=>t=>typeof t===e,{isArray:Xi}=Array,es=tl("undefined");function iP(e){return e!==null&&!es(e)&&e.constructor!==null&&!es(e.constructor)&&Ar(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Pb=Zo("ArrayBuffer");function nP(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Pb(e.buffer),t}const sP=tl("string"),Ar=tl("function"),kb=tl("number"),mf=e=>e!==null&&typeof e=="object",aP=e=>e===!0||e===!1,na=e=>{if(pf(e)!=="object")return!1;const t=hf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},lP=Zo("Date"),cP=Zo("File"),uP=Zo("Blob"),dP=Zo("FileList"),fP=e=>mf(e)&&Ar(e.pipe),hP=e=>{const t="[object FormData]";return e&&(typeof FormData=="function"&&e instanceof FormData||Db.call(e)===t||Ar(e.toString)&&e.toString()===t)},pP=Zo("URLSearchParams"),mP=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ps(e,t,{allOwnKeys:o=!1}={}){if(e===null||typeof e>"u")return;let i,r;if(typeof e!="object"&&(e=[e]),Xi(e))for(i=0,r=e.length;i<r;i++)t.call(null,e[i],i,e);else{const n=o?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let a;for(i=0;i<s;i++)a=n[i],t.call(null,e[a],a,e)}}function Ob(e,t){t=t.toLowerCase();const o=Object.keys(e);let i=o.length,r;for(;i-- >0;)if(r=o[i],t===r.toLowerCase())return r;return null}const Rb=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Mb=e=>!es(e)&&e!==Rb;function td(){const{caseless:e}=Mb(this)&&this||{},t={},o=(i,r)=>{const n=e&&Ob(t,r)||r;na(t[n])&&na(i)?t[n]=td(t[n],i):na(i)?t[n]=td({},i):Xi(i)?t[n]=i.slice():t[n]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&ps(arguments[i],o);return t}const vP=(e,t,o,{allOwnKeys:i}={})=>(ps(t,(r,n)=>{o&&Ar(r)?e[n]=Ib(r,o):e[n]=r},{allOwnKeys:i}),e),gP=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yP=(e,t,o,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),o&&Object.assign(e.prototype,o)},bP=(e,t,o,i)=>{let r,n,s;const a={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),n=r.length;n-- >0;)s=r[n],(!i||i(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=o!==!1&&hf(e)}while(e&&(!o||o(e,t))&&e!==Object.prototype);return t},wP=(e,t,o)=>{e=String(e),(o===void 0||o>e.length)&&(o=e.length),o-=t.length;const i=e.indexOf(t,o);return i!==-1&&i===o},EP=e=>{if(!e)return null;if(Xi(e))return e;let t=e.length;if(!kb(t))return null;const o=new Array(t);for(;t-- >0;)o[t]=e[t];return o},_P=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&hf(Uint8Array)),SP=(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=i.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},AP=(e,t)=>{let o;const i=[];for(;(o=e.exec(t))!==null;)i.push(o);return i},NP=Zo("HTMLFormElement"),CP=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(o,i,r){return i.toUpperCase()+r}),dm=(({hasOwnProperty:e})=>(t,o)=>e.call(t,o))(Object.prototype),TP=Zo("RegExp"),Fb=(e,t)=>{const o=Object.getOwnPropertyDescriptors(e),i={};ps(o,(r,n)=>{t(r,n,e)!==!1&&(i[n]=r)}),Object.defineProperties(e,i)},xP=e=>{Fb(e,(t,o)=>{if(Ar(e)&&["arguments","caller","callee"].indexOf(o)!==-1)return!1;const i=e[o];if(Ar(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+o+"'")})}})},IP=(e,t)=>{const o={},i=r=>{r.forEach(n=>{o[n]=!0})};return Xi(e)?i(e):i(String(e).split(t)),o},DP=()=>{},PP=(e,t)=>(e=+e,Number.isFinite(e)?e:t),tc="abcdefghijklmnopqrstuvwxyz",fm="0123456789",Bb={DIGIT:fm,ALPHA:tc,ALPHA_DIGIT:tc+tc.toUpperCase()+fm},kP=(e=16,t=Bb.ALPHA_DIGIT)=>{let o="";const{length:i}=t;for(;e--;)o+=t[Math.random()*i|0];return o};function OP(e){return!!(e&&Ar(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const RP=e=>{const t=new Array(10),o=(i,r)=>{if(mf(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[r]=i;const n=Xi(i)?[]:{};return ps(i,(s,a)=>{const l=o(s,r+1);!es(l)&&(n[a]=l)}),t[r]=void 0,n}}return i};return o(e,0)},ye={isArray:Xi,isArrayBuffer:Pb,isBuffer:iP,isFormData:hP,isArrayBufferView:nP,isString:sP,isNumber:kb,isBoolean:aP,isObject:mf,isPlainObject:na,isUndefined:es,isDate:lP,isFile:cP,isBlob:uP,isRegExp:TP,isFunction:Ar,isStream:fP,isURLSearchParams:pP,isTypedArray:_P,isFileList:dP,forEach:ps,merge:td,extend:vP,trim:mP,stripBOM:gP,inherits:yP,toFlatObject:bP,kindOf:pf,kindOfTest:Zo,endsWith:wP,toArray:EP,forEachEntry:SP,matchAll:AP,isHTMLForm:NP,hasOwnProperty:dm,hasOwnProp:dm,reduceDescriptors:Fb,freezeMethods:xP,toObjectSet:IP,toCamelCase:CP,noop:DP,toFiniteNumber:PP,findKey:Ob,global:Rb,isContextDefined:Mb,ALPHABET:Bb,generateString:kP,isSpecCompliantForm:OP,toJSONObject:RP};function Ye(e,t,o,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),o&&(this.config=o),i&&(this.request=i),r&&(this.response=r)}ye.inherits(Ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Lb=Ye.prototype,$b={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$b[e]={value:e}});Object.defineProperties(Ye,$b);Object.defineProperty(Lb,"isAxiosError",{value:!0});Ye.from=(e,t,o,i,r,n)=>{const s=Object.create(Lb);return ye.toFlatObject(e,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Ye.call(s,e.message,t,o,i,r),s.cause=e,s.name=e.name,n&&Object.assign(s,n),s};const MP=null;function od(e){return ye.isPlainObject(e)||ye.isArray(e)}function Ub(e){return ye.endsWith(e,"[]")?e.slice(0,-2):e}function hm(e,t,o){return e?e.concat(t).map(function(r,n){return r=Ub(r),!o&&n?"["+r+"]":r}).join(o?".":""):t}function FP(e){return ye.isArray(e)&&!e.some(od)}const BP=ye.toFlatObject(ye,{},null,function(t){return/^is[A-Z]/.test(t)});function ol(e,t,o){if(!ye.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,o=ye.toFlatObject(o,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,T){return!ye.isUndefined(T[y])});const i=o.metaTokens,r=o.visitor||u,n=o.dots,s=o.indexes,l=(o.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(t);if(!ye.isFunction(r))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(ye.isDate(g))return g.toISOString();if(!l&&ye.isBlob(g))throw new Ye("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(g)||ye.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,y,T){let w=g;if(g&&!T&&typeof g=="object"){if(ye.endsWith(y,"{}"))y=i?y:y.slice(0,-2),g=JSON.stringify(g);else if(ye.isArray(g)&&FP(g)||(ye.isFileList(g)||ye.endsWith(y,"[]"))&&(w=ye.toArray(g)))return y=Ub(y),w.forEach(function(x,D){!(ye.isUndefined(x)||x===null)&&t.append(s===!0?hm([y],D,n):s===null?y:y+"[]",c(x))}),!1}return od(g)?!0:(t.append(hm(T,y,n),c(g)),!1)}const d=[],p=Object.assign(BP,{defaultVisitor:u,convertValue:c,isVisitable:od});function f(g,y){if(!ye.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),ye.forEach(g,function(w,_){(!(ye.isUndefined(w)||w===null)&&r.call(t,w,ye.isString(_)?_.trim():_,y,p))===!0&&f(w,y?y.concat(_):[_])}),d.pop()}}if(!ye.isObject(e))throw new TypeError("data must be an object");return f(e),t}function pm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function vf(e,t){this._pairs=[],e&&ol(e,this,t)}const qb=vf.prototype;qb.append=function(t,o){this._pairs.push([t,o])};qb.toString=function(t){const o=t?function(i){return t.call(this,i,pm)}:pm;return this._pairs.map(function(r){return o(r[0])+"="+o(r[1])},"").join("&")};function LP(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function jb(e,t,o){if(!t)return e;const i=o&&o.encode||LP,r=o&&o.serialize;let n;if(r?n=r(t,o):n=ye.isURLSearchParams(t)?t.toString():new vf(t,o).toString(i),n){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}class $P{constructor(){this.handlers=[]}use(t,o,i){return this.handlers.push({fulfilled:t,rejected:o,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ye.forEach(this.handlers,function(i){i!==null&&t(i)})}}const mm=$P,zb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},UP=typeof URLSearchParams<"u"?URLSearchParams:vf,qP=typeof FormData<"u"?FormData:null,jP=typeof Blob<"u"?Blob:null,zP=(()=>{let e;return typeof navigator<"u"&&((e=navigator.product)==="ReactNative"||e==="NativeScript"||e==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),VP=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Fo={isBrowser:!0,classes:{URLSearchParams:UP,FormData:qP,Blob:jP},isStandardBrowserEnv:zP,isStandardBrowserWebWorkerEnv:VP,protocols:["http","https","file","blob","url","data"]};function HP(e,t){return ol(e,new Fo.classes.URLSearchParams,Object.assign({visitor:function(o,i,r,n){return Fo.isNode&&ye.isBuffer(o)?(this.append(i,o.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}function WP(e){return ye.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function QP(e){const t={},o=Object.keys(e);let i;const r=o.length;let n;for(i=0;i<r;i++)n=o[i],t[n]=e[n];return t}function Vb(e){function t(o,i,r,n){let s=o[n++];const a=Number.isFinite(+s),l=n>=o.length;return s=!s&&ye.isArray(r)?r.length:s,l?(ye.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!a):((!r[s]||!ye.isObject(r[s]))&&(r[s]=[]),t(o,i,r[s],n)&&ye.isArray(r[s])&&(r[s]=QP(r[s])),!a)}if(ye.isFormData(e)&&ye.isFunction(e.entries)){const o={};return ye.forEachEntry(e,(i,r)=>{t(WP(i),r,o,0)}),o}return null}const GP={"Content-Type":void 0};function KP(e,t,o){if(ye.isString(e))try{return(t||JSON.parse)(e),ye.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(o||JSON.stringify)(e)}const rl={transitional:zb,adapter:["xhr","http"],transformRequest:[function(t,o){const i=o.getContentType()||"",r=i.indexOf("application/json")>-1,n=ye.isObject(t);if(n&&ye.isHTMLForm(t)&&(t=new FormData(t)),ye.isFormData(t))return r&&r?JSON.stringify(Vb(t)):t;if(ye.isArrayBuffer(t)||ye.isBuffer(t)||ye.isStream(t)||ye.isFile(t)||ye.isBlob(t))return t;if(ye.isArrayBufferView(t))return t.buffer;if(ye.isURLSearchParams(t))return o.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(n){if(i.indexOf("application/x-www-form-urlencoded")>-1)return HP(t,this.formSerializer).toString();if((a=ye.isFileList(t))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ol(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return n||r?(o.setContentType("application/json",!1),KP(t)):t}],transformResponse:[function(t){const o=this.transitional||rl.transitional,i=o&&o.forcedJSONParsing,r=this.responseType==="json";if(t&&ye.isString(t)&&(i&&!this.responseType||r)){const s=!(o&&o.silentJSONParsing)&&r;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?Ye.from(a,Ye.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fo.classes.FormData,Blob:Fo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ye.forEach(["delete","get","head"],function(t){rl.headers[t]={}});ye.forEach(["post","put","patch"],function(t){rl.headers[t]=ye.merge(GP)});const gf=rl,JP=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YP=e=>{const t={};let o,i,r;return e&&e.split(`
`).forEach(function(s){r=s.indexOf(":"),o=s.substring(0,r).trim().toLowerCase(),i=s.substring(r+1).trim(),!(!o||t[o]&&JP[o])&&(o==="set-cookie"?t[o]?t[o].push(i):t[o]=[i]:t[o]=t[o]?t[o]+", "+i:i)}),t},vm=Symbol("internals");function bn(e){return e&&String(e).trim().toLowerCase()}function sa(e){return e===!1||e==null?e:ye.isArray(e)?e.map(sa):String(e)}function XP(e){const t=Object.create(null),o=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=o.exec(e);)t[i[1]]=i[2];return t}function ZP(e){return/^[-_a-zA-Z]+$/.test(e.trim())}function oc(e,t,o,i,r){if(ye.isFunction(i))return i.call(this,t,o);if(r&&(t=o),!!ye.isString(t)){if(ye.isString(i))return t.indexOf(i)!==-1;if(ye.isRegExp(i))return i.test(t)}}function ek(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,o,i)=>o.toUpperCase()+i)}function tk(e,t){const o=ye.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+o,{value:function(r,n,s){return this[i].call(this,t,r,n,s)},configurable:!0})})}class il{constructor(t){t&&this.set(t)}set(t,o,i){const r=this;function n(a,l,c){const u=bn(l);if(!u)throw new Error("header name must be a non-empty string");const d=ye.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=sa(a))}const s=(a,l)=>ye.forEach(a,(c,u)=>n(c,u,l));return ye.isPlainObject(t)||t instanceof this.constructor?s(t,o):ye.isString(t)&&(t=t.trim())&&!ZP(t)?s(YP(t),o):t!=null&&n(o,t,i),this}get(t,o){if(t=bn(t),t){const i=ye.findKey(this,t);if(i){const r=this[i];if(!o)return r;if(o===!0)return XP(r);if(ye.isFunction(o))return o.call(this,r,i);if(ye.isRegExp(o))return o.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,o){if(t=bn(t),t){const i=ye.findKey(this,t);return!!(i&&this[i]!==void 0&&(!o||oc(this,this[i],i,o)))}return!1}delete(t,o){const i=this;let r=!1;function n(s){if(s=bn(s),s){const a=ye.findKey(i,s);a&&(!o||oc(i,i[a],a,o))&&(delete i[a],r=!0)}}return ye.isArray(t)?t.forEach(n):n(t),r}clear(t){const o=Object.keys(this);let i=o.length,r=!1;for(;i--;){const n=o[i];(!t||oc(this,this[n],n,t,!0))&&(delete this[n],r=!0)}return r}normalize(t){const o=this,i={};return ye.forEach(this,(r,n)=>{const s=ye.findKey(i,n);if(s){o[s]=sa(r),delete o[n];return}const a=t?ek(n):String(n).trim();a!==n&&delete o[n],o[a]=sa(r),i[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const o=Object.create(null);return ye.forEach(this,(i,r)=>{i!=null&&i!==!1&&(o[r]=t&&ye.isArray(i)?i.join(", "):i)}),o}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,o])=>t+": "+o).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...o){const i=new this(t);return o.forEach(r=>i.set(r)),i}static accessor(t){const i=(this[vm]=this[vm]={accessors:{}}).accessors,r=this.prototype;function n(s){const a=bn(s);i[a]||(tk(r,s),i[a]=!0)}return ye.isArray(t)?t.forEach(n):n(t),this}}il.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.freezeMethods(il.prototype);ye.freezeMethods(il);const Ko=il;function rc(e,t){const o=this||gf,i=t||o,r=Ko.from(i.headers);let n=i.data;return ye.forEach(e,function(a){n=a.call(o,n,r.normalize(),t?t.status:void 0)}),r.normalize(),n}function Hb(e){return!!(e&&e.__CANCEL__)}function ms(e,t,o){Ye.call(this,e??"canceled",Ye.ERR_CANCELED,t,o),this.name="CanceledError"}ye.inherits(ms,Ye,{__CANCEL__:!0});function ok(e,t,o){const i=o.config.validateStatus;!o.status||!i||i(o.status)?e(o):t(new Ye("Request failed with status code "+o.status,[Ye.ERR_BAD_REQUEST,Ye.ERR_BAD_RESPONSE][Math.floor(o.status/100)-4],o.config,o.request,o))}const rk=Fo.isStandardBrowserEnv?function(){return{write:function(o,i,r,n,s,a){const l=[];l.push(o+"="+encodeURIComponent(i)),ye.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),ye.isString(n)&&l.push("path="+n),ye.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(o){const i=document.cookie.match(new RegExp("(^|;\\s*)("+o+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(o){this.write(o,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function ik(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function nk(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}function Wb(e,t){return e&&!ik(t)?nk(e,t):t}const sk=Fo.isStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");let i;function r(n){let s=n;return t&&(o.setAttribute("href",s),s=o.href),o.setAttribute("href",s),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:o.pathname.charAt(0)==="/"?o.pathname:"/"+o.pathname}}return i=r(window.location.href),function(s){const a=ye.isString(s)?r(s):s;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function ak(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lk(e,t){e=e||10;const o=new Array(e),i=new Array(e);let r=0,n=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=i[n];s||(s=c),o[r]=l,i[r]=c;let d=n,p=0;for(;d!==r;)p+=o[d++],d=d%e;if(r=(r+1)%e,r===n&&(n=(n+1)%e),c-s<t)return;const f=u&&c-u;return f?Math.round(p*1e3/f):void 0}}function gm(e,t){let o=0;const i=lk(50,250);return r=>{const n=r.loaded,s=r.lengthComputable?r.total:void 0,a=n-o,l=i(a),c=n<=s;o=n;const u={loaded:n,total:s,progress:s?n/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-n)/l:void 0,event:r};u[t?"download":"upload"]=!0,e(u)}}const ck=typeof XMLHttpRequest<"u",uk=ck&&function(e){return new Promise(function(o,i){let r=e.data;const n=Ko.from(e.headers).normalize(),s=e.responseType;let a;function l(){e.cancelToken&&e.cancelToken.unsubscribe(a),e.signal&&e.signal.removeEventListener("abort",a)}ye.isFormData(r)&&(Fo.isStandardBrowserEnv||Fo.isStandardBrowserWebWorkerEnv)&&n.setContentType(!1);let c=new XMLHttpRequest;if(e.auth){const f=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";n.set("Authorization","Basic "+btoa(f+":"+g))}const u=Wb(e.baseURL,e.url);c.open(e.method.toUpperCase(),jb(u,e.params,e.paramsSerializer),!0),c.timeout=e.timeout;function d(){if(!c)return;const f=Ko.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),y={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:e,request:c};ok(function(w){o(w),l()},function(w){i(w),l()},y),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(i(new Ye("Request aborted",Ye.ECONNABORTED,e,c)),c=null)},c.onerror=function(){i(new Ye("Network Error",Ye.ERR_NETWORK,e,c)),c=null},c.ontimeout=function(){let g=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const y=e.transitional||zb;e.timeoutErrorMessage&&(g=e.timeoutErrorMessage),i(new Ye(g,y.clarifyTimeoutError?Ye.ETIMEDOUT:Ye.ECONNABORTED,e,c)),c=null},Fo.isStandardBrowserEnv){const f=(e.withCredentials||sk(u))&&e.xsrfCookieName&&rk.read(e.xsrfCookieName);f&&n.set(e.xsrfHeaderName,f)}r===void 0&&n.setContentType(null),"setRequestHeader"in c&&ye.forEach(n.toJSON(),function(g,y){c.setRequestHeader(y,g)}),ye.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),s&&s!=="json"&&(c.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",gm(e.onDownloadProgress,!0)),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",gm(e.onUploadProgress)),(e.cancelToken||e.signal)&&(a=f=>{c&&(i(!f||f.type?new ms(null,e,c):f),c.abort(),c=null)},e.cancelToken&&e.cancelToken.subscribe(a),e.signal&&(e.signal.aborted?a():e.signal.addEventListener("abort",a)));const p=ak(u);if(p&&Fo.protocols.indexOf(p)===-1){i(new Ye("Unsupported protocol "+p+":",Ye.ERR_BAD_REQUEST,e));return}c.send(r||null)})},aa={http:MP,xhr:uk};ye.forEach(aa,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const dk={getAdapter:e=>{e=ye.isArray(e)?e:[e];const{length:t}=e;let o,i;for(let r=0;r<t&&(o=e[r],!(i=ye.isString(o)?aa[o.toLowerCase()]:o));r++);if(!i)throw i===!1?new Ye(`Adapter ${o} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(ye.hasOwnProp(aa,o)?`Adapter '${o}' is not available in the build`:`Unknown adapter '${o}'`);if(!ye.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:aa};function ic(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ms(null,e)}function ym(e){return ic(e),e.headers=Ko.from(e.headers),e.data=rc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dk.getAdapter(e.adapter||gf.adapter)(e).then(function(i){return ic(e),i.data=rc.call(e,e.transformResponse,i),i.headers=Ko.from(i.headers),i},function(i){return Hb(i)||(ic(e),i&&i.response&&(i.response.data=rc.call(e,e.transformResponse,i.response),i.response.headers=Ko.from(i.response.headers))),Promise.reject(i)})}const bm=e=>e instanceof Ko?e.toJSON():e;function $i(e,t){t=t||{};const o={};function i(c,u,d){return ye.isPlainObject(c)&&ye.isPlainObject(u)?ye.merge.call({caseless:d},c,u):ye.isPlainObject(u)?ye.merge({},u):ye.isArray(u)?u.slice():u}function r(c,u,d){if(ye.isUndefined(u)){if(!ye.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function n(c,u){if(!ye.isUndefined(u))return i(void 0,u)}function s(c,u){if(ye.isUndefined(u)){if(!ye.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in t)return i(c,u);if(d in e)return i(void 0,c)}const l={url:n,method:n,data:n,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u)=>r(bm(c),bm(u),!0)};return ye.forEach(Object.keys(e).concat(Object.keys(t)),function(u){const d=l[u]||r,p=d(e[u],t[u],u);ye.isUndefined(p)&&d!==a||(o[u]=p)}),o}const Qb="1.3.4",yf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{yf[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const wm={};yf.transitional=function(t,o,i){function r(n,s){return"[Axios v"+Qb+"] Transitional option '"+n+"'"+s+(i?". "+i:"")}return(n,s,a)=>{if(t===!1)throw new Ye(r(s," has been removed"+(o?" in "+o:"")),Ye.ERR_DEPRECATED);return o&&!wm[s]&&(wm[s]=!0,console.warn(r(s," has been deprecated since v"+o+" and will be removed in the near future"))),t?t(n,s,a):!0}};function fk(e,t,o){if(typeof e!="object")throw new Ye("options must be an object",Ye.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let r=i.length;for(;r-- >0;){const n=i[r],s=t[n];if(s){const a=e[n],l=a===void 0||s(a,n,e);if(l!==!0)throw new Ye("option "+n+" must be "+l,Ye.ERR_BAD_OPTION_VALUE);continue}if(o!==!0)throw new Ye("Unknown option "+n,Ye.ERR_BAD_OPTION)}}const rd={assertOptions:fk,validators:yf},ar=rd.validators;class Na{constructor(t){this.defaults=t,this.interceptors={request:new mm,response:new mm}}request(t,o){typeof t=="string"?(o=o||{},o.url=t):o=t||{},o=$i(this.defaults,o);const{transitional:i,paramsSerializer:r,headers:n}=o;i!==void 0&&rd.assertOptions(i,{silentJSONParsing:ar.transitional(ar.boolean),forcedJSONParsing:ar.transitional(ar.boolean),clarifyTimeoutError:ar.transitional(ar.boolean)},!1),r!==void 0&&rd.assertOptions(r,{encode:ar.function,serialize:ar.function},!0),o.method=(o.method||this.defaults.method||"get").toLowerCase();let s;s=n&&ye.merge(n.common,n[o.method]),s&&ye.forEach(["delete","get","head","post","put","patch","common"],g=>{delete n[g]}),o.headers=Ko.concat(s,n);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(o)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,d=0,p;if(!l){const g=[ym.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),p=g.length,u=Promise.resolve(o);d<p;)u=u.then(g[d++],g[d++]);return u}p=a.length;let f=o;for(d=0;d<p;){const g=a[d++],y=a[d++];try{f=g(f)}catch(T){y.call(this,T);break}}try{u=ym.call(this,f)}catch(g){return Promise.reject(g)}for(d=0,p=c.length;d<p;)u=u.then(c[d++],c[d++]);return u}getUri(t){t=$i(this.defaults,t);const o=Wb(t.baseURL,t.url);return jb(o,t.params,t.paramsSerializer)}}ye.forEach(["delete","get","head","options"],function(t){Na.prototype[t]=function(o,i){return this.request($i(i||{},{method:t,url:o,data:(i||{}).data}))}});ye.forEach(["post","put","patch"],function(t){function o(i){return function(n,s,a){return this.request($i(a||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:n,data:s}))}}Na.prototype[t]=o(),Na.prototype[t+"Form"]=o(!0)});const la=Na;class bf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let o;this.promise=new Promise(function(n){o=n});const i=this;this.promise.then(r=>{if(!i._listeners)return;let n=i._listeners.length;for(;n-- >0;)i._listeners[n](r);i._listeners=null}),this.promise.then=r=>{let n;const s=new Promise(a=>{i.subscribe(a),n=a}).then(r);return s.cancel=function(){i.unsubscribe(n)},s},t(function(n,s,a){i.reason||(i.reason=new ms(n,s,a),o(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const o=this._listeners.indexOf(t);o!==-1&&this._listeners.splice(o,1)}static source(){let t;return{token:new bf(function(r){t=r}),cancel:t}}}const hk=bf;function pk(e){return function(o){return e.apply(null,o)}}function mk(e){return ye.isObject(e)&&e.isAxiosError===!0}const id={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(id).forEach(([e,t])=>{id[t]=e});const vk=id;function Gb(e){const t=new la(e),o=Ib(la.prototype.request,t);return ye.extend(o,la.prototype,t,{allOwnKeys:!0}),ye.extend(o,t,null,{allOwnKeys:!0}),o.create=function(r){return Gb($i(e,r))},o}const It=Gb(gf);It.Axios=la;It.CanceledError=ms;It.CancelToken=hk;It.isCancel=Hb;It.VERSION=Qb;It.toFormData=ol;It.AxiosError=Ye;It.Cancel=It.CanceledError;It.all=function(t){return Promise.all(t)};It.spread=pk;It.isAxiosError=mk;It.mergeConfig=$i;It.AxiosHeaders=Ko;It.formToJSON=e=>Vb(ye.isHTMLForm(e)?new FormData(e):e);It.HttpStatusCode=vk;It.default=It;const wf=It,nl="/caracol/assets/file-2ee96f5f.svg",gk="/caracol/assets/arrowUp-364c5229.svg",yk={components:{Loading:ut},name:"ArchivoSeccionNodo",props:{esteArchivo:Object,usuarioExperto:Boolean,idNodo:String,idSeccion:String},data(){return{eliminandose:!1,marcandoPrimario:!1}},methods:{eliminarse(){if(this.usuarioExperto){if(!confirm("Borrando archivo ¿Continuar?")){console.log("Cancelado");return}this.eliminandose=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: ID!, $idSeccion: ID!, $nombreArchivo: String!) {
              eliminarArchivoSeccionNodo(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nombreArchivo: $nombreArchivo
              )
            }
          `,variables:{idNodo:this.idNodo,idSeccion:this.idSeccion,nombreArchivo:this.esteArchivo.nombre}}).then(({data:{eliminarArchivoSeccionNodo:e}})=>{if(this.eliminandose=!1,!e){console.log("Archivo no eliminado");return}this.$emit("meElimine")}).catch(e=>{this.eliminandose=!1,console.log(`Error. E: ${e}`)})}},marcarPrimario(){this.marcandoPrimario=!0,this.$apollo.mutate({mutation:Pe`
          mutation($idNodo:ID!, $idSeccion: ID!, $nombreArchivo:String!){
            marcarPrimarioArchivoSeccionNodo(idNodo:$idNodo, idSeccion:$idSeccion, nombreArchivo: $nombreArchivo)
          }
        `,variables:{idNodo:this.idNodo,idSeccion:this.idSeccion,nombreArchivo:this.esteArchivo.nombre}}).then(()=>{this.marcandoPrimario=!1,this.$emit("soyPrimario")}).catch(()=>{this.marcandoPrimario=!1})}}},Ef=e=>(Ge("data-v-a49bcb01"),e=e(),Ke(),e),bk={id:"barraSuperior"},wk=Ef(()=>v("div",{id:"icono"},[v("img",{src:nl,alt:"Archivo"})],-1)),Ek={id:"nombre"},_k={class:"contenedorControles",style:{"margin-left":"auto","margin-right":"10px"}},Sk=Ef(()=>v("img",{src:Nr,alt:"Basura"},null,-1)),Ak=[Sk],Nk=Ef(()=>v("img",{src:gk,alt:"Subir"},null,-1)),Ck=[Nk];function Tk(e,t,o,i,r,n){const s=Te("loading");return H(),Y("div",{class:de(["archivoSeccionNodo",{deshabilitado:r.eliminandose}])},[v("div",bk,[wk,v("div",Ek,ve(o.esteArchivo.nombre),1),v("div",_k,[v("div",{class:"boton",title:"Eliminar",onClick:t[0]||(t[0]=(...a)=>n.eliminarse&&n.eliminarse(...a))},Ak),U(v("div",{class:"boton",onClick:t[1]||(t[1]=(...a)=>n.marcarPrimario&&n.marcarPrimario(...a))},Ck,512),[[K,!o.esteArchivo.primario&&!r.marcandoPrimario]]),U(Se(s,{texto:""},null,512),[[K,r.marcandoPrimario]])])])],2)}const xk=Le(yk,[["render",Tk],["__scopeId","data-v-a49bcb01"]]),sl=/[^ a-zA-ZÀ-ž0-9_():.,-]/,Kb=/[^\n\r a-zA-ZÀ-ž0-9_()":;.,+¡!¿?@=-]/,_f="/caracol/assets/edit-47695e84.svg",Jb="/caracol/assets/link-90c9ac52.svg";let Em=null;const Ik={props:{estaSeccion:Object,idNodo:String,usuarioExperto:Boolean},components:{ArchivoSeccionNodo:xk,Loading:ut},name:"SeccionNodoConocimiento",data(){return{observer:null,editando:!1,subiendoArchivo:!1,versionArchivo:0,editandoNombre:!1,enviandoNuevoNombre:!1,guardandoNuevoEnlace:!1,inputNuevoEnlace:this.estaSeccion.enlace,modo:"",offsetIframe:{height:"900px"}}},methods:{startObserving(){Em=new ResizeObserver(e=>{this.reheight()}),Em.observe(document.getElementById("iframeSeccion").contentWindow.document.body)},reheight(){let e=this.$refs.iframeSeccion.contentWindow.document.body.scrollHeight;this.offsetIframe.height=Math.round(e+40)+"px"},subirArchivoContenido(e){const t=e.target;var o=new FormData;const i=t.files[0];o.append("nuevoArchivo",i),o.append("idNodo",this.idNodo),o.append("idSeccion",this.estaSeccion.id),this.subiendoArchivo=!0,wf({method:"post",url:this.serverUrl+"/api/atlas/subirArchivoContenidoSeccionNodo",data:o,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.usuario.token}}).then(({data:{infoArchivo:r}})=>{this.subiendoArchivo=!1,this.versionArchivo++,this.$emit("subiArchivo",r)}).catch(r=>{this.subiendoArchivo=!1,console.log(`Error subiendo archivo. E: ${r}`)})},iniciarEdicionNombre(){this.$refs.inputNuevoNombre.value=this.estaSeccion.nombre,this.editandoNombre=!0},guardarNuevoNombre(){var e=this.$refs.inputNuevoNombre.value.trim();if(e==this.estaSeccion.nombre){this.editandoNombre=!1;return}if(!(e.length<1)){if(sl.test(e)){console.log("Caracteres ilegales");return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Pe`
            mutation (
              $idNodo: ID!
              $idSeccion: ID!
              $nuevoNombre: String!
            ) {
              editarNombreSeccionNodoConocimiento(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nuevoNombre: $nuevoNombre
              ) {
                id
                nombre
              }
            }
          `,variables:{idNodo:this.idNodo,idSeccion:this.estaSeccion.id,nuevoNombre:e}}).then(t=>{console.log(`fin de la mutacion. Data: ${JSON.stringify(t)} `),this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(t=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${t}`)})}},toggleModo(){const e=this.modo==="archivo"?"enlace":"archivo";console.log("Cambiando a "+e),this.modo=e},guardarNuevoEnlace(){console.log("guardar nuevo enlace");var e=this.$refs.inputNuevoEnlace.value.trim();console.log(e),!(e===this.estaSeccion.enlace||!e||e.length<5)&&(!this.usuarioExperto&&!this.usuarioSuperadministrador||(this.guardandoNuevoEnlace=!0,this.$apollo.mutate({mutation:Pe`
          mutation($idNodo: ID!, $idSeccion:ID!, $nuevoEnlace:String!){
            setNuevoEnlaceSeccionNodo(idNodo: $idNodo, idSeccion: $idSeccion, nuevoEnlace: $nuevoEnlace){
              id
              modo
              enlace
            }
          }
        `,variables:{idNodo:this.idNodo,idSeccion:this.estaSeccion.id,nuevoEnlace:e}}).then(()=>{this.guardandoNuevoEnlace=!1}).catch(t=>{console.log("Error: "+t),this.guardandoNuevoEnlace=!0})))}},computed:{direccionNodo:function(){return this.serverUrl+"/assetsAtlas/contenidosNodos/"+this.idNodo},archivosOrdenados(){var e=JSON.parse(JSON.stringify(this.estaSeccion.archivos));return e.sort(t=>t.primario?-1:0),e},srcIframe(){if(this.estaSeccion.modo==="enlace"&&this.estaSeccion.enlace){var e=this.estaSeccion.enlace;return console.log("Server URL: "+this.serverUrl),console.log("elEnlace: "+e),e=e.replace("http://192.168.1.100:3000","https://pe-pe-pe.herokuapp.com"),console.log("Queda "+e),e}return this.direccionNodo+"/"+this.estaSeccion.id+"/?v="+this.versionArchivo}},watch:{"estaSeccion.modo":{handler:function(){this.modo=this.estaSeccion.modo},immediate:!0}},mounted(){}},Yb=e=>(Ge("data-v-7dbd94d7"),e=e(),Ke(),e),Dk={class:"seccionNodoConocimiento"},Pk={class:"contenedorControles"},kk=Yb(()=>v("img",{src:_f,alt:"Editar"},null,-1)),Ok=[kk],Rk=["src"],Mk=["src"],Fk={key:0,id:"zonaAdministracion"},Bk=["value"],Lk={class:"contenedorControles"},$k=Yb(()=>v("img",{src:Ji,alt:"Plus"},null,-1)),Uk=[$k],qk=["title"],jk={src:nl,alt:"Archivo"},zk={src:Jb,alt:"Archivo"},Vk={id:"listaArchivos"},Hk={id:"zonaEnlace"};function Wk(e,t,o,i,r,n){const s=Te("loading"),a=Te("archivo-seccion-nodo");return H(),Y("div",Dk,[v("div",Pk,[o.usuarioExperto||e.usuarioSuperadministrador?(H(),Y("div",{key:0,class:"boton",onClick:t[0]||(t[0]=l=>r.editando=!r.editando)},Ok)):he("",!0)]),U((H(),Y("div",{id:"zonaFront",class:"frontDeSeccion",key:r.versionArchivo},[o.estaSeccion.modo==="enlace"||o.estaSeccion.tipoPrimario&&o.estaSeccion.tipoPrimario.substring(0,5)!="image"?(H(),Y("iframe",{key:0,ref:"iframeSeccion",id:"iframeSeccion",onLoad:t[1]||(t[1]=l=>{n.reheight(),n.startObserving()}),src:n.srcIframe,style:Re([r.offsetIframe]),frameborder:"0"},null,44,Rk)):he("",!0),o.estaSeccion.modo==="archivo"&&o.estaSeccion.tipoPrimario&&o.estaSeccion.tipoPrimario.substring(0,5)==="image"?(H(),Y("img",{key:1,src:n.direccionNodo+"/"+o.estaSeccion.id+"/?v="+r.versionArchivo},null,8,Mk)):he("",!0)])),[[K,!r.editando]]),o.usuarioExperto||e.usuarioSuperadministrador?U((H(),Y("div",Fk,[U(v("div",{id:"nombre",onClick:t[2]||(t[2]=(...l)=>n.iniciarEdicionNombre&&n.iniciarEdicionNombre(...l))},ve(o.estaSeccion.nombre),513),[[K,!r.editandoNombre]]),U(v("input",{type:"text",name:"",value:o.estaSeccion.nombre,id:"inputNuevoNombre",ref:"inputNuevoNombre",class:de({deshabilitado:r.enviandoNuevoNombre}),onBlur:t[3]||(t[3]=(...l)=>n.guardarNuevoNombre&&n.guardarNuevoNombre(...l)),onKeypress:t[4]||(t[4]=pt((...l)=>n.guardarNuevoNombre&&n.guardarNuevoNombre(...l),["enter"]))},null,42,Bk),[[K,r.editandoNombre]]),U(Se(s,{texto:""},null,512),[[K,r.enviandoNuevoNombre]]),v("div",Lk,[r.modo==="archivo"?U((H(),Y("div",{key:0,class:"boton",title:"Subir un archivo",onClick:t[5]||(t[5]=l=>e.$refs.inputArchivoContenido.click())},Uk,512)),[[K,!r.subiendoArchivo]]):he("",!0),U(Se(s,{texto:""},null,512),[[K,r.subiendoArchivo]]),v("div",{class:"boton",title:o.estaSeccion.modo==="archivo"?"Cambiar modo a enlace":"Cambiar modo a archivo",onClick:t[6]||(t[6]=Ae((...l)=>n.toggleModo&&n.toggleModo(...l),["stop"]))},[U(v("img",jk,null,512),[[K,r.modo==="archivo"]]),U(v("img",zk,null,512),[[K,r.modo==="enlace"]])],8,qk)]),U(v("div",Vk,[U(v("input",{type:"file",class:"inputArchivoContenido",ref:"inputArchivoContenido",onChange:t[7]||(t[7]=l=>n.subirArchivoContenido(l))},null,544),[[K,!1]]),(H(!0),Y(Me,null,Ve(n.archivosOrdenados,l=>(H(),qe(a,{esteArchivo:l,usuarioExperto:o.usuarioExperto,idNodo:o.idNodo,idSeccion:o.estaSeccion.id,key:l.id,onMeElimine:c=>e.$emit("archivoEliminado",l.nombre),onSoyPrimario:c=>{e.$emit("tengoNuevoPrimario",l.nombre),r.versionArchivo++}},null,8,["esteArchivo","usuarioExperto","idNodo","idSeccion","onMeElimine","onSoyPrimario"]))),128))],512),[[K,r.modo==="archivo"]]),U(v("div",Hk,[U(v("input",{type:"text",id:"inputNuevoEnlace",ref:"inputNuevoEnlace","onUpdate:modelValue":t[8]||(t[8]=l=>r.inputNuevoEnlace=l),onBlur:t[9]||(t[9]=(...l)=>n.guardarNuevoEnlace&&n.guardarNuevoEnlace(...l)),placeholder:"Enlace al recurso",onKeypress:t[10]||(t[10]=pt((...l)=>n.guardarNuevoEnlace&&n.guardarNuevoEnlace(...l),["enter"]))},null,544),[[je,r.inputNuevoEnlace]])],512),[[K,r.modo==="enlace"]])],512)),[[K,r.editando]]):he("",!0)])}const Qk=Le(Ik,[["render",Wk],["__scopeId","data-v-7dbd94d7"]]);Ce`
  fragment fragEvento on EventoCalendario{
    id
    nombre
    descripcion
    horarioInicio
    horarioFinal
    responsables  
    participantes
    origen
    idOrigen    
  }
`;Ce`
fragment fragResponsables on Usuario {
  id
  username
  nombres
  apellidos
  email
  permisos
  numeroTel
  lugarResidencia
}
`;const Xb=Ce`
fragment fragMinimoPersona on Usuario {
  id
  nombres
  apellidos
  username
  titulo
}
`,Gk=Ce`
  fragment fragParticipacion on ParticipacionActividadGrupoEstudiantil{
    id
      fechaUpload
      archivo {
        extension
        nombre
        googleDriveDirectLink,        
      }
      comentario
      enlaceAdjunto
      infoAutor{
        ...fragMinimoPersona
      }
  }
  ${Xb}
`,Kk=Ce`
fragment fragDesarrollo on DesarrolloActividadGrupoEstudiantil{
    id
    estado
    leidoPorProfe
    infoEstudiante{
      ...fragMinimoPersona
    }
    participaciones {
      ...fragParticipacion
    }
}
${Gk}
`;Ce`
fragment fragActividad on ActividadGrupoEstudiantil {
  id
  nombre
  fechaUpload
  hayGuia
  infoCreador{
    ...fragMinimoPersona
  }
  desarrollos {
    ...fragDesarrollo 
  }
}
${Kk}
`;Ce`
  fragment fragBienProyecto on BienProyecto{
    id
      nombre
      descripcion
      unidad
      cantidad
      fechaCierre
      fechaReparticion
      instruccionesRecibir
      listaPeticiones{
        idBeneficiario
        cantidadSolicitada
        cantidadAsignada
      }
  }
`;Ce`
fragment fragServicioProyecto on ServicioProyecto{
  id
  nombre
  descripcion
  listaPeticiones{
    idBeneficiario
  }
}
`;Ce`
  fragment fragTrabajoProyecto on TrabajoDeProyecto{
    id
      nombre
      descripcion
      estadoDesarrollo
      vinculos{
        idRef
        tipo
        tipoRef
      }
      coords{
        x
        y
      }
  }
`;const Jk=Ce`
  fragment fragQuote on Quote{
    mensaje    
    infoAutor{
      id
      nombres
      apellidos
      username
    }
    fecha
  }
`,Yk=Ce`
  fragment fragInterpolacion on Interpolacion{
    tipo
    enlaceIframe
    mensaje    
  }
`;Ce`
  fragment fragRespuesta on RespuestaConversacionForo{
    id
    fecha
    mensaje
    interpolaciones{
      ...fragInterpolacion
      quote{
        ...fragQuote
        interpolaciones{
          ...fragInterpolacion
          quote{
            ...fragQuote
            interpolaciones{
              ...fragInterpolacion
              quote{
                ...fragQuote
                interpolaciones{
                  ...fragInterpolacion
                  quote{
                    ...fragQuote
                    interpolaciones{
                      ...fragInterpolacion
                      quote{
                        ...fragQuote
                        interpolaciones{
                          ...fragInterpolacion
                          quote{
                            ...fragQuote
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
    enlaceAdjunto
    infoAutor{
      id
      nombres
      apellidos
      username
    }
    archivo{
      googleDriveDirectLink
    }
  }
  ${Jk}, 
  ${Yk}
`;Ce`
  fragment fragConversacion on Conversacion{
    id
    titulo    
    estado
    acceso   
    cantidadRespuestas
    infoUltimaRespuesta{
      fecha      
    }
  }
`;const Xk=Ce`
  query ($idUsuario: ID!) {
    Usuario(idUsuario: $idUsuario) {
      ...fragMinimoPersona
    }
  }
  ${Xb}
`,Zk={name:"IconoPersonaAutonomo",apollo:{estaPersona:{query:Xk,variables(){return{idUsuario:this.idPersona}},update({Usuario:e}){return e},skip(){return!this.idPersona}}},data(){return{estaPersona:{permisos:[]},nuevoPermiso:null,mounted:!1,fotografiaEnabled:!1,basicWidthFoto:70,basicFontSizeNombre:15}},props:{idPersona:String,seleccionado:Boolean,menuContextual:Boolean,factorEscala:{type:String,default:"1"},opcionesMenuCx:{type:Array}},computed:{soyYo(){return this.mounted&&this.idPersona&&this.usuario?this.usuario.id==this.idPersona:!1},offsetFoto(){return{width:this.basicWidthFoto*this.factor+"px",height:this.basicWidthFoto*this.factor+"px"}},offsetIcono(){return{width:this.basicWidthFoto*this.factor+"px"}},factor(){return Number(this.factorEscala)}},methods:{addPermisos(){console.log(`enviando ${this.nuevoPermiso} para el usuario con id ${this.idPersona}`),this.$apollo.mutate({mutation:Ce`
            mutation ($nuevoPermiso: String!, $idUsuario: ID!) {
              addPermisoUsuario(
                nuevoPermiso: $nuevoPermiso
                idUsuario: $idUsuario
              ) {
                id
                permisos
              }
            }
          `,variables:{nuevoPermiso:this.nuevoPermiso,idUsuario:this.idPersona}}).then(()=>{}).catch(e=>{console.log("error: "+e)})},copiarId(e){let t=e.target.innerText.trim();const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},fotografiaCargada(){console.log("Fotografía cargada")}},mounted(){this.mounted=!0},beforeRouteUpdate(){console.log("Before update")}},eO=e=>(Ge("data-v-5216bb88"),e=e(),Ke(),e),tO=["src"],oO={id:"contenedorAlertas"},rO=eO(()=>v("br",null,null,-1)),iO={id:"menuCxPersona"},nO={key:0,class:"botonMenuCx"},sO=["onClick"];function aO(e,t,o,i,r,n){var s;return(s=r.estaPersona)!=null&&s.id?(H(),Y("div",{key:0,class:de(["iconoPersonaAutonomo",{yo:n.soyYo}]),style:Re([n.offsetIcono])},[U(v("img",{class:"fotografia",src:this.serverUrl+"/api/usuarios/fotografias/"+o.idPersona,style:Re([n.offsetFoto]),onLoad:t[0]||(t[0]=a=>r.fotografiaEnabled=!0),alt:"Usuario"},null,44,tO),[[K,r.fotografiaEnabled]]),v("div",oO,[Od(e.$slots,"alertas",{},void 0,!0)]),v("div",{class:de(["nombres",{nombreSeleccionado:o.seleccionado}]),style:Re([{fontSize:r.basicFontSizeNombre*n.factor+"px"}])},[$e(ve(r.estaPersona.nombres)+" ",1),rO,v("b",null,ve(r.estaPersona.titulo),1)],6),U(v("div",iO,[v("div",{class:"botonMenuCx",onClick:t[1]||(t[1]=Ae((...a)=>n.copiarId&&n.copiarId(...a),["stop"]))},ve(o.idPersona),1),e.usuarioSuperadministrador?(H(),Y("div",nO,ve(r.estaPersona.username),1)):he("",!0),e.usuarioSuperadministrador?U((H(),Y("input",{key:1,type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>r.nuevoPermiso=a),placeholder:"Nuevo permiso"},null,512)),[[je,r.nuevoPermiso]]):he("",!0),e.usuarioSuperadministrador?(H(),Y("div",{key:2,class:"botonMenuCx",onClick:t[3]||(t[3]=Ae((...a)=>n.addPermisos&&n.addPermisos(...a),["stop"]))},"Dar permiso")):he("",!0),(H(!0),Y(Me,null,Ve(o.opcionesMenuCx,(a,l)=>(H(),Y("div",{class:"botonMenuCx",key:l,onClick:c=>e.$emit(a.evento)},ve(a.textoVisible),9,sO))),128))],512),[[K,o.menuContextual]])],6)):he("",!0)}const Zi=Le(Zk,[["render",aO],["__scopeId","data-v-5216bb88"]]),lO="/caracol/assets/lightbulb-c35fefca.svg",cO="/caracol/assets/readme-6fab676e.svg",Zb="/caracol/assets/teacher-09fe7473.svg",uO="/caracol/assets/comments-73835909.svg",e0="/caracol/assets/chevron-96483fd8.svg",en="/caracol/assets/save-cb166dd5.svg",t0="/caracol/assets/step-2d9a0f88.svg",dO="/caracol/assets/mas-f020d2eb.svg",fO="/caracol/assets/handshake-4991aa21.svg",hO="/caracol/assets/minus-0a59d746.svg",ho=Pe`
  query ($idNodo: ID!) {
    nodo(idNodo: $idNodo) {
      nombre
      id
      descripcion
      clases {
        id
        nombre
        idExperto
        descripcion
        interesados
      }
      keywords
      expertos
      posiblesExpertos
      clases {
        id
      }
      idForoPublico
      idForoExpertos
      secciones {
        id
        nombre
        modo
        enlace
        archivos {
          nombre
          primario
        }
        tipoPrimario
      }
      vinculos {
        idRef
        rol
        tipo
      }
    }
  }
`,pO={components:{SeccionNodoConocimiento:Qk,Loading:ut,IconoPersonaAutonomo:Zi},name:"VisorNodoConocimiento",apollo:{esteNodo:{query:ho,variables(){return{idNodo:this.idNodo}},update({nodo:e}){return document.title=e.nombre,e},skip(){return!this.idNodo}}},data(){return{esteNodo:{expertos:[],posiblesExpertos:[]},steppingSeccion:null,mostrandoBotonesSeccion:null,mostrandoContenido:"estudiar",idSeccionVisible:null,mostrandoMenuSecciones:!1,creandoNuevaSeccion:!1,idExpertoSeleccionado:null,enviandoQueryExpertos:!1,editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:null,editandoDescripcion:!1}},methods:{stepSeccionVisible(e){var o;if(!((o=this.esteNodo)!=null&&o.secciones))return;let t=this.indexSeccionSeleccionada!=null?this.indexSeccionSeleccionada+e:0;if(console.log(`Pasando a la sección ${t}`),!(t>=this.esteNodo.secciones.length)){if(t<0){this.idSeccionVisible=null;return}this.idSeccionVisible=this.esteNodo.secciones[t].id}},cambiarIndexSeccion(e,t){if(!this.usuarioExperto&&!this.usuarioAdministrador){console.log("No autorizado");return}let o=this.esteNodo.secciones.findIndex(i=>i.id===e);if(o<0){console.log("Sección no encontrada");return}(o===0||o===this.esteNodo.secciones.length-1)&&console.log("Estaba en el borde"),this.steppingSeccion=e,this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: ID!, $idSeccion: ID!, $step: Int!) {
              moverSeccionNodoConocimiento(
                idNodo: $idNodo
                idSeccion: $idSeccion
                movimiento: $step
              ) {
                id
                secciones {
                  id
                }
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idSeccion:e,step:t}}).then(()=>{this.steppingSeccion=null}).catch(i=>{this.steppingSeccion=null,console.log("Error steping sección: "+i)})},deleteArchivoSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:ho,variables:{idNodo:this.esteNodo.id}});var r=JSON.parse(JSON.stringify(i)),n=r.nodo.secciones.find(a=>a.id==t);if(!n){console.log("Seccion no encontrada");return}var s=n.archivos.findIndex(a=>a.nombre===e);s>-1?(n.archivos.splice(s,1),o.writeQuery({query:ho,variables:{idNodo:this.esteNodo.id},data:r})):console.log("Archivo no encontrado")},addArchivoSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:ho,variables:{idNodo:this.esteNodo.id}});var r=JSON.parse(JSON.stringify(i)),n=r.nodo.secciones.find(s=>s.id==t);n.archivos.push(e),o.writeQuery({query:ho,variables:{idNodo:this.esteNodo.id},data:r})},eliminarSeccion(e){if(!this.usuarioExperto&&!this.usuarioSuperadministrador||!confirm("Eliminando esta sección con todos sus contenidos. ¿Continuar?"))return;console.log(`Enviando mutación de eliminar seccion ${e}`);const t=this;this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: ID!, $idSeccion: ID!) {
              eliminarSeccionNodoConocimiento(
                idNodo: $idNodo
                idSeccion: $idSeccion
              )
            }
          `,variables:{idNodo:this.esteNodo.id,idSeccion:e}}).then(({data:{eliminarSeccionNodoConocimiento:o}})=>{if(console.log(`resultado: ${o}`),o){let r=t.$apollo.provider.defaultClient;const n=r.readQuery({query:ho,variables:{idNodo:t.esteNodo.id}});var i=JSON.parse(JSON.stringify(n));const s=i.nodo.secciones.findIndex(a=>a.id==e);s>-1?(i.nodo.secciones.splice(s,1),r.writeQuery({query:ho,variables:{idNodo:t.esteNodo.id},data:i})):console.log("Seccion no encontrada")}}).catch(o=>{console.log(`Error: E: ${o}`)})},crearNuevaSeccion(){if(!this.usuarioExperto&&!this.usuarioSuperadministrador)return;this.creandoNuevaSeccion=!0;const e=this;this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: ID!) {
              crearNuevaSeccionNodoConocimiento(idNodo: $idNodo) {
                id
                nombre
                modo
                archivos {
                  nombre
                  primario
                }
                enlace
                tipoPrimario
              }
            }
          `,variables:{idNodo:this.esteNodo.id}}).then(({data:{crearNuevaSeccionNodoConocimiento:t}})=>{let o=e.$apollo.provider.defaultClient;const i=o.readQuery({query:ho,variables:{idNodo:e.esteNodo.id}});var r=JSON.parse(JSON.stringify(i));r.nodo.secciones.push(t),o.writeQuery({query:ho,variables:{idNodo:e.esteNodo.id},data:r}),this.creandoNuevaSeccion=!1}).catch(t=>{console.log(`Error. E: ${t}`),this.creandoNuevaSeccion=!1})},setPrimarioSeccionCache(e,t){const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:ho,variables:{idNodo:this.esteNodo.id}});var r=JSON.parse(JSON.stringify(i)),n=r.nodo.secciones.find(a=>a.id==t);if(!n){console.log("Seccion no encontrada");return}var s=n.archivos.findIndex(a=>a.nombre===e);n.archivos.forEach(a=>a.primario=!1),n.archivos[s].primario=!0,o.writeQuery({query:ho,variables:{idNodo:this.esteNodo.id},data:r})},intentarEntrarExpertos(e){console.log(`enviando id ${this.usuario.id} para entrar a expertos del nodo con id ${this.esteNodo.id}`),this.enviandoQueryExpertos=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: ID!, $idUsuario: ID!) {
              addExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {
                id
                expertos
                posiblesExpertos
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idUsuario:e}}).then(()=>{this.enviandoQueryExpertos=!1}).catch(t=>{this.enviandoQueryExpertos=!1,console.log("error: "+t)})},abandonarListaExpertos(e){console.log("Abandonando la responsabilidad en este nodo"),!(!this.usuarioExperto&&!this.esteNodo.posiblesExpertos.includes(this.usuario.id))&&(this.enviandoQueryExpertos=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: ID!, $idUsuario: ID!) {
              removeExpertoNodo(idNodo: $idNodo, idUsuario: $idUsuario) {
                id
                expertos
                posiblesExpertos
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idUsuario:e}}).then(()=>{this.enviandoQueryExpertos=!1}).catch(t=>{this.enviandoQueryExpertos=!1,console.log("error: "+t)}))},iniciarEdicionNombre(){!this.usuarioExperto&&!this.usuarioAdministradorAtlas&&!this.usuarioSuperadministrador||(this.$refs.inputNuevoNombre.value=this.esteNodo.nombre,this.editandoNombre=!0)},guardarNuevoNombre(){var e=this.$refs.inputNuevoNombre.value.trim();if(e==this.esteNodo.nombre){this.editandoNombre=!1;return}if(!(e.length<1)){if(sl.test(e)){console.log("Caracteres ilegales");return}this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: ID!, $nuevoNombre: String!) {
              editarNombreNodo(idNodo: $idNodo, nuevoNombre: $nuevoNombre) {
                modificados {
                  id
                  nombre
                }
              }
            }
          `,variables:{idNodo:this.esteNodo.id,nuevoNombre:e}}).then(t=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(t=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${t}`)})}},toggleEditandoDescripcion(){!this.usuarioExperto&&!this.usuarioSuperadministrador&&!this.usuarioAdministradorAtlas||(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteNodo.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},guardarNuevoDescripcion(){var e=this.$refs.inputNuevoDescripcion.value;if(e==this.esteNodo.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idNodo: ID!, $nuevoDescripcion: String!) {
              editarDescripcionNodoConocimiento(
                idNodo: $idNodo
                nuevoDescripcion: $nuevoDescripcion
              ) {
                id
                descripcion
              }
            }
          `,variables:{idNodo:this.esteNodo.id,nuevoDescripcion:e}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(t=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${t}`)})}},computed:{idNodo(){var e,t;return(t=(e=this.$route)==null?void 0:e.params)==null?void 0:t.idNodo},nombreSiguienteSeccion(){let e=0;return this.indexSeccionSeleccionada!=null&&(e=this.indexSeccionSeleccionada+1),console.log("Index siguiente: "+e),this.esteNodo.secciones[e]?(console.log(this.esteNodo.secciones[e].nombre),this.esteNodo.secciones[e].nombre):null},nombreAnteriorSeccion(){if(this.indexSeccionSeleccionada==null)return null;if(this.indexSeccionSeleccionada===0)return"Descripción";let e=this.indexSeccionSeleccionada-1;return console.log("Index anterior: "+e),this.esteNodo.secciones[e]?(console.log(this.esteNodo.secciones[e].nombre),this.esteNodo.secciones[e].nombre):null},indexSeccionSeleccionada(){return this.seccionSeleccionada?this.esteNodo.secciones.findIndex(e=>e.id===this.idSeccionVisible):null},seccionSeleccionada(){return this.idSeccionVisible?this.esteNodo.secciones.find(e=>e.id===this.idSeccionVisible):null},usuarioExperto:function(){return!this.esteNodo.expertos||!this.usuarioLogeado?!1:!!this.esteNodo.expertos.includes(this.usuario.id)},usuarioAdministradorAtlas:function(){return this.usuario.permisos?!!this.usuario.permisos.includes("atlasAdminstrador"):!1},infoAsParent(){return{id:this.esteNodo.id,tipo:"nodoConocimiento",nombre:this.esteNodo.nombre}}},watch:{mostrandoMenuSecciones(e){e||(this.mostrandoBotonesSeccion=null)},elNodo(e){if(e){let t=e.nombre;t.length>20&&(t=t.slice(0,20)+"...")}},indexSeccionSeleccionada(){console.log("Cambio de sección"),this.$refs.zonaTituloSeccion.scrollIntoView({behavior:"smooth"})}}},Xt=e=>(Ge("data-v-df085325"),e=e(),Ke(),e),mO={class:"visorNodoConocimiento"},vO={id:"zonaTitulo"},gO=Xt(()=>v("div",{id:"iconoNodo"},[v("img",{src:lO,alt:"Idea"})],-1)),yO={id:"zonaNombre"},bO={id:"zonaSelectoresContenido"},wO=["title"],EO=Xt(()=>v("img",{src:cO,alt:"Readme"},null,-1)),_O=[EO],SO=["title"],AO=Xt(()=>v("img",{src:Zb,alt:"Teacher"},null,-1)),NO=[AO],CO=["title"],TO=Xt(()=>v("img",{src:uO,alt:"Readme"},null,-1)),xO=[TO],IO={id:"zonaContenidos"},DO={id:"zonaSecciones"},PO={id:"zonaTituloSeccion",ref:"zonaTituloSeccion"},kO={key:0,class:"iconoMenuSecciones",src:Vy,alt:"Menu"},OO={class:"nombreSeccionSelector"},RO={key:0,class:"bolita"},MO=["onClick"],FO={class:"nombreSeccionSelector"},BO={key:0,class:"bolita"},LO=["onClick"],$O=Xt(()=>v("img",{style:{transform:"rotate(90deg)"},src:e0,alt:"arrow"},null,-1)),UO=[$O],qO=["onClick"],jO=Xt(()=>v("img",{style:{transform:"rotate(-90deg)"},src:e0,alt:"arrow"},null,-1)),zO=[jO],VO=["onClick"],HO=Xt(()=>v("img",{src:Nr,alt:"Eliminar"},null,-1)),WO=[HO],QO=["onClick"],GO=Xt(()=>v("img",{src:Yi,alt:"Opciones"},null,-1)),KO=[GO],JO={src:Ji,alt:"Plus"},YO=Xt(()=>v("span",null,"Crear sección",-1)),XO={id:"zonaDescripcion"},ZO={class:"contenedorBotonesCampo"},eR={key:1,id:"contenedorSteppersSeccion"},tR=Xt(()=>v("img",{src:t0,style:{transform:"rotate(180deg)"},alt:"step"},null,-1)),oR=Xt(()=>v("img",{src:t0,alt:"step"},null,-1)),rR={id:"zonaExpertos"},iR={class:"contenedorControles"},nR=["title"],sR=Xt(()=>v("img",{src:dO,alt:"Mas"},null,-1)),aR=[sR],lR=Xt(()=>v("img",{src:fO,alt:"Handshake"},null,-1)),cR=[lR],uR=Xt(()=>v("img",{src:hO,alt:"Menos"},null,-1)),dR=[uR],fR={id:"zonaForos",ref:"zonaForos"},hR={key:0,class:"nombreForo"};function pR(e,t,o,i,r,n){var c,u,d,p;const s=Te("loading"),a=Te("seccion-nodo-conocimiento"),l=Te("icono-persona-autonomo");return H(),Y("div",mO,[U(Se(s,{texto:""},null,512),[[K,e.$apollo.queries.esteNodo.loading]]),U(v("div",vO,[gO,v("div",yO,[U(v("div",{id:"nombre",onClick:t[0]||(t[0]=(...f)=>n.iniciarEdicionNombre&&n.iniciarEdicionNombre(...f))},ve(r.esteNodo.nombre),513),[[K,!r.editandoNombre]]),U(v("input",{onKeypress:t[1]||(t[1]=pt(Ae((...f)=>n.guardarNuevoNombre&&n.guardarNuevoNombre(...f),["prevent"]),["enter"])),ref:"inputNuevoNombre",style:{width:"250px"},onBlur:t[2]||(t[2]=(...f)=>n.guardarNuevoNombre&&n.guardarNuevoNombre(...f)),type:"text",class:"inputNombreCosa",id:"inputNuevoNombre"},null,544),[[K,r.editandoNombre]])])],512),[[K,!e.$apollo.queries.esteNodo.loading]]),U(v("div",bO,[v("div",{class:de(["boton selectorContenido selector",{activo:r.mostrandoContenido==="estudiar"}]),title:r.mostrandoContenido!="estudiar"?"Mostrar contenido":"",onClick:t[3]||(t[3]=f=>r.mostrandoContenido="estudiar")},_O,10,wO),v("div",{class:de(["boton selectorContenido selector",{activo:r.mostrandoContenido==="expertos"}]),title:r.mostrandoContenido!="expertos"?"Mostrar expertos":"",onClick:t[4]||(t[4]=f=>r.mostrandoContenido="expertos")},NO,10,SO),v("div",{class:de(["boton selectorContenido selector deshabilitado",{activo:r.mostrandoContenido==="foros"}]),title:r.mostrandoContenido!="foros"?"Mostrar foros":"",onClick:t[5]||(t[5]=f=>r.mostrandoContenido="foros")},xO,10,CO)],512),[[K,!e.$apollo.queries.esteNodo.loading]]),U(v("div",IO,[U(v("div",DO,[U(v("div",PO,[v("div",{id:"nombreSeccionSeleccionada",onClick:t[6]||(t[6]=f=>r.mostrandoMenuSecciones=!0)},[((u=(c=r.esteNodo)==null?void 0:c.secciones)==null?void 0:u.length)>0?(H(),Y("img",kO)):he("",!0),$e(" "+ve(n.seccionSeleccionada?n.seccionSeleccionada.nombre:"Descripción"),1)])],512),[[K,!r.mostrandoMenuSecciones]]),U(v("div",{id:"contenedorSelectoresSeccion",onClick:t[10]||(t[10]=f=>r.mostrandoMenuSecciones=!1)},[v("div",{class:"selectorSeccion",onClick:t[7]||(t[7]=f=>r.idSeccionVisible=null)},[v("div",OO,[r.idSeccionVisible?he("",!0):(H(),Y("div",RO)),$e(" Descripcion ")])]),(H(!0),Y(Me,null,Ve(r.esteNodo.secciones,(f,g)=>(H(),Y("div",{class:de(["selectorSeccion",{activa:r.idSeccionVisible===f.id}]),onClick:y=>r.idSeccionVisible=f.id,key:f.id},[v("div",FO,[r.idSeccionVisible===f.id?(H(),Y("div",BO)):he("",!0),$e(" "+ve(f.nombre),1)]),n.usuarioExperto||e.usuarioSuperadministrador?U((H(),Y("div",{key:0,class:"contenedorBotonesSelectorSeccion",onClick:t[8]||(t[8]=Ae(()=>{},["stop"]))},[U(v("div",{class:"boton",onClick:y=>n.cambiarIndexSeccion(f.id,-1)},UO,8,LO),[[K,r.steppingSeccion!=f.id&&g>0]]),U(Se(s,null,null,512),[[K,r.steppingSeccion===f.id]]),U(v("div",{class:"boton",onClick:y=>n.cambiarIndexSeccion(f.id,1)},zO,8,qO),[[K,r.steppingSeccion!=f.id&&g<r.esteNodo.secciones.length-1]]),U(v("div",{class:"boton",title:"Eliminar",onClick:Ae(y=>n.eliminarSeccion(f.id),["stop"])},WO,8,VO),[[K,n.usuarioExperto||e.usuarioSuperadministrador]])],512)),[[K,r.mostrandoBotonesSeccion===f.id]]):he("",!0),n.usuarioExperto||e.usuarioSuperadministrador?(H(),Y("div",{key:1,class:"boton botonMostrarBotonesSeccion",onClick:Ae(y=>r.mostrandoBotonesSeccion=r.mostrandoBotonesSeccion===f.id?null:f.id,["stop"])},KO,8,QO)):he("",!0)],10,MO))),128)),n.usuarioExperto?(H(),Y("div",{key:0,class:"selectorSeccion botonTexto",onClick:t[9]||(t[9]=Ae((...f)=>n.crearNuevaSeccion&&n.crearNuevaSeccion(...f),["stop"]))},[U(Se(s,null,null,512),[[K,r.creandoNuevaSeccion]]),U(v("img",JO,null,512),[[K,!r.creandoNuevaSeccion]]),YO])):he("",!0)],512),[[K,r.mostrandoMenuSecciones]]),U(v("div",XO,[U(v("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[11]||(t[11]=(...f)=>n.toggleEditandoDescripcion&&n.toggleEditandoDescripcion(...f))},ve(r.esteNodo.descripcion),513),[[K,!r.editandoDescripcion]]),U(v("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:"inputTextoNodo","onUpdate:modelValue":t[12]||(t[12]=f=>r.nuevoDescripcion=f)},null,512),[[je,r.nuevoDescripcion],[K,r.editandoDescripcion]]),U(v("div",ZO,[v("img",{src:en,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[13]||(t[13]=(...f)=>n.guardarNuevoDescripcion&&n.guardarNuevoDescripcion(...f))}),v("img",{src:Rt,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[14]||(t[14]=f=>r.editandoDescripcion=!1)})],512),[[K,r.editandoDescripcion]])],512),[[K,!n.seccionSeleccionada&&!r.mostrandoMenuSecciones]]),r.esteNodo.id&&n.seccionSeleccionada?U((H(),qe(a,{key:n.seccionSeleccionada.id,idNodo:r.esteNodo.id,estaSeccion:n.seccionSeleccionada,usuarioExperto:n.usuarioExperto,onSubiArchivo:t[15]||(t[15]=f=>n.addArchivoSeccionCache(f,n.seccionSeleccionada.id)),onArchivoEliminado:t[16]||(t[16]=f=>n.deleteArchivoSeccionCache(f,n.seccionSeleccionada.id)),onTengoNuevoPrimario:t[17]||(t[17]=f=>n.setPrimarioSeccionCache(f,n.seccionSeleccionada.id))},null,8,["idNodo","estaSeccion","usuarioExperto"])),[[K,n.seccionSeleccionada&&!r.mostrandoMenuSecciones]]):he("",!0),((p=(d=r.esteNodo)==null?void 0:d.secciones)==null?void 0:p.length)>0?U((H(),Y("div",eR,[v("div",{class:de(["stepperSeccion botonTexto",{deshabilitado:!n.seccionSeleccionada}]),onClick:t[18]||(t[18]=f=>n.stepSeccionVisible(-1))},[tR,$e(" "+ve(n.nombreAnteriorSeccion),1)],2),v("div",{class:de(["stepperSeccion botonTexto",{deshabilitado:n.indexSeccionSeleccionada!=null&&n.indexSeccionSeleccionada>=r.esteNodo.secciones.length-1}]),onClick:t[19]||(t[19]=f=>n.stepSeccionVisible(1))},[oR,$e(" "+ve(n.nombreSiguienteSeccion),1)],2)],512)),[[K,!r.mostrandoMenuSecciones]]):he("",!0)],512),[[K,r.mostrandoContenido==="estudiar"]]),U(v("div",rR,[v("div",iR,[U(v("div",{class:"boton",title:r.esteNodo.expertos.length<1?"Asumir":"Quiero aportar como experto en este tema",onClick:t[20]||(t[20]=f=>n.intentarEntrarExpertos(e.usuario.id))},aR,8,nR),[[K,!r.enviandoQueryExpertos&&!r.idExpertoSeleccionado&&!n.usuarioExperto]]),U(v("div",{class:"boton",title:"Aceptar como experto",onClick:t[21]||(t[21]=f=>n.intentarEntrarExpertos(r.idExpertoSeleccionado))},cR,512),[[K,!r.enviandoQueryExpertos&&r.idExpertoSeleccionado&&(r.esteNodo.posiblesExpertos.includes(r.idExpertoSeleccionado)&&n.usuarioExperto||e.usuarioSuperadministrador||n.usuarioAdministradorAtlas)]]),U(v("div",{class:"boton",title:"abandonar",onClick:t[22]||(t[22]=f=>n.abandonarListaExpertos(e.usuario.id))},dR,512),[[K,!r.enviandoQueryExpertos&&!r.idExpertoSeleccionado&&(n.usuarioExperto||r.esteNodo.posiblesExpertos.includes(r.idExpertoSeleccionado))]]),U(Se(s,{texto:""},null,512),[[K,r.enviandoQueryExpertos]])]),v("div",{id:"listaExpertos",class:"listaPersonas",onClick:t[23]||(t[23]=Ae(f=>r.idExpertoSeleccionado=null,["self"]))},[(H(!0),Y(Me,null,Ve(r.esteNodo.expertos.concat(r.esteNodo.posiblesExpertos),f=>(H(),qe(l,{texto:"",seleccionado:r.idExpertoSeleccionado===f,key:f,factorEscala:"0.8",style:Re({opacity:r.esteNodo.posiblesExpertos.includes(f)?.5:1}),idPersona:f,onClick:g=>r.idExpertoSeleccionado=f},null,8,["seleccionado","style","idPersona","onClick"]))),128))])],512),[[K,r.mostrandoContenido==="expertos"]]),U(v("div",fR,[n.usuarioExperto?(H(),Y("div",hR,"Foro expertos")):he("",!0)],512),[[K,r.mostrandoContenido=="foros"]])],512),[[K,!e.$apollo.queries.esteNodo.loading]])])}const nd=Le(pO,[["render",pR],["__scopeId","data-v-df085325"]]),mR={name:"DiagramaArbol",components:{NodoConocimientoVistaArbol:xb,ControlesNodo:Tb,VisorNodoConocimiento:nd},props:{visible:{type:Boolean,default:!0},idsRoot:{type:Array,default:[]},idsRed:{type:Array,default:[]},idNodoSeleccionado:{type:String}},apollo:{yo:{query:bo,fetchPolicy:"cache-first",skip(){var e;return!((e=this.usuario)!=null&&e.id)}},nodoSeleccionado:{query:df,variables(){return{idNodo:this.idNodoSeleccionado}},update({nodo:e}){return e},skip(){return!this.idNodoSeleccionado},fetchPolicy:"cache-first"}},data(){return{idNodoVisor:null,yo:{atlas:{datosNodos:[]}},refreshLineaHorizontal:0}},computed:{idNodoTarget(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)==null?void 0:t.idNodoTarget},nodoTargetRelevante(){return this.idNodoTarget&&this.idsRed.includes(this.idNodoTarget)},nodoSeleccionadoNullificable(){var e,t,o;return(o=(t=(e=this.$apollo)==null?void 0:e.queries)==null?void 0:t.nodoSeleccionado)!=null&&o.skip?null:this.nodoSeleccionado}},methods:{clickFondo(){this.$emit("seleccionNodo",null)},clickEnNodo(e){this.$emit("seleccionNodo",{idNodo:e})},scrollNodoIntoView({elem:e,xCentro:t}){this.$nextTick(()=>{let o=e.$el.getBoundingClientRect(),i=o.left+o.width/2;this.$refs.elDiagrama.scrollLeft+=i-t})}}},vR={id:"elDiagrama",ref:"elDiagrama"};function gR(e,t,o,i,r,n){const s=Te("nodo-conocimiento-vista-arbol"),a=Te("visor-nodo-conocimiento");return H(),Y("div",{class:"diagramaArbol",onClick:t[0]||(t[0]=(...l)=>n.clickFondo&&n.clickFondo(...l))},[v("div",vR,[(H(!0),Y(Me,null,Ve(o.idsRoot,l=>(H(),qe(s,{key:l,idNodo:l,idNodoSeleccionado:o.idNodoSeleccionado,nivelArbol:0,refreshLineaHorizontal:r.refreshLineaHorizontal,onScrollMe:n.scrollNodoIntoView,onClickEnNodo:n.clickEnNodo},null,8,["idNodo","idNodoSeleccionado","refreshLineaHorizontal","onScrollMe","onClickEnNodo"]))),128))],512),r.idNodoVisor?(H(),qe(a,{key:0,idNodo:r.idNodoVisor},null,8,["idNodo"])):he("",!0)])}const Sf=Le(mR,[["render",gR],["__scopeId","data-v-3414c102"]]);let yR=/[^ a-zA-ZÀ-ž0-9_():.,-]/;const bR=function(e){return!yR.test(e)},al="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAqFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAs30iGAAAAN3RSTlMA/ID3Cw8F6qwT8jmmfUZAMR8Y3dGSG+/ZsJ2Gb10H5sO+u7ZnSqF1V8iZjGBrW1Iu4MyCKOxPW1J8IAAAAv9JREFUSMftltmWqjAQRUmQGUREZbgtIOI8D931/392ISl6oYLNYvVjnyfLYlNJqJxE+NPv6cv0ffOrG7t2IZe77sJqM2BKtQ6woXNYNzrAfZHDYr8t0ZN6AmqgcFgZVJPNGlqzTZBhEG05PJbxjyzYpKthEztZQi5CMbybJI/MO4aUFNmwibaAySsnKY0J2UkYnHAJVg3znQHXPwH1ASQTUDtMzuvnrV0xb8rfMHzgT3mJyaQejtTHygij/lXeXKc9Titk+eg8DQDm+zMr1cPK4lRoEMWmovnDezUmbPHjYC8JMhb2qNCoxc68jQu6r+ak52+uvpfz6uJWfPDV9va+2+S8ftFWABtqT3rSxLY2LARaJH/WraCpU4aOFTO2nRYKuA/rMvUhbrk9JBVizjqG4XA6BrPXCp6KOMbVSNdHvB0piMc3vmH0B3LZKxtW7wCFyIGN4Qompgd9Y/jkV6kuKttz8fMcA63a0EzjpS93tsu3n6Kerh9cw4dCavHckeg2ewmaQcxeaeukIDTewn51+UJgIuPs8BGAO3n1MMeFrW0YFgGmbQUeAdIsN9JeYW0ERNR1EbhGLzAK4XvMo4uD8MMjr8OGJaV0jsOW0urun7gwUlUV/4Ow2lN8wYKi5Jp4Nu5mpoOAC7aXZXkYQCF38fCpZqLohQO0XMo//ZwVltDfFJ4NPVGcrZ9c114YEbcyFa68KU3mHNxYN6Dy/oyMhT38sT0nq0/m+asJb899242hHLUsAdQsk44KqFLrLXlJCHyLJBdQFkI7UagRbc9+PpJeGxuyrbE1Lpz7K6gOOzjtCgO03hqgpaDrR4KWBQrnvXmmCdIOh2A1fyPsPW7zg/28WGqDRdIPph+ZNccNfT5u1Kj+lExqDjr6fNBdtXo4xfyuWrnlEVse7uLp+3AHCFse7uW1opyyE5I8WjrlpAmbUvOlhCZ+epBxluPHC418SP3Ect5tiqHUcJXCZPdLXHvZJWx3gIf42ZOh0EFHlznvUeikk+q66kn406/pP19rpKSAcXvNAAAAAElFTkSuQmCC",wR={name:"GestorColecciones",components:{PieProgreso:us,Loading:ut,NodoConocimientoVistaArbol:xb,DiagramaArbol:Sf},props:{opcionNull:{type:String},conectandoNodosColeccion:{type:Boolean}},apollo:{coleccionSeleccionada:{query:Pe`
        query ($idColeccion: ID!, $idUsuario: ID!) {
          coleccionNodosConocimiento(
            idColeccion: $idColeccion
            idUsuario: $idUsuario
          ) {
            id
            nombre
            progreso
            idsNodos
            idsRed
          }
        }
      `,variables(){var e;return{idColeccion:this.idColeccionSeleccionada,idUsuario:(e=this.usuario)==null?void 0:e.id}},update({coleccionNodosConocimiento:e}){return e},skip(){return!this.idColeccionSeleccionada},fetchPolicy:"cache-and-network"},yo:{query:bo,fetchPolicy:"cache-first",skip(){var e;return!((e=this.usuario)!=null&&e.id)}}},data(){return{yo:{atlas:{colecciones:[],datosNodo:[]}},editandoColeccion:!1,guardandoNuevoNombreColeccion:!1,eliminandoColeccion:!1,preparandoNuevaColeccion:!1,creandoNuevaColeccion:!1,anchoContenedorArbol:null,refreshLineaHorizontal:0,coleccionSeleccionada:{idsNodos:[],idsRed:[]},desplegandoLista:!1,idColeccionSeleccionada:null,mostrandoOpcionesColeccion:!1}},computed:{mostrandoArbol(){return this.$route.name==="coleccionNodosConocimiento"},nodoTargetRelevante(){var e;return this.idNodoTarget&&((e=this.coleccionSeleccionadaNullificable)==null?void 0:e.idsRed.includes(this.idNodoTarget))},estiloZonaTitulo(){let e="fit-content";return this.mostrandoArbol&&(e="100%"),{width:e}},estiloIconoProgresoUsuario(){let e="50%",t=this.anchoContenedorArbol;return t&&(e=t/2+"px"),{left:e}},coleccionSeleccionadaNullificable(){return this.idColeccionSeleccionada?this.coleccionSeleccionada:null}},methods:{iniciarEdicionNombreColeccion(){this.coleccionSeleccionadaNullificable||console.log("Error tratando de editar nombre de colección mientras no había colección seleccionada"),this.editandoColeccion=!0,this.inputNombreEditarColeccion=this.coleccionSeleccionadaNullificable.nombre},guardarNuevoNombreColeccion(){if(!this.coleccionSeleccionadaNullificable){console.log("Error: Tratando de guardar un nuevo nombre de colección pero no hay colección seleccionada");return}let e=this.$refs.inputNuevoNombreColeccion.value;if(!e){console.log("Se debe introducir un nombre"),this.raiseAccion("Debes escribir un nombre");return}if(e=e.trim(),!bR()){console.log("Nombre no válido");return}if(e===this.coleccionSeleccionadaNullificable.nombre){this.raiseAccion("El nombre no ha sido modificado");return}let t=this.coleccionSeleccionadaNullificable.id;this.guardandoNuevoNombreColeccion=!0,this.mostrandoOpcionesColeccion=!1,console.log("Se guardará la colección con nuevo nombre: "+e),this.enviandoOperacion=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($nuevoNombre: String!, $idColeccion: ID!) {
              setNombreColeccionNodosAtlasConocimientoUsuario(
                nuevoNombre: $nuevoNombre
                idColeccion: $idColeccion
              ) {
                id
                nombre
              }
            }
          `,variables:{nuevoNombre:e,idColeccion:t}}).then(()=>{this.guardandoNuevoNombreColeccion=!1,this.editandoColeccion=!1,this.raiseAccion("Nombre de colección guardado"),this.$apollo.queries.coleccionSeleccionada.refetch()}).catch(o=>{console.log("Error: "+o),this.guardandoNuevoNombreColeccion==!1})},eliminarColeccion(){if(console.log("Eliminando colección seleccionada"),!this.coleccionSeleccionadaNullificable||!confirm("¿Confirmar la eliminación de la colección? (Esta acción no puede deshacerse)"))return;let e=this.coleccionSeleccionadaNullificable.id;console.log("con id "+e),this.eliminandoColeccion=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idColeccion: ID!) {
              eliminarColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
              )
            }
          `,variables:{idColeccion:e}}).then(()=>{const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:Pe`
              query {
                yo {
                  atlas {
                    colecciones {
                      ...fragColecciones
                    }
                  }
                }
              }
              ${mi}
            `});let i=JSON.parse(JSON.stringify(o)),r=i.yo.atlas.colecciones.findIndex(n=>n.id===e);if(r<0){console.log("La colección no estaba en el caché");return}if(i.yo.atlas.colecciones.splice(r,1),i.yo.atlas.colecciones.length<1)this.idColeccionSeleccionada=null;else{let n=r-1;n<0&&(n=i.yo.atlas.colecciones.length-1),this.idColeccionSeleccionada=i.yo.atlas.colecciones[n].id}t.writeQuery({query:Pe`
              query {
                yo {
                  atlas {
                    colecciones {
                      ...fragColecciones
                    }
                  }
                }
              }
              ${mi}
            `,data:i}),this.eliminandoColeccion=!1,this.mostrandoOpcionesColeccion=!1}).catch(t=>{console.log("Error: "+t),this.eliminandoColeccion=!1})},crearNuevaColeccion(){console.log("Creando nueva coleccion");let e=this.$refs.inputNombreNuevaColeccion.value.trim();if(console.log(`Con nombre ${e}`),!e||e.length<1){console.log("Se debe introducir un nombre");return}if(e.length>30){console.log("El nombre es demasiado largo");return}this.creandoNuevaColeccion=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($nombre: String, $idsNodos: [String]) {
              crearColeccionNodosAtlasConocimientoUsuario(
                nombre: $nombre
                idsNodos: $idsNodos
              ) {
                ...fragColecciones
              }
            }
            ${mi}
          `,variables:{nombre:e,idsNodos:[]}}).then(({data:{crearColeccionNodosAtlasConocimientoUsuario:t}})=>{this.creandoNuevaColeccion=!1,this.preparandoNuevaColeccion=!1;const o=this.$apollo.provider.defaultClient,i=o.readQuery({query:Pe`
              query {
                yo {
                  atlas {
                    colecciones {
                      ...fragColecciones
                    }
                  }
                }
              }
              ${mi}
            `});let r=JSON.parse(JSON.stringify(i));if(r.yo.atlas.colecciones.findIndex(s=>s.id===t.id)>=0){console.log("La colección ya estaba en el caché");return}r.yo.atlas.colecciones.push(t),o.writeQuery({query:Pe`
              query {
                yo {
                  atlas {
                    colecciones {
                      ...fragColecciones
                    }
                  }
                }
              }
              ${mi}
            `,data:r}),this.idColeccionSeleccionada=t.id}).catch(t=>{console.log("Error: "+t),this.creandoNuevaColeccion=!1})},iniciarCreacionColeccion(){this.preparandoNuevaColeccion=!0},clickNodo(e){this.idNodoSeleccionado=this.idNodoSeleccionado===e?null:e},setIdColeccionSeleccionada(e){this.idColeccionSeleccionada=e}},watch:{coleccionSeleccionadaNullificable:{handler:function(e){e!=null&&e.id&&console.log("cambio a coleccion "+(e==null?void 0:e.id)),this.$emit("coleccionSeleccionada",e),this.desplegandoLista=!1,e||(this.mostrandoOpcionesColeccion=!1)},immediate:!0},"$route.path":function(){this.mostrandoOpcionesColeccion=!1}},mounted(){var e,t;((t=(e=this.$route)==null?void 0:e.params)==null?void 0:t.tipoBrowse)==="browseColeccion"&&(this.idColeccionSeleccionada=this.$route.params.idBrowsed)}},ro=e=>(Ge("data-v-8ad880b6"),e=e(),Ke(),e),ER={class:"gestorColecciones"},_R={style:{"z-index":"1"}},SR={id:"listaSelectoresColeccion"},AR=ro(()=>v("img",{src:al,alt:"Coleccion",style:{height:"15px"}},null,-1)),NR=["onClick"],CR=ro(()=>v("img",{src:al,alt:"Coleccion",style:{height:"15px"}},null,-1)),TR=ro(()=>v("img",{src:Ji,alt:"Nuevo"},null,-1)),xR=ro(()=>v("span",null,"Crear colección",-1)),IR=[TR,xR],DR=ro(()=>v("img",{src:Yi,alt:"Opciones",style:{}},null,-1)),PR=[DR],kR={key:0,id:"contenedorOpciones"},OR=ro(()=>v("img",{src:el,alt:"Red"},null,-1)),RR=ro(()=>v("img",{src:hs,alt:"Conectar"},null,-1)),MR=[RR],FR=ro(()=>v("img",{src:_f,alt:"Editar"},null,-1)),BR=[FR],LR={src:Nr,alt:"Eliminar"},$R={id:"splashCrearColeccion",class:"bloqueSplash"},UR={class:"botonEquis"},qR=ro(()=>v("div",{class:"tituloSplash"},[v("img",{src:al,alt:"Coleccion"}),v("span",null,"Crear una colección")],-1)),jR=ro(()=>v("div",{class:"descripcionSplash"}," Ingresa el nombre de la nueva colección ",-1)),zR={class:"bloqueSplash",id:"splashEditarColeccion"},VR=ro(()=>v("img",{src:Rt,alt:"Salir"},null,-1)),HR=[VR],WR={class:"tituloSplash"},QR=ro(()=>v("img",{src:_f,alt:"Editar"},null,-1)),GR=ro(()=>v("div",{class:"descripcionSplash"}," Introduce un nuevo nombre para esta colección. ",-1)),KR={src:en,alt:"Guardar"};function JR(e,t,o,i,r,n){var l,c,u;const s=Te("loading"),a=Te("router-link");return H(),Y("div",ER,[U(v("div",{id:"zonaTitulo",style:Re([n.estiloZonaTitulo])},[v("div",{id:"nombreColeccion",class:de({desplegandoLista:r.desplegandoLista,mostrandoArbol:n.mostrandoArbol}),onClick:t[3]||(t[3]=Ae(d=>r.desplegandoLista=!r.desplegandoLista,["stop"]))},[U(Se(s,null,null,512),[[K,this.$apollo.queries.coleccionSeleccionada.loading]]),v("span",_R,ve(n.coleccionSeleccionadaNullificable&&r.coleccionSeleccionada.nombre||"Atlas"),1),U(v("div",SR,[o.opcionNull?U((H(),Y("div",{key:0,class:"selectorColeccion",onClick:t[0]||(t[0]=Ae(d=>n.setIdColeccionSeleccionada(null),["stop"]))},[AR,$e(" "+ve(o.opcionNull),1)],512)),[[K,r.idColeccionSeleccionada]]):he("",!0),(H(!0),Y(Me,null,Ve(r.yo.atlas.colecciones.filter(d=>r.idColeccionSeleccionada!=d.id),d=>(H(),Y("div",{class:"selectorColeccion",onClick:Ae(p=>n.setIdColeccionSeleccionada(d.id),["stop"]),key:d.id},[CR,$e(" "+ve(d.nombre),1)],8,NR))),128)),v("div",{class:"botonTexto",onClick:t[1]||(t[1]=Ae((...d)=>n.iniciarCreacionColeccion&&n.iniciarCreacionColeccion(...d),["stop"])),id:"botonCrearColeccion"},IR)],512),[[K,r.desplegandoLista]]),n.coleccionSeleccionadaNullificable?U((H(),Y("div",{key:0,class:"boton",id:"botonMostrarOpcionesColeccion",onClick:t[2]||(t[2]=Ae(d=>r.mostrandoOpcionesColeccion=!r.mostrandoOpcionesColeccion,["stop"]))},PR,512)),[[K,!r.desplegandoLista]]):he("",!0)],2)],4),[[K,!o.conectandoNodosColeccion]]),n.coleccionSeleccionadaNullificable?U((H(),Y("div",kR,[(l=r.coleccionSeleccionada)!=null&&l.id&&((c=e.$route.params)==null?void 0:c.tipoBrowse)!="browseColeccion"?(H(),qe(a,{key:0,class:"boton botonOpcion",to:{name:"atlas",params:{tipoBrowse:"browseColeccion",idBrowsed:r.coleccionSeleccionada.id}}},{default:ht(()=>[OR]),_:1},8,["to"])):he("",!0),((u=e.$route.params)==null?void 0:u.tipoBrowse)==="mapa"?U((H(),Y("div",{key:1,class:"botonOpcion botonTexto selector",id:"botonConectarNodosColeccion",onClick:t[4]||(t[4]=Ae(d=>e.$emit("setConectandoNodosColeccion",!0),["stop"]))},MR,512)),[[K,!o.conectandoNodosColeccion]]):he("",!0),v("div",{class:"botonOpcion boton",onClick:t[5]||(t[5]=Ae((...d)=>n.iniciarEdicionNombreColeccion&&n.iniciarEdicionNombreColeccion(...d),["stop"]))},BR),v("div",{class:"botonOpcion boton",onClick:t[6]||(t[6]=Ae((...d)=>n.eliminarColeccion&&n.eliminarColeccion(...d),["stop"]))},[U(Se(s,null,null,512),[[K,r.eliminandoColeccion]]),U(v("img",LR,null,512),[[K,!r.eliminandoColeccion]])])],512)),[[K,r.mostrandoOpcionesColeccion&&!o.conectandoNodosColeccion]]):he("",!0),(H(),qe(Ng,{to:"body"},[U(v("div",{class:"ventanaSplash",onClick:t[10]||(t[10]=Ae(d=>r.preparandoNuevaColeccion=!1,["self"]))},[v("div",$R,[v("div",UR,[v("img",{src:Rt,alt:"Salir",onClick:t[7]||(t[7]=Ae(d=>r.preparandoNuevaColeccion=!1,["stop"]))})]),qR,jR,v("input",{type:"text",ref:"inputNombreNuevaColeccion",onKeypress:t[8]||(t[8]=pt(d=>e.$refs.botonCrearNuevaColeccion.click(),["enter"]))},null,544),v("div",{class:"botonTexto",onClick:t[9]||(t[9]=(...d)=>n.crearNuevaColeccion&&n.crearNuevaColeccion(...d)),ref:"botonCrearNuevaColeccion"}," Crear ",512)])],512),[[K,r.preparandoNuevaColeccion]]),n.coleccionSeleccionadaNullificable&&r.editandoColeccion?(H(),Y("div",{key:0,class:"ventanaSplash",onClick:t[14]||(t[14]=Ae(d=>r.editandoColeccion=!1,["self"]))},[v("div",zR,[v("div",{class:"botonEquis",onClick:t[11]||(t[11]=d=>r.editandoColeccion=!1)},HR),v("div",WR,[QR,v("span",null,"Editando "+ve(n.coleccionSeleccionadaNullificable.nombre),1)]),GR,v("input",{type:"text",ref:"inputNuevoNombreColeccion",onKeypress:t[12]||(t[12]=pt(d=>e.$refs.botonGuardarNuevoNombreColeccion.click(),["enter"]))},null,544),v("div",{class:de(["botonTexto",{deshabilitado:r.guardandoNuevoNombreColeccion}]),onClick:t[13]||(t[13]=(...d)=>n.guardarNuevoNombreColeccion&&n.guardarNuevoNombreColeccion(...d)),ref:"botonGuardarNuevoNombreColeccion"},[U(Se(s,null,null,512),[[K,r.guardandoNuevoNombreColeccion]]),U(v("img",KR,null,512),[[K,!r.guardandoNuevoNombreColeccion]]),$e(" Guardar ")],2)])])):he("",!0)]))])}const Af=Le(wR,[["render",JR],["__scopeId","data-v-8ad880b6"]]),YR=Pe`
  query ($idColeccion: ID!, $idUsuario: ID!) {
    coleccionNodosConocimiento(
      idUsuario: $idUsuario
      idColeccion: $idColeccion
    ) {
      id
      nombre
      idsNodos
      idsRed
      progreso
    }
  }
`,XR={name:"BrowseColeccion",components:{PieProgreso:us,diagramaArbol:Sf,GestorColecciones:Af},props:{idColeccion:{type:String},idNodoSeleccionado:{type:String}},apollo:{coleccionSeleccionada:{query:YR,variables(){var e;return{idColeccion:this.idColeccion,idUsuario:(e=this.usuario)==null?void 0:e.id}},skip(){var e;return!((e=this.usuario)!=null&&e.id)||!this.idColeccion},update({coleccionNodosConocimiento:e}){return e},fetchPolicy:"cache-first"}},data(){return{coleccionSeleccionada:{idsNodos:[],idsRed:[]},anchoContenedorArbol:null}},computed:{coleccionSeleccionadaNullificable(){var e,t;return(t=(e=this.$apollo.queries)==null?void 0:e.coleccionSeleccionada)!=null&&t.skip?null:this.coleccionSeleccionada},estiloIconoProgresoUsuario(){let e="50%",t=this.anchoContenedorArbol;return t&&(e=t/2+"px"),{left:e}}},methods:{},watch:{coleccionSeleccionadaNullificable:{handler:function(e){e!=null&&e.nombre&&(document.title=e.nombre)},immediate:!0}}},ZR={class:"browseColeccion"},eM={id:"contenedorFotoUsuario"},tM=["src"];function oM(e,t,o,i,r,n){var l,c;const s=Te("pie-progreso"),a=Te("diagrama-arbol");return H(),Y("div",ZR,[n.coleccionSeleccionadaNullificable?(H(),Y("div",{key:0,id:"iconoProgresoUsuario",style:Re([n.estiloIconoProgresoUsuario])},[(l=e.usuario)!=null&&l.id?(H(),qe(s,{key:0,progreso:n.coleccionSeleccionadaNullificable.progreso,size:120,factorArco:.1,colorFondo:"transparent"},{default:ht(()=>{var u;return[v("div",eM,[v("img",{ref:"imagenUsuario",src:e.serverUrl+"/api/usuarios/fotografias/"+((u=e.usuario)==null?void 0:u.id),alt:"Fotografía"},null,8,tM)])]}),_:1},8,["progreso","factorArco"])):he("",!0),n.coleccionSeleccionadaNullificable?U((H(),Y("div",{key:1,id:"indicadorProgreso"},ve(n.coleccionSeleccionadaNullificable.progreso)+"% ",513)),[[K,(c=n.coleccionSeleccionadaNullificable)==null?void 0:c.progreso]]):he("",!0)],4)):he("",!0),n.coleccionSeleccionadaNullificable?(H(),qe(a,{key:1,ref:"diagramaArbol",idsRoot:n.coleccionSeleccionadaNullificable.idsNodos,idsRed:n.coleccionSeleccionadaNullificable.idsRed,idNodoSeleccionado:o.idNodoSeleccionado,onSeleccionNodo:t[0]||(t[0]=u=>e.$emit("seleccionNodo",u))},null,8,["idsRoot","idsRed","idNodoSeleccionado"])):he("",!0)])}const rM=Le(XR,[["render",oM],["__scopeId","data-v-856b6529"]]),iM={name:"BrowseNodo",components:{diagramaArbol:Sf},props:{idNodo:{type:String},idNodoSeleccionado:{type:String}},data(){return{}}},nM={class:"browseNodo"};function sM(e,t,o,i,r,n){const s=Te("diagrama-arbol");return H(),Y("div",nM,[o.idNodo?(H(),qe(s,{key:0,idsRoot:[o.idNodo],idNodoSeleccionado:o.idNodoSeleccionado,onSeleccionNodo:t[0]||(t[0]=a=>e.$emit("seleccionNodo",a))},null,8,["idsRoot","idNodoSeleccionado"])):he("",!0)])}const aM=Le(iM,[["render",sM],["__scopeId","data-v-e3a694f2"]]),lM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAnFBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4jUzeAAAAM3RSTlMA+xEW+PI/BSPvyIob4YV/XzwfAnZyZUeUVgnqwrdrNg7Tz7utb9vVv6SdmEwxKeWyjk9WFiZCAAAB0ElEQVRIx+2U2bKqMBBFu0kgcJhFQHGeZ8+w///frmKdstSEK+9nvVCws6pJuiv0xyOB00/6qaB3caMN44qcx8E7QmfH9XJP1o/D/0slNjDolSKjLPjZX1+OzULmA15e0S/T2AbnjcrFGHaIqtJffp3oynkGNDkJsKxIjUNc+KYa6wNcmnduY1iR2AJYL3su3RBrfFomZQevQ2IGfE0yujOR8E39YOSkFuBx9hj0YBvKRBhUVACrlx9mjPXKBj1Sayyyl2SEhX6uGD+UAs5rlMNWOsUBAooRKm3k6pQ+ZEY7jHSnD6T6PtoZ9RBpIgGU+iqsqHKU7vgNVVKgQ3ocsHYvQqJvULrwlDaYY29Qthjpg7ieC8fzNZNU6JVAIiYqsH0O9vCmpOcA+0yqFM+bZ0RkQAwwt16LhwinZOLIGFrPxhzSITM5MDs9disEF9REzpC+uA/XgSELEZ+bnPITkMtiIqbBZDViIHTIxyDxo5PRsXwbVxhXvGhKNKm/cJfM0nhxW+ONitthjIFNCHSpAeWmZeqq+30xU9aHxjHzjdCido4DDNs60a/DqzbOR+1I920nrh3BSKiVIxy0UajLYMAT1IKVvBhHaoWb9AX9ceEfSSU0mMLFKFUAAAAASUVORK5CYII=",cM={components:{Loading:ut},name:"BuscadorNodosConocimiento",data(){return{textoBusqueda:"",cantidadPalabrasValidas:0,resultados:[],mostrandoInput:!1,mostrandoLista:!1,esperandoResultados:!1}},methods:{clickEnLupa(){this.mostrandoInput?this.buscarDatabase():(this.mostrandoInput=!0,this.$nextTick(()=>{this.$refs.inputBuscador.focus(),this.$refs.inputBuscador.select()}))},cerrar(){this.mostrandoInput=!1},buscarDatabase(){this.textoBusqueda&&(console.log("******Descargando resultados de búsqueda"),this.esperandoResultados=!0,this.$apollo.query({query:Ce`
            query ($palabrasBuscadas: String!) {
              busquedaAmplia(palabrasBuscadas: $palabrasBuscadas) {
                id
                nombre
                resumen
                autoCoords {
                  x
                  y
                }
              }
            }
          `,variables:{palabrasBuscadas:this.textoBusqueda},fetchPolicy:"network-only"}).then(({data:{busquedaAmplia:e}})=>{this.resultados=e,this.esperandoResultados=!1,this.mostrandoLista=!0}).catch(e=>{console.log(`Error: ${e}`),this.esperandoResultados=!1}))},cerrarBusqueda(){this.mostrandoInput=!1,this.mostrandoLista=!1}},watch:{textoBusqueda:function(){this.mostrandoLista=!1}}},uM={id:"barraSuperior"},dM={id:"listaResultados"},fM=["onClick"];function hM(e,t,o,i,r,n){const s=Te("loading");return H(),Y("div",{id:"buscadorNodosConocimiento",style:Re([{width:r.mostrandoInput?"min(100vh, 350px)":"30px"}])},[v("div",uM,[v("img",{src:lM,alt:"Lupa",title:"Buscar nodos de conocimiento",id:"imagenLupa",class:de({opaco:!r.mostrandoInput}),onClick:t[0]||(t[0]=Ae((...a)=>n.clickEnLupa&&n.clickEnLupa(...a),["stop"]))},null,2),Se(Qi,{name:"unfold"},{default:ht(()=>[U(v("input",{type:"text",placeholder:"Buscar","onUpdate:modelValue":t[1]||(t[1]=a=>r.textoBusqueda=a),id:"inputBuscador",ref:"inputBuscador",autocomplete:"off",onClick:t[2]||(t[2]=Ae(()=>{},["stop"])),onKeypress:t[3]||(t[3]=pt((...a)=>n.buscarDatabase&&n.buscarDatabase(...a),["enter"]))},null,544),[[je,r.textoBusqueda],[K,r.mostrandoInput]])]),_:1})]),U(Se(s,{texto:"Buscando"},null,512),[[K,r.esperandoResultados]]),U(v("div",dM,[(H(!0),Y(Me,null,Ve(r.resultados,a=>(H(),Y("div",{class:"resultado",key:a.id,onClick:Ae(l=>{e.$emit("nodoSeleccionado",a),r.mostrandoInput=!1,r.mostrandoLista=!1},["stop"])},ve(a.nombre),9,fM))),128))],512),[[K,r.mostrandoLista]])],4)}const o0=Le(cM,[["render",hM],["__scopeId","data-v-8626ce9a"]]),pM=Pe`
  query ($idNodo: ID!) {
    nodo(idNodo: $idNodo) {
      id
      nombre
      tipoNodo
      autoCoords {
        x
        y
      }
      vinculos {
        id
        idRef
        rol
        tipo
        nodoContraparte {
            id
          autoCoords {
            x
            y
          }
        }
      }
    }
  }
`,mM={name:"NodoConocimientoAtlas",props:{idNodo:{type:String,required:!0},yo:{type:Object,required:!0},seleccionado:{type:Boolean},idNodoSeleccionado:{type:String},idsNodosAprendidos:{type:Array,default:()=>[]},idsNodosEstudiados:{type:Array,default:()=>[]},idsNodosOlvidados:{type:Array,default:()=>[]},idsNodosEstudiables:{type:Array,default:[]},idsUnderTargetActivos:{type:Array}},apollo:{elNodo:{query:pM,variables(){return{idNodo:this.idNodo}},update({nodo:e}){return e},fetchPolicy:"cache-first"},yo:{query:bo,fetchPolicy:"cache-first",skip(){var e;return!((e=this.usuario)!=null&&e.id)}}},data(){return{elNodo:{vinculos:[]}}},computed:{estudiable(){return!this.elNodo.vinculos.some(e=>e.tipo==="continuacion"&&e.rol==="target"&&!this.idsNodosAprendidos.includes(e.idRef)&&!this.idsNodosEstudiados.includes(e.idRef))},targeted(){return this.idNodoTarget===this.elNodo.id},idNodoTarget(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)==null?void 0:t.idNodoTarget},vinculosConEstilo(){var e;return(e=this.elNodo)!=null&&e.vinculos?this.elNodo.vinculos.map(t=>{var d;if(t.rol==="source")return{...t};if(!((d=t.nodoContraparte)!=null&&d.autoCoords))return{...t};let o=this.elNodo,i=t.nodoContraparte,r=o.autoCoords,n=i.autoCoords,s=Math.atan2(n.y-r.y,n.x-r.x),a=Math.sqrt(Math.pow(n.y-r.y,2)+Math.pow(n.x-r.x,2)),l=100,c=a,u={paddingLeft:Math.round(l/2)+"px",paddingRight:Math.round(l/2)+"px",width:Math.round(c)+"px",transform:"rotate("+s+"rad)",opacity:"1"};return!this.idsNodosAprendidos.includes(t.idRef)&&!this.idsNodosEstudiados.includes(t.idRef)&&(u.opacity=.2),{...t,estilo:u}}):[]}}},r0=e=>(Ge("data-v-34c2e1b7"),e=e(),Ke(),e),vM={key:0,id:"iconoTargeted",src:Ki,alt:"Mira"},gM={class:"bolita"},yM={key:0,src:fs,alt:"Skill"},bM={key:1,src:ds,alt:"Skill"},wM={class:"cajaTexto"},EM=r0(()=>v("img",{src:Yi,alt:"Ellipsis"},null,-1)),_M=[EM],SM=r0(()=>v("div",{class:"laLinea"},null,-1)),AM=[SM];function NM(e,t,o,i,r,n){return r.elNodo&&r.elNodo.id?(H(),Y("div",{key:0,class:de(["nodoConocimientoAtlas nodoConocimientoConBola",{seleccionado:o.seleccionado,estudiable:n.estudiable,aprendido:o.idsNodosAprendidos.includes(r.elNodo.id),estudiado:o.idsNodosEstudiados.includes(r.elNodo.id),olvidado:o.idsNodosOlvidados.includes(r.elNodo.id),targeted:n.targeted}])},[n.idNodoTarget===r.elNodo.id?(H(),Y("img",vM)):he("",!0),v("div",gM,[Od(e.$slots,"imagenBolita",{},()=>[r.elNodo.tipoNodo==="concepto"?(H(),Y("img",yM)):(H(),Y("img",bM))],!0)]),v("div",wM,[$e(ve(r.elNodo.nombre)+" ",1),U(v("div",{class:"boton",id:"botonAbrirOpciones",onClick:t[0]||(t[0]=Ae(s=>e.$emit("abrirMyControles"),["stop"]))},_M,512),[[K,o.seleccionado]])]),(H(!0),Y(Me,null,Ve(n.vinculosConEstilo.filter(s=>s.estilo),s=>(H(),Y("div",{class:"lineaVinculo",key:s.id,style:Re([s.estilo])},AM,4))),128))],2)):he("",!0)}const CM=Le(mM,[["render",NM],["__scopeId","data-v-34c2e1b7"]]),wn=Ce`
query($centro: CoordsInput!, $radioX: Int!, $radioY: Int!){
    nodosConocimientoAroundCentro(centro : $centro, radioX: $radioX, radioY: $radioY){
        ...fragNodoConocimientoMinimoAtlas
    }
}
    ${vx}
`,TM={name:"MapaAtlas",props:{idsNodosColeccionEstudiables:{type:Array,default:[]},nodoSeleccionadoBelongsColeccionSeleccionada:{type:Boolean},conectandoNodosColeccion:{type:Boolean},nodoCreandoDependencia:{type:Object},idNodoSeleccionado:{type:String},coleccionSeleccionada:{type:Object},idsNodosActivosOlvidados:{type:Array,default:[]}},components:{BuscadorNodosConocimiento:o0,Loading:ut,NodoConocimientoAtlas:CM,GestorColecciones:Af},apollo:{nodosZona:{query:wn,variables(){return{centro:{x:this.centroDescarga.x,y:this.centroDescarga.y},radioX:this.radioDescargaX,radioY:this.radioDescargaY}},update({nodosConocimientoAroundCentro:e}){return e},fetchPolicy:"cache-first",debounce:1e3,skip(){return!this.centroDescarga||!this.radioDescargaX||!this.radioDescargaY}},nodoSeleccionadoDB:{query:df,variables(){return{idNodo:this.idNodoSeleccionado}},skip(){return!this.idNodoSeleccionado},update({nodo:e}){return e},fetchPolicy:"cache-first"},configuracionAtlas:{query:Ce`
        query ($nombreAtlas: String!) {
          configuracionAtlas(nombreAtlas: $nombreAtlas) {
            id
            posicionando
          }
        }
      `,variables:{nombreAtlas:"conocimiento"},fetchPolicy:"network-only"},yo:{query:bo,skip(){return!this.usuarioLogeado},fetchPolicy:"cache-first"},progresoNodoTarget:{query:Ce`
        query ($idNodo: ID!) {
          nodo(idNodo: $idNodo) {
            id
            porcentajeCompletado
          }
        }
      `,variables(){return{idNodo:this.idNodoTarget}},skip(){return!this.idNodoTarget},update({nodo:e}){return e.porcentajeCompletado}},nodoTarget:{query:Ce`
            query($idNodo: ID!){
                nodo(idNodo: $idNodo){
                    id
                    nombre
                }
            }
            `,variables(){return{idNodo:this.idNodoTarget}},fetchPolicy:"cache-first",skip(){return!this.idNodoTarget},update({nodo:e}){return e}}},data(){return{panned:!1,nodoTarget:{},lastPointerMoveX:null,lastPointerMoveY:null,centroVista:{x:0,y:0},porcentajeTriggerDescarga:60,centroDescarga:{x:0,y:0},radioDescargaX:1e3,radioDescargaY:1e3,overflowZonaDescarga:30,elementoDragged:null,nodoSeleccionadoDB:{vinculos:[],expertos:[]},montado:!1,firstLoad:!1,configuracionAtlas:{posicionando:!1},hovered:!1,nodosDescargados:!1,posicionCreandoNodo:null,factorEscalera:.2,idsNodosCadenaPreviaSeleccionado:[],idNodoMenuCx:null,idsNecesariosParaTarget:[],enviandoQueryModo:!1,enviandoQueryTarget:!1,redibujarEnlacesNodos:0,yo:{atlas:{datosNodos:[],configuracion:{modo:"estudiante"}}},idsNodosVisibles:[],idsNodosAlreadyRendered:[],showingZoomInfo:!1,zoom:60,minZoom:20,maxZoom:70,pinching:!1,lastPinchDistance:0,actualizarVinculosGrises:0,ultimoTouchX:0,ultimoTouchY:0,cerrarBusqueda:0,mostrandoMenuContextual:!1,enviandoQueryConfiguracionAtlas:!1,seleccionandoColeccion:!1,mostrandoOpcionesColeccion:!1,idColeccionTargetOnLastLocalizacion:null,nivelesUnderTarget:1,hoveringAnuncioTarget:!1,creandoDependencia:!1,editandoVinculos:!1,posMenuContextual:{x:0,y:0}}},computed:{sizeGridDescarga(){return Math.round(150/this.factorZoom)},nodosVisibles(){return this.nodosZona?this.conectandoNodosColeccion?this.nodosZona:this.coleccionSeleccionada?this.nodosZona.filter(e=>this.coleccionSeleccionada.idsRed.includes(e.id)):this.nodosZona:[]},posContenedorNodos(){if(!this.montado)return;this.$el.offsetHeight,this.$el.offsetWidth;let e={x:this.centroDescarga.x-this.centroVista.x,y:this.centroDescarga.y-this.centroVista.y};return{transform:"translate("+Math.round(e.x*this.factorZoom)+"px, "+Math.round(e.y*this.factorZoom)+"px) scale("+this.factorZoom+")"}},offsetMenuContextual(){if(!this.mostrandoMenuContextual)return;let e=this.$el.offsetWidth,t=this.$el.offsetHeight;return{left:Math.round(e/2+(this.posMenuContextual.x-this.centroVista.x)*this.factorZoom)+"px",top:Math.round(t/2+(this.posMenuContextual.y-this.centroVista.y)*this.factorZoom)+"px"}},idsNodosTop(){return this.coleccionSeleccionada?this.coleccionSeleccionada.idsNodos:[]},idNodoTarget(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)==null?void 0:t.idNodoTarget},domAndNodosReady(){return this.montado&&this.firstLoad},nodoSeleccionado:function(){return this.idNodoSeleccionado?this.nodoSeleccionadoDB:null},idsTodosNodosEstudiados(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos?this.yo.atlas.datosNodos.filter(o=>o.estadoAprendizaje==="ESTUDIADO").map(o=>o.idNodo):[]},idsTodosNodosAprendidos(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos?this.yo.atlas.datosNodos.filter(o=>o.estadoAprendizaje==="APRENDIDO").map(o=>o.idNodo):[]},idsNodosActivosEstudiados(){var t;let e=this.idsTodosNodosEstudiados;return(t=this.coleccionSeleccionada)!=null&&t.id&&(e=e.filter(o=>this.coleccionSeleccionada.idsRed.includes(o))),e},idsNodosActivosAprendidos(){return this.coleccionSeleccionada?this.idsTodosNodosAprendidos.filter(e=>this.coleccionSeleccionada.idsRed.includes(e)):this.idsTodosNodosAprendidos},idsNodosColeccionAccesibles(){return this.nodosColeccionAccesibles.map(e=>e.id)},factorZoom(){return Number((this.zoom/100).toFixed(2))},sizeContenedorNodos(){return{width:this.radioDescargaX+"px",height:this.radioDescargaY+"px"}}},methods:{scrollMapa(e){e.stopPropagation(),e.preventDefault()},mouseUpDiagrama(e){var t;if(((t=this.elementoDragged)==null?void 0:t.tipo)==="nodoConocimiento"){const o=this.$el.getBoundingClientRect();let i={x:Math.round(this.centroVista.x+(e.clientX-o.left-o.width/2)/this.factorZoom),y:Math.round(this.centroVista.y+(e.clientY-o.top-o.height/2)/this.factorZoom)};console.table(i),this.$apollo.mutate({mutation:Ce`
                    mutation($idNodo: ID!, $coordsManuales: CoordsInput!){
                        setCoordsManuales(idNodo: $idNodo, coordsManuales: $coordsManuales){
                            modificados{
                            id
                                autoCoords{
                                    x
                                    y
                                }
                            }
                        }
                    }
                    `,variables:{idNodo:this.elementoDragged.id,coordsManuales:i}}).then(()=>{console.log("hecho")}).catch(r=>{console.log("Error: "+r)})}this.elementoDragged=null,this.lastPointerMoveX=null,this.lastPointerMoveY=null,this.panned||(console.log("Panned"),this.$emit("clickFuera"))},iniciarDragMapa(e){this.panned=!1,!this.elementoDragged&&(this.elementoDragged={tipo:"mapa"})},setRadiosDescarga(){let e=this.$el.offsetWidth,t=this.$el.offsetHeight;this.radioDescargaX=Math.round(e/2*((100+this.overflowZonaDescarga)/100)/this.factorZoom),this.radioDescargaY=Math.round(t/2*((100+this.overflowZonaDescarga)/100)/this.factorZoom)},iniciarDragNodo(e){this.usuarioSuperadministrador&&(this.elementoDragged={tipo:"nodoConocimiento",id:e})},dragElemento:ec(function(e){if(!this.elementoDragged)return;e.stopPropagation(),e.preventDefault();let t=e.touches?e.touches[0].clientX:e.clientX,o=e.touches?e.touches[0].clientY:e.clientY;if(this.elementoDragged.tipo==="nodoConocimiento"){if(!this.usuarioSuperadministrador)return}else if(this.elementoDragged.tipo==="mapa"){if(!this.lastPointerMoveX||!this.lastPointerMoveY){this.lastPointerMoveX=t,this.lastPointerMoveY=o;return}let i=t-this.lastPointerMoveX,r=o-this.lastPointerMoveY;i=Math.round(i/this.factorZoom),r=Math.round(r/this.factorZoom),this.panVista(-i,-r),this.lastPointerMoveX=t,this.lastPointerMoveY=o,this.panned=!0}},50),stepNivelesUnderTarget:ec(function(e){let t=this.nivelesUnderTarget+e;t<0&&(t=0),this.idsUnderTarget[t]&&(this.nivelesUnderTarget=t)},800),nodoEnRangoVista(e){let t=e.autoCoords,o=this.centroZonaNodosVisibles.x-this.factorZonaVisible*this.anchoScreen/this.factorZoom,i=this.centroZonaNodosVisibles.x+this.factorZonaVisible*this.anchoScreen/this.factorZoom,r=this.centroZonaNodosVisibles.y-this.factorZonaVisible*this.altoScreen/this.factorZoom,n=this.centroZonaNodosVisibles.y+this.factorZonaVisible*this.altoScreen/this.factorZoom;return t.x>o&&t.x<i&&t.y>r&&t.y<n},reactToNodoEliminado(e){const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:wn,variables:{centro:this.centroDescarga,radioX:this.radioDescargaX,radioY:this.radioDescargaY}});let i=JSON.parse(JSON.stringify(o)),r=i.nodosConocimientoAroundCentro;const n=r.findIndex(s=>s.id===e);n<0||(r.splice(n,1),t.writeQuery({query:wn,variables:{centro:this.centroDescarga,radioX:this.radioDescargaX,radioY:this.radioDescargaY},data:i}))},touchEndDiagrama(e){this.elementoDragged=null,this.lastPointerMoveX=null,this.lastPointerMoveY=null},touchStartDiagrama(e){if(e.touches.length===2){e.stopPropagation(),e.preventDefault();let t=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2));this.lastPinchingDistance=t;return}this.elementoDragged={tipo:"mapa"}},touchMoveDiagrama(e){if(e.touches.length===2){e.stopPropagation(),e.preventDefault();let o={x:(e.touches[0].clientX+e.touches[1].clientX)/2,y:(e.touches[0].clientY+e.touches[1].clientY)/2};var t=this.$el;let i=t.getBoundingClientRect(),r={x:this.centroVista.x+(o.x-i.left-i.width/2)/this.factorZoom,y:this.centroVista.y+(o.y-i.top-i.height/2)/this.factorZoom},n=Math.sqrt(Math.pow(e.touches[0].clientX-e.touches[1].clientX,2)+Math.pow(e.touches[0].clientY-e.touches[1].clientY,2));if(!this.lastPinchingDistance){this.lastPinchingDistance=n;return}let s=n-this.lastPinchingDistance;s!=0&&(s=2*s/Math.abs(s),ec(this.zoomVista(s,r),1e3)),this.lastPinchingDistance=n;return}this.dragElemento(e)},clickNodo(e){this.$emit("seleccionNodo",{idNodo:e.id,programmatic:!1})},togglePosicionamiento(){this.enviandoQueryConfiguracionAtlas=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($nombreAtlas: String!) {
              togglePosicionamientoAutomaticoAtlas(nombreAtlas: $nombreAtlas) {
                id
                posicionando
              }
            }
          `,variables:{nombreAtlas:"conocimiento"}}).then(()=>{this.enviandoQueryConfiguracionAtlas=!1}).catch(()=>{this.enviandoQueryConfiguracionAtlas=!1})},cerrarMenuContextual(){this.mostrandoMenuContextual=!1},abrirMenuContextual(e){const t=this.$el.getBoundingClientRect();let o=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY,r=o-t.left-this.$el.offsetWidth/2,n=i-t.top-this.$el.offsetHeight/2;this.posMenuContextual={x:Math.round(this.centroVista.x+r/this.factorZoom),y:Math.round(this.centroVista.y+n/this.factorZoom)},this.mostrandoMenuContextual=!0},crearNodoEnMenuContextual(){var e={x:this.posMenuContextual.x,y:this.posMenuContextual.y};this.crearNodo(e)},centrarEnNodo(e){this.centrarVista(e.autoCoords.x,e.autoCoords.y)},centrarEnNodoById(e){e&&this.$apollo.query({query:Ce`
            query ($idNodo: ID!) {
              nodo(idNodo: $idNodo) {
                id
                autoCoords {
                  x
                  y
                }
              }
            }
          `,variables:{idNodo:e}}).then(({data:{nodo:t}})=>{this.centrarEnNodo(t)}).catch(t=>{console.log(`Error: ${t}`)})},cambiarCoordsManualesNodo(e,t){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}this.$apollo.mutate({mutation:Ce`
            mutation ($idNodo: String, $coordsManuales: CoordsInput) {
              setCoordsManuales(
                idNodo: $idNodo
                coordsManuales: $coordsManuales
              ) {
                modificados {
                  id
                  coordsManuales {
                    x
                    y
                  }
                  coords {
                    x
                    y
                  }
                }
              }
            }
          `,variables:{idNodo:e,coordsManuales:t}}).then(()=>{this.$refs.canvases.crearImagenTodosVinculos()}).catch(o=>{console.log(`Error: ${o}`)})},crearNodo(e){if(!this.usuarioSuperadministrador){console.log("Error. Usuario no autorizado");return}let t={autoCoords:{x:e.x,y:e.y}};this.posicionCreandoNodo={x:e.x,y:e.y},this.$apollo.mutate({mutation:Ce`
            mutation ($infoNodo: NodoConocimientoInput) {
              crearNodo(infoNodo: $infoNodo) {
                ...fragNodoConocimiento
              }
            }
            ${Eb}
          `,variables:{infoNodo:t}}).then(({data:{crearNodo:o}})=>{const i=this.$apollo.provider.defaultClient,r=i.readQuery({query:wn,variables:{centro:this.centroDescarga,radioX:this.radioDescargaX,radioY:this.radioDescargaY}});var n=JSON.parse(JSON.stringify(r)),s=n.nodosConocimientoAroundCentro;s.findIndex(l=>l.id===o.id)>-1||(s.push(o),i.writeQuery({query:wn,variables:{centro:this.centroDescarga,radioX:this.radioDescargaX,radioY:this.radioDescargaY},data:n})),this.posicionCreandoNodo=null}).catch(o=>{this.posicionCreandoNodo=null,console.log(`Error. E: ${o}`)})},seleccionNodo(e,t){this.$emit("seleccionNodo",{idNodo:e.id,programatic:t})},async eliminarVinculo(e,t){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}this.editandoVinculos=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($idNodoFrom: ID!, $idNodoTo: ID!) {
              eliminarVinculoFromTo(
                idSource: $idNodoFrom
                idTarget: $idNodoTo
              ) {
                modificados {
                  id
                  vinculos {
                    id
                    idRef
                    tipo
                    rol
                  }
                }
              }
            }
          `,variables:{idNodoFrom:e,idNodoTo:t}}).then(()=>{this.editandoVinculos=!1}).catch(o=>{console.log(`error: ${o}`),this.editandoVinculos=!1})},centrarVista(e,t){this.centroVista.x=e,this.centroVista.y=t},zoomVista(e,t){let o=e,i=this.zoom+o;i<this.minZoom?i=this.minZoom:i>this.maxZoom&&(i=this.maxZoom);var r=this.$el;r.getBoundingClientRect();const n={x:this.centroVista.x-t.x,y:this.centroVista.y-t.y};let s=i/this.zoom;this.zoom=i;let a=n.x/s,l=n.y/s;this.centrarVista(Math.round(t.x+a),Math.round(t.y+l)),this.showingZoomInfo=!0},zoomWheel(e){if(this.hovered){if(e.preventDefault(),e.ctrlKey){var t=this.$el;let o=t.getBoundingClientRect(),i={x:this.centroVista.x+(e.clientX-o.left-o.width/2)/this.factorZoom,y:this.centroVista.y+(e.clientY-o.top-o.height/2)/this.factorZoom};e.deltaY>0?this.zoomVista(-5,i):this.zoomVista(5,i);return}if(scrollX=e.deltaX,scrollY=e.deltaY,e.shiftKey){let o=scrollY;scrollY=scrollX,scrollX=o}this.panVista(scrollX,scrollY)}},panVista(e,t){this.centroVista.y+=t,this.centroVista.x+=e},hideZoomInfo:Xa(function(){this.showingZoomInfo=!1},1e3)},watch:{centroVista:{handler:function(){let e=this.radioDescargaX*(100-this.porcentajeTriggerDescarga)/100,t=this.radioDescargaY*(100-this.porcentajeTriggerDescarga)/100;(this.centroVista.x>this.centroDescarga.x+e||this.centroVista.x<this.centroDescarga.x-e||this.centroVista.y<this.centroDescarga.y-t||this.centroVista.y>this.centroDescarga.y+t)&&(this.centroDescarga.x=Math.round(this.centroVista.x/this.sizeGridDescarga)*this.sizeGridDescarga,this.centroDescarga.y=Math.round(this.centroVista.y/this.sizeGridDescarga)*this.sizeGridDescarga)},deep:!0},nodoTarget(){this.nivelesUnderTarget=1},zoom(){this.showingZoomInfo=!0,this.hideZoomInfo(),this.setRadiosDescarga()},idsNodosTop:{handler:function(e){this.$emit("settedIdsNodosTop",e)},immediate:!0}},mounted(){screen.width<600&&(this.zoom=40),this.setRadiosDescarga(),this.montado=!0}},xM=e=>(Ge("data-v-0b33983e"),e=e(),Ke(),e),IM={id:"contenedorElementosDiagrama",ref:"contenedorElementosDiagrama"},DM=xM(()=>v("img",{src:hs,style:{transform:"scale(0.7)",filter:"invert(1)"},alt:"Conectado"},null,-1));function PM(e,t,o,i,r,n){const s=Te("loading"),a=Te("nodo-conocimiento-atlas");return H(),Y("div",{class:"mapaAtlas",onTouchmove:t[4]||(t[4]=(...l)=>n.touchMoveDiagrama&&n.touchMoveDiagrama(...l)),onTouchstart:t[5]||(t[5]=(...l)=>n.touchStartDiagrama&&n.touchStartDiagrama(...l)),onTouchend:t[6]||(t[6]=(...l)=>n.touchEndDiagrama&&n.touchEndDiagrama(...l)),onScroll:t[7]||(t[7]=(...l)=>n.scrollMapa&&n.scrollMapa(...l)),onMousedown:t[8]||(t[8]=Ae((...l)=>n.iniciarDragMapa&&n.iniciarDragMapa(...l),["left","stop"])),onContextmenu:[t[9]||(t[9]=Ae((...l)=>n.abrirMenuContextual&&n.abrirMenuContextual(...l),["self","exact","stop","prevent"])),t[14]||(t[14]=Ae((...l)=>n.abrirMenuContextual&&n.abrirMenuContextual(...l),["self","exact","prevent"]))],onMouseenter:t[10]||(t[10]=l=>r.hovered=!0),onMouseleave:t[11]||(t[11]=l=>r.hovered=!0),onMousemove:t[12]||(t[12]=(...l)=>n.dragElemento&&n.dragElemento(...l)),onMouseup:t[13]||(t[13]=Ae((...l)=>n.mouseUpDiagrama&&n.mouseUpDiagrama(...l),["left"]))},[v("div",IM,[Se(Qi,{name:"fadeOut"},{default:ht(()=>[U(v("div",{id:"infoZoom"},"x"+ve(n.factorZoom),513),[[K,r.showingZoomInfo||!0]])]),_:1}),U(Se(s,{id:"loadingNodosZona"},null,512),[[K,e.$apollo.queries.nodosZona.loading]]),U(v("div",{id:"menuContextual",style:Re([n.offsetMenuContextual])},[e.usuarioProfe?(H(),Y("div",{key:0,class:de(["botonMenuContextual",{deshabilitado:r.posicionCreandoNodo}]),id:"botonCrearNuevoNodo",onClick:t[0]||(t[0]=(...l)=>n.crearNodoEnMenuContextual&&n.crearNodoEnMenuContextual(...l))}," Crear Nodo de conocimiento ",2)):he("",!0)],4),[[K,r.mostrandoMenuContextual]]),r.posicionCreandoNodo?(H(),qe(s,{key:0,texto:"",style:Re([{position:"absolute"},[n.offsetMenuContextual]])},null,8,["style"])):he("",!0),v("div",{id:"contenedorNodos",ref:"contenedorNodos",style:Re([n.posContenedorNodos,n.sizeContenedorNodos])},[(H(!0),Y(Me,null,Ve(n.nodosVisibles,l=>{var c,u,d;return H(),qe(a,{key:l.id,idNodo:l.id,seleccionado:o.idNodoSeleccionado===l.id,yo:r.yo,idsNodosAprendidos:n.idsNodosActivosAprendidos,idsNodosOlvidados:o.idsNodosActivosOlvidados,idsNodosEstudiados:n.idsNodosActivosEstudiados,idsNodosEstudiables:o.idsNodosColeccionEstudiables,class:de({esperandoClick:o.conectandoNodosColeccion,activoSeleccion:o.conectandoNodosColeccion&&((c=o.coleccionSeleccionada)==null?void 0:c.idsNodos.includes(l.id)),activoSubseleccion:o.conectandoNodosColeccion&&((u=o.coleccionSeleccionada)==null?void 0:u.idsRed.includes(l.id))}),idNodoTarget:n.idNodoTarget,style:Re([{top:l.autoCoords.y-r.centroDescarga.y+"px",left:l.autoCoords.x-r.centroDescarga.x+"px"}]),onDblclick:p=>e.$router.push({name:"visorNodoConocimiento",params:{idNodo:l.id}}),onClick:[Ae(p=>n.clickNodo(l),["stop"]),Ae(p=>n.iniciarDragNodo(l.id),["stop","ctrl","exact"])],onMousedown:t[1]||(t[1]=Ae(()=>{},["stop"])),onMouseup:t[2]||(t[2]=Ae(()=>{},["stop"])),onAbrirMyControles:t[3]||(t[3]=p=>e.$emit("abrirControlesNodo"))},ZE({_:2},[o.conectandoNodosColeccion&&((d=o.coleccionSeleccionada)!=null&&d.idsNodos.includes(l.id))?{name:"imagenBolita",fn:ht(()=>[DM]),key:"0"}:void 0]),1032,["idNodo","seleccionado","yo","idsNodosAprendidos","idsNodosOlvidados","idsNodosEstudiados","idsNodosEstudiables","class","idNodoTarget","style","onDblclick","onClick"])}),128))],4)],512)],32)}const kM=Le(TM,[["render",PM],["__scopeId","data-v-0b33983e"]]),ll="/caracol/assets/locationCrosshair-033bceb2.svg",OM={components:{MapaAtlas:kM,PieProgreso:us,ControlesNodo:Tb,RouterView:nb,BrowseColeccion:rM,BrowseNodo:aM,GestorColecciones:Af,Loading:ut,BuscadorNodosConocimiento:o0},name:"AtlasConocimiento",apollo:{yo:{query:bo,skip(){var e;return!((e=this.usuario)!=null&&e.id)}}},data(){return{togglingNodoColeccion:!1,gettingNodoNext:!1,indexLocalizadorEstudiables:0,indexLocalizadorOlvidados:0,indexLocalizadorTops:0,callingPosiciones:!1,coleccionSeleccionada:null,conectandoNodosColeccion:!1,idNodoSeleccionado:null,nodoCreandoDependencia:null,idsNodosActivosAccesiblesInexplorados:[],idsNodosTop:[],nodosColeccionEstudiables:[]}},computed:{nodoTargetPresente(){var e;return this.idNodoTarget?(e=this.coleccionSeleccionada)!=null&&e.id?this.coleccionSeleccionada.idsRed.includes(this.idNodoTarget):!0:!1},idsTodosNodosOlvidados(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)!=null&&t.datosNodos?this.yo.atlas.datosNodos.filter(o=>o.estadoAprendizaje==="OLVIDADO").map(o=>o.idNodo):[]},idsNodosActivosOlvidados(){var e;return(e=this.coleccionSeleccionada)!=null&&e.id?this.idsTodosNodosOlvidados.filter(t=>this.coleccionSeleccionada.idsRed.includes(t)):this.idsTodosNodosOlvidados},idsNodosColeccionEstudiables(){return this.nodosColeccionEstudiables?this.nodosColeccionEstudiables.map(e=>e.id):[]},nodoTargetRelevante(){var e,t;if(!this.idNodoTarget)return!1;if(this.tipoBrowse==="mapa"&&!this.coleccionSeleccionada)return!0;if(this.tipoBrowse==="browseColeccion"||this.tipoBrowse==="mapa")return!!((t=(e=this.coleccionSeleccionada)==null?void 0:e.idsRed)!=null&&t.includes(this.idNodoTarget));if(this.tipoBrowse==="browseNodo")return!1},nodoSeleccionadoBelongsColeccionSeleccionada(){return!this.idNodoSeleccionado||!this.coleccionSeleccionada?!1:this.coleccionSeleccionada.idsNodos.includes(this.idNodoSeleccionado)},tipoBrowse(){var e,t;return(t=(e=this.$route)==null?void 0:e.params)==null?void 0:t.tipoBrowse},idNodoTarget(){var e,t;return(t=(e=this.yo)==null?void 0:e.atlas)==null?void 0:t.idNodoTarget}},methods:{reactToNodoCreado(e){var t;((t=this.$route.params)==null?void 0:t.tipoBrowse)==="mapa"&&this.$refs.mapaAtlas&&this.$refs.mapaAtlas.$apollo.queries.nodosZona.refetch()},descargarNodosColeccionEstudiables(){var t;if(!((t=this.coleccionSeleccionada)!=null&&t.id))return;let e=this.coleccionSeleccionada.id;console.log("Descargando nodos estudiables"),this.$apollo.query({query:Pe`
                query($idColeccion: ID!){
                    nodosEstudiablesColeccion(idColeccion:$idColeccion){
                    id
                    nombre
                    }
                }
                `,fetchPolicy:"network-only",variables:{idColeccion:e}}).then(({data:{nodosEstudiablesColeccion:o}})=>{var i;((i=this.coleccionSeleccionada)==null?void 0:i.id)===e&&(this.nodosColeccionEstudiables=o||[])}).catch(o=>{console.log("error: "+o)})},zoomWheel(e){var t,o;(t=this.$refs.controlesNodo)!=null&&t.zoomWheel(e)||this.tipoBrowse==="mapa"&&((o=this.$refs)!=null&&o.mapaAtlas)&&this.$refs.mapaAtlas.zoomWheel(e)},toggleNodoColeccion(){!this.idNodoSeleccionado||!this.coleccionSeleccionada||(this.togglingNodoColeccion=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($idColeccion: ID!, $idNodo: ID!, $idUsuario: ID!) {
              toggleNodoColeccionNodosAtlasConocimientoUsuario(
                idColeccion: $idColeccion
                idNodo: $idNodo
                idUsuario: $idUsuario
              ) {
                id
                idsNodos
                idsRed
              }
            }
          `,variables:{idColeccion:this.coleccionSeleccionada.id,idNodo:this.idNodoSeleccionado,idUsuario:this.usuario.id}}).then(()=>{this.togglingNodoColeccion=!1}).catch(e=>{console.log("Error: "+e),this.togglingNodoColeccion=!1}))},clickFuera(){var e;this.seleccionNodo(),this.$refs.controlesNodo.clickFuera(),(e=this.$refs)!=null&&e.buscadorNodos&&this.$refs.buscadorNodos.cerrarBusqueda(),this.$refs.mapaAtlas&&this.$refs.mapaAtlas.cerrarMenuContextual()},localizarNext(e){let t=null;if(e==="estudiable"){if(this.idsNodosColeccionEstudiables.length<1)return;this.indexLocalizadorEstudiables++,this.indexLocalizadorEstudiables>=this.idsNodosColeccionEstudiables.length&&(this.indexLocalizadorEstudiables=0),t=this.idsNodosColeccionEstudiables[this.indexLocalizadorEstudiables]}else if(e==="olvidado"){if(this.idsNodosActivosOlvidados.length<1)return;this.indexLocalizadorOlvidados++,this.indexLocalizadorOlvidados>=this.idsNodosActivosOlvidados.length&&(this.indexLocalizadorOlvidados=0),t=this.idsNodosActivosOlvidados[this.indexLocalizadorOlvidados]}else if(e==="top"){if(!this.idsNodosTop||this.idsNodosTop.length<1)return;this.indexLocalizadorTops++,this.indexLocalizadorTops>=this.idsNodosTop.length&&(this.indexLocalizadorTops=0),console.log("saltando al nodo top "+this.indexLocalizadorTops),console.log(`De ${this.idsNodosTop.length}`),t=this.idsNodosTop[this.indexLocalizadorTops],console.log(`Con id ${t}`)}t&&(this.gettingNodoNext=!0,this.$apollo.query({query:Pe`
              query ($idNodo: ID!) {
                nodo(idNodo: $idNodo) {
                  id
                  nombre
                  autoCoords
                }
              }
            `,variables:{idNodo:t},fetchPolicy:"cache-first"}).then(({data:{nodo:o}})=>{this.gettingNodoNext=!1,this.centrarEnNodo(o),this.seleccionNodo({idNodo:o.id,programmatic:!0})}).catch(o=>{this.gettingNodoNext=!1,console.log(`Error getting nodo next: ${o}`)}))},centrarEnNodo(e){this.tipoBrowse==="mapa"&&this.$refs.mapaAtlas.centrarEnNodo(e)},setIdsNodosActivosAccesiblesInexplorados(e,t){t==="mapaAtlas"&&this.tipoBrowse==="mapa"&&(this.idsNodosActivosAccesiblesInexplorados=e)},setIdsNodosActivosTop(e,t){t==="mapaAtlas"&&this.tipoBrowse==="mapa"&&(this.idsNodosTop=e)},iniciarCallingPosiciones(){var e=prompt("¿Cuantos ciclos?");isNaN(e)||(e=Math.round(e),!(e<1)&&(console.log(`Enviando reposicionamiento de ${e} ciclos`),this.callingPosiciones=!0,this.$apollo.mutate({mutation:Pe`
            mutation ($ciclos: Int!) {
              posicionarNodosConocimientoByFuerzas(ciclos: $ciclos)
            }
          `,variables:{ciclos:e}}).then(()=>{this.callingPosiciones=!1}).catch(t=>{this.callingPosiciones=!1,console.log(`Error: ${t}`)})))},reactToNodoBuscadoSeleccionado(e){console.log("reacting to nodo buscado seleccionado"),this.centrarEnNodoById(e.id)},centrarEnNodoById(e){var t,o,i;((o=(t=this.$route)==null?void 0:t.params)==null?void 0:o.tipoBrowse)==="mapa"&&((i=this.$refs)!=null&&i.mapaAtlas)&&this.$refs.mapaAtlas.centrarEnNodoById(e)},centerEnTarget(){this.idNodoTarget&&this.centrarEnNodoById(this.idNodoTarget)},reactToNodoEliminado(e){var t;(t=this.$refs)!=null&&t.mapaAtlas&&this.$refs.mapaAtlas.reactToNodoEliminado(e),e===this.idNodoSeleccionado&&this.seleccionNodo(null)},seleccionNodo(e){if(console.log("Seleccion de nodo: "+JSON.stringify(e)),!e){this.idNodoSeleccionado=null;return}const{idNodo:t,programmatic:o}=e;if(this.nodoCreandoDependencia){if(t===this.nodoCreandoDependencia.id)return;o||this.$refs.controlesNodo.crearDependenciaNodo(t);return}this.idNodoSeleccionado=t},marcarNodoEsperandoDependencia(e){console.log("Marcando nodoCreandoDependencia a: "+e),this.nodoCreandoDependencia=e}},watch:{coleccionSeleccionada(e,t){var o;e?this.descargarNodosColeccionEstudiables():this.nodosColeccionEstudiables=[],(!e||!t||e.id!=t.id)&&(this.idNodoSeleccionado=null),((o=this.$route.params)==null?void 0:o.tipoBrowse)==="browseColeccion"&&(e!=null&&e.id)&&this.$router.push({name:"atlas",params:{idBrowsed:e.id,tipoBrowse:"browseColeccion"}})}},created(){window.addEventListener("wheel",this.zoomWheel,{passive:!1})},destroyed(){window.removeEventListener("wheel",this.zoomWheel,{passive:!1})}},ii=e=>(Ge("data-v-7b86fe5a"),e=e(),Ke(),e),RM={class:"atlasConocimiento"},MM={id:"contenedorOverlays"},FM={class:"anuncio anuncioSeleccion",id:"anuncioConectandoNodos"},BM=ii(()=>v("img",{src:hs,alt:"Nodos"},null,-1)),LM={style:{"margin-left":"-5px","font-weight":"bold",color:"var(--atlasConocimientoSeleccion)"}},$M=ii(()=>v("img",{src:Rt,alt:"Cancelar"},null,-1)),UM=[$M],qM={src:hs,alt:"Conectar"},jM={src:Rt,alt:"Desconectar"},zM=ii(()=>v("span",null," En la mira ",-1)),VM=ii(()=>v("img",{src:ll,alt:"Crosshairs"},null,-1)),HM=[zM,VM],WM=ii(()=>v("img",{src:ll,alt:"Localizar"},null,-1)),QM=[WM],GM=ii(()=>v("img",{src:ll,alt:"Localizar",style:{filter:"var(--filtroAtlasTop)"}},null,-1)),KM=[GM],JM=ii(()=>v("img",{src:ll,alt:"Localizar",style:{filter:"var(--filtroAtlasRepaso)"}},null,-1)),YM=[JM];function XM(e,t,o,i,r,n){var g,y,T,w,_,x,D,M,J,V;const s=Te("RouterView"),a=Te("gestor-colecciones"),l=Te("Loading"),c=Te("buscador-nodos-conocimiento"),u=Te("mapa-atlas"),d=Te("browse-coleccion"),p=Te("browse-nodo"),f=Te("controles-nodo");return H(),Y("div",RM,[Se(s,{id:"viewerNodo"}),v("div",MM,[U(Se(a,{ref:"gestorColecciones",opcionNull:((g=e.$route.params)==null?void 0:g.tipoBrowse)==="mapa"?"Atlas":"",conectandoNodosColeccion:r.conectandoNodosColeccion,onColeccionSeleccionada:t[0]||(t[0]=W=>r.coleccionSeleccionada=W),onSetConectandoNodosColeccion:t[1]||(t[1]=W=>r.conectandoNodosColeccion=W)},null,8,["opcionNull","conectandoNodosColeccion"]),[[K,!r.conectandoNodosColeccion&&((T=(y=e.$route)==null?void 0:y.params)==null?void 0:T.tipoBrowse)!="browseNodo"]]),U(v("div",FM,[BM,$e(" Editando nodos de "),v("span",LM,ve(r.coleccionSeleccionada?r.coleccionSeleccionada.nombre:""),1),v("div",{class:"boton",id:"botonCancelarConectarNodosColeccion",onClick:t[2]||(t[2]=Ae(W=>r.conectandoNodosColeccion=!1,["stop"]))},UM)],512),[[K,r.conectandoNodosColeccion]]),r.conectandoNodosColeccion&&r.coleccionSeleccionada&&r.idNodoSeleccionado?(H(),Y("div",{key:0,class:"botonTexto",id:"botonToggleNodoColeccion",onClick:t[3]||(t[3]=Ae((...W)=>n.toggleNodoColeccion&&n.toggleNodoColeccion(...W),["stop"]))},[U(Se(l,null,null,512),[[K,r.togglingNodoColeccion]]),U(v("img",qM,null,512),[[K,!n.nodoSeleccionadoBelongsColeccionSeleccionada&&!r.togglingNodoColeccion]]),U(v("img",jM,null,512),[[K,n.nodoSeleccionadoBelongsColeccionSeleccionada&&!r.togglingNodoColeccion]]),v("span",null,ve(n.nodoSeleccionadoBelongsColeccionSeleccionada?"Desconectar":"Conectar"),1)])):he("",!0),Se(c,{onNodoSeleccionado:n.reactToNodoBuscadoSeleccionado,ref:"buscadorNodos"},null,8,["onNodoSeleccionado"]),e.usuarioSuperadministrador&&e.usuario.username=="juanMamian"?(H(),Y("div",{key:1,id:"botonCallingPosiciones",onClick:t[4]||(t[4]=Ae((...W)=>n.iniciarCallingPosiciones&&n.iniciarCallingPosiciones(...W),["stop"])),class:de({deshabilitado:r.callingPosiciones}),style:Re([{backgroundColor:r.callingPosiciones?"green":"transparent"}])},null,6)):he("",!0),v("div",{id:"zonaLocalizadores",onClick:t[9]||(t[9]=Ae(()=>{},["stop"]))},[$e(" Localizar: "),n.idNodoTarget?(H(),Y("div",{key:0,class:de(["botonTexto",{deshabilitado:!n.nodoTargetPresente}]),title:"Localizar el nodo en la mira",onClick:t[5]||(t[5]=(...W)=>n.centerEnTarget&&n.centerEnTarget(...W))},HM,2)):he("",!0),v("div",{class:de(["boton controlColeccion",{deshabilitado:n.idsNodosColeccionEstudiables.length<1}]),onClick:t[6]||(t[6]=W=>n.localizarNext("estudiable"))},QM,2),v("div",{class:de(["boton controlColeccion",{deshabilitado:!r.idsNodosTop||r.idsNodosTop.length<1}]),onClick:t[7]||(t[7]=W=>n.localizarNext("top"))},KM,2),v("div",{class:de(["boton controlColeccion",{deshabilitado:!n.idsNodosActivosOlvidados||n.idsNodosActivosOlvidados.length<1}]),onClick:t[8]||(t[8]=W=>n.localizarNext("olvidado"))},YM,2)])]),((w=e.$route.params)==null?void 0:w.tipoBrowse)==="mapa"?(H(),qe(u,{key:0,idNodoSeleccionado:r.idNodoSeleccionado,onClick:[n.clickFuera,t[11]||(t[11]=Ae(()=>{},["stop"]))],nodoCreandoDependencia:r.nodoCreandoDependencia,coleccionSeleccionada:r.coleccionSeleccionada,conectandoNodosColeccion:r.conectandoNodosColeccion,ref:"mapaAtlas",idsNodosColeccionEstudiables:n.idsNodosColeccionEstudiables,idsNodosActivosOlvidados:n.idsNodosActivosOlvidados,onAbrirControlesNodo:t[10]||(t[10]=W=>e.$refs.controlesNodo.desplegar()),onClickFuera:n.clickFuera,onSettedIdsNodosActivosAccesiblesInexplorados:t[12]||(t[12]=W=>n.setIdsNodosActivosAccesiblesInexplorados(W,"mapaAtlas")),onSettedIdsNodosTop:t[13]||(t[13]=W=>n.setIdsNodosActivosTop(W,"mapaAtlas")),onSeleccionNodo:n.seleccionNodo},null,8,["idNodoSeleccionado","onClick","nodoCreandoDependencia","coleccionSeleccionada","conectandoNodosColeccion","idsNodosColeccionEstudiables","idsNodosActivosOlvidados","onClickFuera","onSeleccionNodo"])):he("",!0),n.tipoBrowse==="browseColeccion"&&((x=(_=e.$route)==null?void 0:_.params)!=null&&x.idBrowsed)?(H(),qe(d,{key:1,idNodoSeleccionado:r.idNodoSeleccionado,onSeleccionNodo:n.seleccionNodo,idColeccion:e.$route.params.idBrowsed},null,8,["idNodoSeleccionado","onSeleccionNodo","idColeccion"])):he("",!0),((M=(D=e.$route)==null?void 0:D.params)==null?void 0:M.tipoBrowse)==="browseNodo"&&((V=(J=e.$route)==null?void 0:J.params)!=null&&V.idBrowsed)?(H(),qe(p,{key:2,onSeleccionNodo:n.seleccionNodo,idNodoSeleccionado:r.idNodoSeleccionado,idNodo:e.$route.params.idBrowsed},null,8,["onSeleccionNodo","idNodoSeleccionado","idNodo"])):he("",!0),U(Se(f,{yo:e.yo,ref:"controlesNodo",idNodoSeleccionado:r.idNodoSeleccionado,nodoCreandoDependencia:r.nodoCreandoDependencia,nodoTargetRelevante:n.nodoTargetRelevante,onClick:t[14]||(t[14]=Ae(()=>{},["stop"])),onIniciarCrearDependenciaNodo:t[15]||(t[15]=W=>n.marcarNodoEsperandoDependencia(W)),onCancelarCreandoDependencia:t[16]||(t[16]=W=>r.nodoCreandoDependencia=null),onNodoEliminado:n.reactToNodoEliminado,onNodoCreado:n.reactToNodoCreado,onLocalizeMe:t[17]||(t[17]=W=>n.centrarEnNodoById(r.idNodoSeleccionado))},null,8,["yo","idNodoSeleccionado","nodoCreandoDependencia","nodoTargetRelevante","onNodoEliminado","onNodoCreado"]),[[K,r.idNodoSeleccionado]])])}const ZM=Le(OM,[["render",XM],["__scopeId","data-v-7b86fe5a"]]),eF={name:"NodoConocimientoVistaListaAdmin",props:{esteNodo:Object},data(){return{}},computed:{usuarioExperto(){return this.usuarioLogeado?this.esteNodo.expertos.includes(this.usuario.id):!1}},methods:{guardarEnlaceSeccion(e,t){var o=e.target.value.trim();console.log("Guardando nuevo enlace: "+o),this.$apollo.mutate({mutation:Ce`
            mutation ($idNodo: ID!, $idSeccion: ID!, $nuevoEnlace: String!) {
              setNuevoEnlaceSeccionNodo(
                idNodo: $idNodo
                idSeccion: $idSeccion
                nuevoEnlace: $nuevoEnlace
              ) {
                id
                modo
                enlace
              }
            }
          `,variables:{idNodo:this.esteNodo.id,idSeccion:t,nuevoEnlace:o}}).then(()=>{}).catch(i=>{console.log("Error: "+i)})}}},tF={class:"nodoConocimientoVistaListaAdmin"},oF=["href"],rF={class:"nombre"},iF={id:"listaSecciones"},nF={class:"barraSuperior"},sF={class:"imagenTipoSeccion"},aF={key:0,src:Jb,alt:"Enlace"},lF={key:1,src:nl,alt:"Archivo"},cF={class:"nombre"},uF={class:"zonaSource"},dF=["value","onKeypress"];function fF(e,t,o,i,r,n){return H(),Y("div",tF,[v("div",{class:de(["barraSuperior",{deUsuario:n.usuarioExperto}])},[v("a",{href:e.clienteUrl+"/#/atlas/nodoConocimiento/"+o.esteNodo.id,target:"_blank"},[v("div",rF,ve(o.esteNodo.nombre),1)],8,oF)],2),v("div",iF,[(H(!0),Y(Me,null,Ve(o.esteNodo.secciones,s=>(H(),Y("div",{class:"seccion",key:s.id},[v("div",nF,[v("div",sF,[s.modo==="enlace"?(H(),Y("img",aF)):he("",!0),s.modo==="archivo"?(H(),Y("img",lF)):he("",!0)]),v("div",cF,ve(s.nombre),1),v("div",uF,[v("input",{type:"text",value:s.enlace,onKeypress:pt(a=>n.guardarEnlaceSeccion(a,s.id),["enter"]),class:"inputEnlace"},null,40,dF)])])]))),128))])])}const hF=Le(eF,[["render",fF],["__scopeId","data-v-cb421092"]]),pF=Ce`
  query{
    todosNodos {
      id
      nombre
      secciones {
        id
        nombre
        enlace
        modo
      }
      expertos
    }
  }
  
`,mF={components:{NodoConocimientoVistaListaAdmin:hF},name:"AdminNodosConocimiento",apollo:{todosNodos:{query:pF,fetchPolicy:"cache-and-network"}},data(){return{idNodoSeleccionado:null,todosNodos:[]}},computed:{nodosOrdenados(){return this.usuarioLogeado?[...this.todosNodos].sort((e,t)=>{var o=0;return e.expertos.includes(this.usuario.id)&&o--,t.expertos.includes(this.usuario.id)&&o++,o}):this.todosNodos}}},vF={class:"adminNodosConocimiento"},gF={id:"listaNodos"};function yF(e,t,o,i,r,n){const s=Te("nodo-conocimiento-vista-lista-admin");return H(),Y("div",vF,[v("div",gF,[(H(!0),Y(Me,null,Ve(n.nodosOrdenados,a=>(H(),qe(s,{key:a.id,esteNodo:a},null,8,["esteNodo"]))),128))])])}const bF=Le(mF,[["render",yF],["__scopeId","data-v-cbc5b8c7"]]),wF={components:{Loading:ut},name:"NodoGrado",props:{esteNodo:Object,completado:Boolean,colorSubruta:String,seleccionado:Boolean,idUsuario:String},data(){return{menuCx:!1,mostrandoDescripcion:!1,togglingEstadoCompletado:!1}},computed:{colorBolita(){var e=this.colorSubruta;return this.completado&&(e="var(--atlasVerde)"),{backgroundColor:e}}},methods:{abrirDescripcion(){this.$emit("seleccioname"),this.mostrandoDescripcion=!0,this.menuCx=!1},abrirMenuCx(){this.$emit("seleccioname"),this.menuCx=!0},toggleCompletado(){if(!this.usuarioSuperadministrador&&!this.usuarioProfe){console.log("No autorizado");return}const e=!this.completado;this.togglingEstadoCompletado=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($idUsuario: ID!, $idNodo: ID!, $nuevoEstado: Boolean!) {
              setNodoGradoCompletadoUsuario(
                idUsuario: $idUsuario
                idNodo: $idNodo
                nuevoEstado: $nuevoEstado
              ) {
                id
                nodosCompletadosRutaGrado
              }
            }
          `,variables:{idUsuario:this.idUsuario,idNodo:this.esteNodo.id,nuevoEstado:e}}).then(()=>{this.togglingEstadoCompletado=!1}).catch(t=>{console.log("Error: "+t),this.togglingEstadoCompletado=!1})}},watch:{seleccionado(e){e||(this.menuCx=!1,this.mostrandoDescripcion=!1)}}},EF=e=>(Ge("data-v-2ff4edc1"),e=e(),Ke(),e),_F={id:"cartel"},SF=EF(()=>v("img",{src:Yi,alt:"Opciones",style:{}},null,-1)),AF=[SF];function NF(e,t,o,i,r,n){const s=Te("loading");return H(),Y("div",{class:de(["nodoGrado",o.seleccionado]),onContextmenu:t[5]||(t[5]=Ae((...a)=>n.abrirMenuCx&&n.abrirMenuCx(...a),["prevent"])),onDblclick:t[6]||(t[6]=Ae((...a)=>n.abrirDescripcion&&n.abrirDescripcion(...a),["stop"]))},[v("div",{id:"laBolita",class:de({seleccionado:o.seleccionado}),style:Re([n.colorBolita])},null,6),v("div",_F,[$e(ve(o.esteNodo.nombre)+" ",1),e.usuarioSuperadministrador||e.usuarioProfe?U((H(),Y("div",{key:0,class:"boton",id:"botonOpciones",onClick:t[0]||(t[0]=Ae((...a)=>n.abrirMenuCx&&n.abrirMenuCx(...a),["stop"]))},AF,512)),[[K,o.seleccionado]]):he("",!0)]),U(v("div",{class:"menuContextual",onClick:t[4]||(t[4]=Ae(()=>{},["stop"]))},[v("div",{class:"botonMenuCx",onClick:t[1]||(t[1]=(...a)=>n.abrirDescripcion&&n.abrirDescripcion(...a))},"Ver descripción"),e.usuarioSuperadministrador?(H(),Y("div",{key:0,class:"botonMenuCx",onClick:t[2]||(t[2]=a=>e.$emit("setColorSubruta"))}," Set color subruta ")):he("",!0),e.usuarioSuperadministrador||e.usuarioProfe?(H(),Y("div",{key:1,class:de(["botonMenuCx",{deshabilitado:r.togglingEstadoCompletado}]),onClick:t[3]||(t[3]=(...a)=>n.toggleCompletado&&n.toggleCompletado(...a))},[U(Se(s,null,null,512),[[K,r.togglingEstadoCompletado]]),$e(" "+ve(o.completado?"Desmarcar como completado":"Marcar como completado"),1)],2)):he("",!0)],512),[[K,r.menuCx]]),U(v("div",{id:"descripcion"},ve(o.esteNodo.descripcion),513),[[K,r.mostrandoDescripcion]])],34)}const CF=Le(wF,[["render",NF],["__scopeId","data-v-2ff4edc1"]]),TF={components:{NodoGrado:CF},name:"RutaGrado",props:{idUsuario:String},apollo:{subrutas:{query:Ce`
        query {
          subrutasGradoMaestraVida {
            id
            nombre
            color
            nodos {
              id
              nombre
              descripcion
            }
          }
        }
      `,update({subrutasGradoMaestraVida:e}){return e}},nodosCompletados:{query:Ce`
        query ($idUsuario: ID!) {
          Usuario(idUsuario: $idUsuario) {
            id
            nodosCompletadosRutaGrado
          }
        }
      `,update({Usuario:e}){return e.nodosCompletadosRutaGrado},variables(){return{idUsuario:this.idUsuario}}}},data(){return{subrutas:[],nodosCompletados:[],idNodoSeleccionado:null,settingColorSubruta:!1}},methods:{setColorSubruta(e){let t=prompt("Introduce el código del nuevo color");this.settingColorSubruta=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($idSubruta: ID!, $nuevoColor: String!) {
              setColorSubrutaGrado(
                idSubruta: $idSubruta
                nuevoColor: $nuevoColor
              ) {
                id
                color
              }
            }
          `,variables:{idSubruta:e,nuevoColor:t}}).then(()=>{this.settingColorSubruta=!1}).catch(o=>{console.log("Error: "+o),this.settingColorSubruta=!1})}},watch:{subrutas(){this.$nextTick(()=>{let e=this.$refs.laRutaGrado.scrollWidth;console.log("anchoScroll: "+e);let t=this.$refs.laRutaGrado.offsetWidth;console.log("ancho visible: "+t),this.$refs.laRutaGrado.scrollLeft=(e-t)/2})}}},i0=e=>(Ge("data-v-7096f49a"),e=e(),Ke(),e),xF=i0(()=>v("div",{id:"titulo",class:"tituloComponente"},"Ruta de grado",-1)),IF={id:"laRutaGrado",ref:"laRutaGrado"},DF=i0(()=>v("div",{class:"lineaRuta"},null,-1));function PF(e,t,o,i,r,n){const s=Te("nodo-grado");return H(),Y("div",{class:"rutaGrado",onClick:t[0]||(t[0]=a=>r.idNodoSeleccionado=null)},[xF,v("div",IF,[(H(!0),Y(Me,null,Ve(r.subrutas,a=>(H(),Y("div",{class:"subruta",key:a.id},[DF,(H(!0),Y(Me,null,Ve(a.nodos,l=>(H(),qe(s,{key:l.id,esteNodo:l,completado:r.nodosCompletados.includes(l.id),colorSubruta:a.color,seleccionado:r.idNodoSeleccionado===l.id,idUsuario:o.idUsuario,onSetColorSubruta:c=>n.setColorSubruta(a.id),onClick:Ae(c=>r.idNodoSeleccionado=r.idNodoSeleccionado===l.id?null:l.id,["stop"]),onSeleccioname:c=>r.idNodoSeleccionado=l.id},null,8,["esteNodo","completado","colorSubruta","seleccionado","idUsuario","onSetColorSubruta","onClick","onSeleccioname"]))),128))]))),128))],512)])}const n0=Le(TF,[["render",PF],["__scopeId","data-v-7096f49a"]]);var nc=/[^a-zA-Z0-9_ñÑ]/g;const _m=6,sc=4,kF={name:"LoginArea",components:{Loading:ut},data(){return{username:"",password:"",loginFail:!1,loginFailMsg:"",enviandoDatos:!1}},computed:{usuarioConectado(){return this.usuario.username!=null},nombreUsuario(){return this.usuario.username},colorUsername(){return{color:nc.test(this.username)||this.username.length<sc?"red":"black"}},passIlegal(){return this.password.length<_m},usernameIlegal(){return!!(!this.username||nc.test(this.username)||this.username.length<sc)}},methods:{iniciarSesion:function(){console.log("Iniciando login");let e=this;var t=this.$refs.inputPassword.value,o=this.$refs.inputUsername.value;if(console.log("Con pass length: "+this.password.length),this.password.length<_m){console.log("Password ilegal");return}if(nc.test(this.username)||this.username.length<sc){console.log("Username ilegal");return}this.enviandoDatos=!0,console.log("query"),this.$apollo.query({query:Pe`
            query ($username: String!, $password: String!) {
              login(username: $username, password: $password)
            }
          `,variables:{username:o,password:t}}).then(({data:{login:i}})=>{this.$emit("logearse",i),e.$router.push("/"),this.enviandoDatos=!1}).catch(i=>{console.log(`Error: ${i}`),this.enviandoDatos=!1})}}},tn=e=>(Ge("data-v-bcce45b1"),e=e(),Ke(),e),OF={id:"loginArea"},RF={id:"ventanaCentral"},MF=tn(()=>v("p",{id:"tituloVentana"},"¡Bienvenidx!",-1)),FF=tn(()=>v("br",null,null,-1)),BF=tn(()=>v("div",{class:"instruccion"},"Escribe tus datos de login",-1)),LF=tn(()=>v("br",null,null,-1)),$F=tn(()=>v("br",null,null,-1)),UF=tn(()=>v("br",null,null,-1));function qF(e,t,o,i,r,n){const s=Te("loading");return H(),Y("div",OF,[v("div",RF,[v("form",null,[MF,FF,BF,U(v("input",{type:"text",name:"username",style:Re(n.colorUsername),"onUpdate:modelValue":t[0]||(t[0]=a=>r.username=a),ref:"inputUsername",placeholder:"Nombre de usuario",class:"inputs",onInput:t[1]||(t[1]=a=>r.loginFail=!1)},null,36),[[je,r.username]]),LF,U(v("input",{type:"password",name:"password",ref:"inputPassword",class:"inputs","onUpdate:modelValue":t[2]||(t[2]=a=>r.password=a),placeholder:"password",onInput:t[3]||(t[3]=a=>r.loginFail=!1),onKeypress:t[4]||(t[4]=pt((...a)=>n.iniciarSesion&&n.iniciarSesion(...a),["enter"]))},null,544),[[je,r.password]]),$F,UF,U(Se(s,{texto:"Conectando..."},null,8,["texto"]),[[K,r.enviandoDatos]]),v("div",{class:de(["botonEnviar",{loginFail:r.loginFail,desaparecido:r.enviandoDatos,deshabilitado:n.passIlegal}]),onClick:t[5]||(t[5]=Ae((...a)=>n.iniciarSesion&&n.iniciarSesion(...a),["stop","prevent"]))},ve(r.loginFail?r.loginFailMsg:"Ingresar"),3)])])])}const jF=Le(kF,[["render",qF],["__scopeId","data-v-bcce45b1"]]),zF=/\s\s+/,Sm=6,VF=40,ni=Pe`
fragment fragEventoPersonal on EventoPersonal{
  id
  idPersona
  idsParticipantes
  idParent
  tipoParent
  nombre
  descripcion
  horarioInicio
  horarioFinal
  idEventoMarco
  lugar  

}
`,on=Pe`
fragment fragEventoPublico on EventoPublico{
  id
  nombre
  descripcion
  idAdministrador
  limiteDeCupos
  horarioInicio
  horarioFinal
  participantes
  lugar
  idParent
  tipoParent
  eventosEnmarcados{
    ...fragEventoPersonal
    nombresPersona
  }
}
${ni}
`,Am=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sábado"],Nm=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],vs={data(){return{}},computed:{tipoEvento(){return this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1)},dateInicio(){return new Date(this.esteEvento.horarioInicio)},fechaInicioFormateada(){return this.dateInicio.toISOString().split("T")[0]},fechaFinalFormateada(){return this.dateFinal.toISOString().split("T")[0]},dateFinal(){return new Date(this.esteEvento.horarioFinal)},horarioInicioFormateado(){return this.timesLegibles.horarioInicio.horas+":"+this.timesLegibles.horarioInicio.minutos},horarioFinalFormateado(){return this.timesLegibles.horarioFinal.horas+":"+this.timesLegibles.horarioFinal.minutos},fechaInicioLegible(){const e=Am[this.dateInicio.getDay()],t=this.dateInicio.getDate(),o=Nm[this.dateInicio.getMonth()];return e+" "+t+" de "+o},horaInicioLegible(){var e=this.dateInicio.getHours(),t=this.dateInicio.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateInicioLegible(){return this.fechaInicioLegible+", "+this.horaInicioLegible},fechaFinalLegible(){const e=Am[this.dateFinal.getDay()],t=this.dateFinal.getDate(),o=Nm[this.dateFinal.getMonth()];return e+" "+t+" de "+o},horaFinalLegible(){var e=this.dateFinal.getHours(),t=this.dateFinal.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateFinalLegible(){return this.fechaFinalLegible+", "+this.horaFinalLegible},timesLegibles(){const e=this.millisInicioLocal%864e5,t=this.millisFinalLocal%864e5;return{horarioInicio:{horas:Math.floor(e/36e5),minutos:e%36e5/6e4},horarioFinal:{horas:Math.floor(t/36e5),minutos:t%36e5/6e4}}},millisFinalLocal(){const e=new Date(this.esteEvento.horarioFinal),t=e.getTime(),o=e.getTimezoneOffset()*6e4;return t-o},millisInicioLocal(){const e=new Date(this.esteEvento.horarioInicio),t=e.getTime(),o=e.getTimezoneOffset()*6e4;return t-o},duracionMinutos(){return Math.round((new Date(this.esteEvento.horarioFinal).getTime()-new Date(this.esteEvento.horarioInicio).getTime())/6e4)},duracionLegible(){const e=Math.floor(this.duracionMinutos/1440),t=Math.floor((this.duracionMinutos-e*1440)/60),o=this.duracionMinutos-e*1440-t*60;var i="";return(o>0||this.duracionMinutos===0)&&(i=o+"min"),t>0&&(i.length>0&&(i=", "+i),i=t+"h"+i),e>0&&(i.length>0&&(i=", "+i),i=e+"dias"+i),i}},methods:{eliminarse(){confirm("¿Confirmar la eliminación de este evento? (Esta acción no puede deshacerse)")&&(!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(this.eliminandose=!0,this.$apollo.mutate({mutation:Ce`
                  mutation ($idEvento: ID!, $tipoEvento:String!) {
                    eliminarEvento(idEvento: $idEvento, tipoEvento:$tipoEvento)
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento}}).then(()=>{this.$emit("meElimine")}).catch(e=>{console.log(`Error: ${e}`)})))}}},Nf={data(){return{}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idAdministrador:!1}}},HF={data(){return{}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idPersona:!1}}},gs={data(){return{nuevoNombre:"Nuevo nombre",editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:"Nueva descripcion",editandoDescripcion:!1,enviandoNuevoDescripcion:!1,editandoFechaInicio:!1,editandoHoraInicio:!1,nuevoDuracion:null,enviandoNuevoDateInicio:!1,enviandoNuevoDateFinal:!1,enviandoHorarios:!1,enviandoSomeHorario:!1,nuevoLimiteDeCupos:null,editandoLimiteDeCupos:!1,enviandoNuevoLimiteDeCupos:!1,minRepetir:1,maxRepetir:52,enviandoQueryRepetir:!1}},methods:{guardarNuevoNombre(){if(this.nuevoNombre=this.$refs.inputNuevoNombre.value,this.nuevoNombreIlegal){console.log("No enviado");return}if(this.nuevoNombre==this.esteEvento.nombre){this.editandoNombre=!1;return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Ce`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoNombre: String!) {
                    editarNombreEvento(
                      idEvento: $idEvento
                      tipoEvento:$tipoEvento
                      nuevoNombre: $nuevoNombre
                    ) {
                    __typename
                    ... on EventoPersonal{
                        id
                      nombre
                    }
                    ... on EventoPublico{
                        id
                        nombre
                    }
                    
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoNombre:this.nuevoNombre}}).then(()=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(e=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${e}`)})},guardarNuevoLimiteDeCupos(){if(this.nuevoLimiteDeCupos=this.$refs.inputNuevoLimiteDeCupos.value,this.nuevoLimiteDeCuposIlegal){console.log("No enviado");return}if(this.nuevoLimiteDeCupos==this.esteEvento.limiteDeCupos){this.editandoLimiteDeCupos=!1;return}console.log("guardando nuevo limite de cupos"),this.enviandonuevoLimiteDeCupos=!0,this.$apollo.mutate({mutation:Ce`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoLimiteDeCupos: Int!) {
                    editarLimiteDeCuposEvento(
                      idEvento: $idEvento
                      tipoEvento:$tipoEvento
                      nuevoLimiteDeCupos: $nuevoLimiteDeCupos
                    ) {
                        id
                      limiteDeCupos                                      
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoLimiteDeCupos:parseInt(this.nuevoLimiteDeCupos)}}).then(()=>{this.enviandoNuevoLimiteDeCupos=!1,this.editandoLimiteDeCupos=!1}).catch(e=>{this.enviandoNuevoLimiteDeCupos=!1,console.log(`Error. E :${e}`)})},guardarNuevoDescripcion(){if(this.nuevoDescripcionIlegal){console.log("No enviado");return}if(this.nuevoDescripcion==this.esteEvento.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:Ce`
                  mutation ($idEvento: ID!, $tipoEvento:String!, $nuevoDescripcion: String!) {
                    editarDescripcionEvento(
                      idEvento: $idEvento
                      tipoEvento: $tipoEvento
                      nuevoDescripcion: $nuevoDescripcion
                    ) {
                        __typename
                        ... on EventoPublico{
                            id
                            descripcion  
                        }
                        ... on EventoPersonal{
                            id
                            descripcion  
                        }
                      
                    }
                  }
                `,variables:{idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento,nuevoDescripcion:this.nuevoDescripcion}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(e=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${e}`)})},toggleEditandoDescripcion(){this.administrador&&(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteEvento.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},toggleEditandoNombre(e){this.administrador&&(e.stopPropagation(),this.editandoNombre=!0,this.nuevoNombre=this.esteEvento.nombre,this.$nextTick(()=>{this.$refs.inputNuevoNombre.focus()}))},toggleEditandoLimiteDeCupos(e){this.administrador&&(e.stopPropagation(),this.editandoLimiteDeCupos=!0,this.nuevoLimiteDeCupos=this.esteEvento.limiteDeCupos,this.$nextTick(()=>{this.$refs.inputNuevoLimiteDeCupos.focus()}))},keydownInputNuevoNombre(e){e.key==="Escape"&&this.$refs.inputNuevoNombre.blur()},setHoraFinal(){var e="hh:mm";this.horaFinalLegible&&(e=this.horaFinalLegible);var t=prompt("Introducir nueva hora de finalización",e);const o=t.indexOf(":"),i=parseInt(t.substr(0,o)),r=parseInt(t.substr(o+1));if(i!=null&&r!=null&&i>=0&&i<24&&r>=0&&r<60){var n=new Date(this.diaCalendarioOver.date);n.setHours(i),n.setMinutes(r),console.log("Se fijará la nueva hora de final en "+n),this.enviarNuevoHorarioFinal(n)}else{console.log("Hora inválida");return}},setHoraInicio(){var e="hh:mm";this.horaInicioLegible&&(e=this.horaInicioLegible);var t=prompt("Introducir nueva hora de inicio",e);const o=t.indexOf(":"),i=parseInt(t.substr(0,o)),r=parseInt(t.substr(o+1));if(i!=null&&r!=null&&i>=0&&i<24&&r>=0&&r<60){var n=new Date(this.diaCalendarioOver.date);n.setHours(i),n.setMinutes(r),console.log("Se fijará la nueva hora de inicio en "+n),this.enviarNuevaDateInicioHoldDuration(n)}else{console.log("Hora inválida");return}},enviarNuevaDateInicioHoldDuration(e){this.enviandoNuevoDateInicio=!0,this.enviandoSomeHorario=!0,this.$apollo.mutate({mutation:Ce`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEventoHoldDuration(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ) {
                      __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      
                    }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.$emit("eventoCambioFecha",this.esteEvento),this.enviandoSomeHorario=!1,this.enviandoNuevoDateInicio=!1,this.editandoFechaInicio=!1,this.editandoHoraInicio=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateInicio=!1,this.enviandoSomeHorario=!1})},enviarNuevoHorarioFinal(e){this.enviandoNuevoDateFinal=!0,this.enviandoSomeHorario=!0,console.log(`Enviando nuevo horario final: ${e}`),this.$apollo.mutate({mutation:Ce`
                    mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                        setDateFinalEvento(
                        nuevoDate: $nuevoDate
                        tipoEvento: $tipoEvento
                        idEvento: $idEvento
                        ){
                                __typename
                            ... on EventoPersonal{
                                id
                                horarioInicio
                                horarioFinal
                            }
                            ... on EventoPublico{
                                id
                                horarioInicio
                                horarioFinal
                            }
                        }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1),idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1,this.editandoDuracion=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1})},iniciarEdicionDuracion(){this.nuevoDuracion=this.esteEvento.horarioFinal-this.esteEvento.horarioInicio,this.editandoDuracion=!0},repetirEvento(e,t){!this.usuarioSuperadministrador&&!this.administrador||(e=parseInt(e),!(e<this.minRepetir||e>this.maxRepetir)&&(console.log(`Se hara query de repetir este evento ${e} veces ${t}`),this.enviandoQueryRepetir=!0,this.$apollo.mutate({mutation:Ce`
                mutation($periodoRepetir: String, $cantidadRepetir: Int!, $idEvento:ID!, $tipoEvento:String!){
                  repetirEventoPeriodicamente(periodoRepetir:$periodoRepetir, cantidadRepetir: $cantidadRepetir, idEvento: $idEvento, tipoEvento:$tipoEvento){
                    __typename
                    ...on EventoPublico{
                        ...fragEventoPublico
                    }
                    ...on EventoPersonal{
                        ...fragEventoPersonal
                    }
                  }
                } 
                ${on}
                ${ni}
              `,variables:{periodoRepetir:t,cantidadRepetir:e,idEvento:this.esteEvento.id,tipoEvento:this.tipoEvento}}).then(({data:{repetirEventoPeriodicamente:o}})=>{o&&(this.$emit("meRepetiPeriodicamente",o),this.mostrandoZonaRepetir=!1),this.enviandoQueryRepetir=!1}).catch(o=>{console.log(`Error: ${o}`),this.enviandoQueryRepetir=!1})))}},computed:{nuevoNombreIlegal(){return!!(this.nuevoNombre.length<1||sl.test(this.nuevoNombre))},nuevoDescripcionIlegal(){return!!(!this.nuevoDescripcion||this.nuevoDescripcion.length<1||Kb.test(this.nuevoDescripcion))},nuevoLimiteDeCuposIlegal(){return!this.nuevoLimiteDeCupos||this.nuevoLimiteDeCupos<1}},watch:{mostrando(e){e!="descripcion"&&(this.editandoDescripcion=!1),e==="descripcion"&&(!this.esteEvento.descripcion||this.esteEvento.descripcion.length<1)&&(this.editandoDescripcion||this.toggleEditandoDescripcion())}}},s0={data(){return{}},methods:{}},a0={props:{idEventoSeleccionado:String,esteEvento:Object,horaPx:Number,seleccionado:Boolean,infoOffset:Object,diaCalendarioOver:Object,enfasis:String,idUsuarioTarget:String},data(){return{eliminandose:!1,recogido:!1}},computed:{duracionMinutos(){return(this.dateFinal.getTime()-this.dateInicio.getTime())/6e4},estiloSize(){return{width:this.duracionMinutos/60*this.horaPx+"px"}},estiloPos(){return{left:(this.dateInicio.getHours()*36e5+this.dateInicio.getMinutes()*6e4)/36e5*this.horaPx+"px",top:this.infoOffset?this.infoOffset.top+"px":"0px"}},estiloZ(){return{zIndex:this.seleccionado?10:0}},claseOffset(){return this.infoOffset.clase}},methods:{},watch:{dateInicio(e){console.log(`Cambio de date inicio. Ahora inicio en ${e}`),(e<this.diaCalendarioOver.date||e.getTime()>this.diaCalendarioOver.date.getTime()+864e5)&&(console.log(`${this.esteEvento.nombre} dice: Me cambiaron de día`),this.$emit("meCambiaronDia",this.esteEvento))}}},l0={data(){return{mostrando:null,esteEvento:{},editandoDateInicio:!1,editandoHorarioFinal:!1,editandoDuracion:!1,mostrandoZonaRepetir:!1,periodoRepetir:"diariamente",cantidadRepetir:1}},methods:{cerrarVentana(){const e=this.tipoEvento==="eventoPublico"?this.$route.path.search("ventanaEventoPublico"):this.tipoEvento==="eventoPersonal"?this.$route.path.search("ventanaEventoPersonal"):null;if(!e)return;const t=this.$route.path.substring(0,e-1);this.$router.push(t)},iniciarEdicionFechaInicio(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log(`Iniciando edicion de fecha inicio con ${this.fechaInicioString}`),this.$refs.inputFechaInicio.value=this.fechaInicioFormateada,this.editandoFechaInicio=!0,this.$nextTick(()=>{this.$refs.inputFechaInicio.focus()}))},iniciarEdicionHoraInicio(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(this.$refs.inputHoraInicio.value=this.horaInicioLegible,this.editandoHoraInicio=!0,this.$nextTick(()=>{this.$refs.inputHoraInicio.focus()}))},iniciarEdicionDuracion(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log(`Iniciando edicion de duración con ${this.duracionMinutos}`),this.$refs.inputDuracion.value=this.duracionMinutos,this.editandoDuracion=!0,this.$nextTick(()=>{this.$refs.inputDuracion.focus()}))},updateDuracion(e){console.log(`Updating duración to ${e} minutos`);const t=new Date(this.dateInicio.getTime()+e*6e4);this.enviarNuevoHorarioFinal(t)},enviarNuevoHorarioFinal(e){this.enviandoNuevoDateFinal=!0,this.enviandoSomeHorario=!0,console.log(`Enviando nuevo horario final: ${e}`),this.$apollo.mutate({mutation:Ce`
                    mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                        setDateFinalEvento(
                        nuevoDate: $nuevoDate
                        tipoEvento: $tipoEvento
                        idEvento: $idEvento
                        ){
                                __typename
                            ... on EventoPersonal{
                                id
                                horarioInicio
                                horarioFinal
                            }
                            ... on EventoPublico{
                                id
                                horarioInicio
                                horarioFinal
                            }
                        }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.esteEvento.__typename.charAt(0).toLowerCase()+this.esteEvento.__typename.slice(1),idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1,this.editandoDuracion=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateFinal=!1,this.enviandoSomeHorario=!1})},updateHorarioInicio(e){const t=e.target.value,o=parseInt(t.substring(0,2)),i=parseInt(t.substring(3));console.log(`nuevoTime: ${t}. ${o} horas y ${i} minutos`);const r=new Date(this.esteEvento.horarioFinal);var n=new Date(this.esteEvento.horarioInicio);console.log(`Actual date: ${n}`),n.setHours(o),n.setMinutes(i),console.log(`Nueva date inicio: ${n}`),!(n>r)&&(this.enviandoNuevoDateInicio=!0,this.$apollo.mutate({mutation:Ce`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEvento(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ){
                        __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                    }
                  }
                `,variables:{nuevoDate:n,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.enviandoNuevoDateInicio=!1,this.editandoDateInicio=!1}).catch(s=>{console.log(`Error: ${s}`),this.enviandoNuevoDateInicio=!1}))},iniciarEdicionHorarioFinal(){!this.administrador&&!this.usuarioSuperadministrador&&!this.usuarioProfe||(console.log("Iniciando edicion"),this.$refs.inputHorarioFinal.value=this.horaFinalString,this.editandoHorarioFinal=!0,this.$nextTick(()=>{this.$refs.inputHorarioFinal.focus()}))},updateHorarioFinal(e){const t=e.target.value,o=parseInt(t.substring(0,2)),i=parseInt(t.substring(3));console.log(`nuevoTime: ${t}. ${o} horas y ${i} minutos`);const r=new Date(this.esteEvento.horarioInicio);var n=new Date(this.esteEvento.horarioFinal);console.log(`Actual date: ${n}`),n.setHours(o),n.setMinutes(i),console.log(`Nueva date final: ${n}`),!(n<r)&&this.enviarNuevoHorarioFinal(n)},enviarNuevaDateInicioHoldDuration(e){this.enviandoNuevoDateInicio=!0,this.enviandoSomeHorario=!0,this.$apollo.mutate({mutation:Ce`
                  mutation ($nuevoDate: Date!, $tipoEvento: String!, $idEvento: ID!) {
                    setDateInicioEventoHoldDuration(
                      nuevoDate: $nuevoDate
                      tipoEvento: $tipoEvento
                      idEvento: $idEvento
                    ) {
                      __typename
                      ... on EventoPersonal{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      ... on EventoPublico{
                        id
                        horarioInicio
                        horarioFinal
                      }
                      
                    }
                  }
                `,variables:{nuevoDate:e,tipoEvento:this.tipoEvento,idEvento:this.esteEvento.id}}).then(()=>{this.$emit("eventoCambioFecha",this.esteEvento),this.enviandoSomeHorario=!1,this.enviandoNuevoDateInicio=!1,this.editandoFechaInicio=!1,this.editandoHoraInicio=!1}).catch(t=>{console.log(`Error: ${t}`),this.enviandoNuevoDateInicio=!1,this.enviandoSomeHorario=!1})},updateFechaInicioHoldDuration(e){console.log(`se hara update de fecha inicio holding duration. ${e}`);const t=new Date(e),o=t.getUTCDate(),i=t.getUTCMonth(),r=t.getUTCFullYear();var n=new Date(this.esteEvento.horarioInicio);n.setDate(o),n.setMonth(i),n.setFullYear(r),console.log(`Quedará: ${n}`),this.enviarNuevaDateInicioHoldDuration(n)},updateHoraInicioHoldDuration(e){console.log(`se hara update de hora inicio holding duration. ${e}`);const t=e.substring(0,2),o=e.substring(3);var i=new Date(this.esteEvento.horarioInicio);i.setHours(t),i.setMinutes(o),console.log(`Quedará: ${i}`),this.enviarNuevaDateInicioHoldDuration(i)}},computed:{horaInicioString(){return new Date(this.esteEvento.horarioInicio).toTimeString().substring(0,5)},horaFinalString(){return new Date(this.esteEvento.horarioFinal).toTimeString().substring(0,5)}}},WF={props:{idParent:String,tipoParent:String},data(){return{creandoEventoPersonalUnder:!1}},methods:{crearEventoPersonalUnder(){console.log("Creando evento personal under"),this.creandoEventoPersonalUnder=!0,this.$apollo.mutate({mutation:Ce`
                    mutation($infoEventoPersonal: InputCrearEventoPersonal){
                        crearEventoPersonal(infoEventoPersonal:$infoEventoPersonal){
                            ...fragEventoPersonal
                        }
                    }
                ${ni}
                `,variables:{infoEventoPersonal:{idPersona:this.idUsuarioTarget,idEventoMarco:this.esteEvento.id,idParent:this.idParent,tipoParent:this.tipoParent}}}).then(({data:{crearEventoPersonal:e}})=>{this.creandoEventoPersonalUnder=!1,this.$emit("creadoEventoPersonal",e)}).catch(e=>{console.log(`Error: ${e}`),this.creandoEventoPersonalUnder=!1})}}},Cf="/caracol/assets/calendarPlus-bcd804cb.svg",cl="/caracol/assets/expand-b151da43.svg",QF={name:"EventoPublicoCalendario",components:{IconoPersonaAutonomo:Zi,Loading:ut},props:{extranjero:Boolean},mixins:[vs,Nf,a0,WF,gs],data(){return{mostrando:null}},methods:{},computed:{}},ul=e=>(Ge("data-v-af923284"),e=e(),Ke(),e),GF={id:"zonaNombre"},KF={key:0,id:"cantidadAsistentes"},JF=ul(()=>v("img",{src:as,alt:"User",style:{height:"13px","margin-right":"6px"}},null,-1)),YF=ul(()=>v("img",{src:Cf,alt:"Asistir"},null,-1)),XF=[YF],ZF=ul(()=>v("img",{src:Nr,alt:"Eliminar"},null,-1)),eB=[ZF],tB=ul(()=>v("img",{src:cl,alt:"Expandir"},null,-1)),oB=[tB],rB={id:"contenedorMarcasTiempo"};function iB(e,t,o,i,r,n){const s=Te("icono-persona-autonomo"),a=Te("loading");return H(),Y("div",{class:de(["eventoPublicoCalendario",{deshabilitado:e.eliminandose,seleccionado:e.seleccionado,bloque:e.claseOffset==="bloque"||e.seleccionado,barra:e.claseOffset==="barra"&&!e.seleccionado}]),style:Re([e.estiloPos,e.estiloZ])},[v("div",{id:"barra",style:Re(e.estiloSize),class:de({seleccionado:e.seleccionado,administrador:e.administrador})},null,6),v("div",{id:"bloque",style:Re([e.estiloSize,{position:"relative"}]),class:de({extranjero:o.extranjero,seleccionado:e.seleccionado})},[v("div",GF,[v("div",{id:"elNombre",class:de({administrador:e.administrador})},ve(e.esteEvento.nombre),3)]),e.esteEvento.eventosEnmarcados&&e.esteEvento.eventosEnmarcados.length>0?(H(),Y("div",KF,[JF,$e(" "+ve(e.esteEvento.eventosEnmarcados.length)+ve(e.esteEvento.limiteDeCupos?"/"+e.esteEvento.limiteDeCupos:""),1)])):he("",!0),(e.idUsuarioTarget!=e.esteEvento.idAdministrador,H(),qe(s,{key:1,class:de({seleccionado:e.seleccionado}),style:{margin:"0px auto"},idPersona:e.esteEvento.idAdministrador,factorEscala:"0.7"},null,8,["class","idPersona","factorEscala"])),v("div",{id:"contenedorControlesEvento",class:de({seleccionado:e.seleccionado})},[e.usuarioLogeado&&e.idUsuarioTarget!=e.esteEvento.idAdministrador?U((H(),Y("div",{key:0,class:"boton botonControlEvento",title:"Asistir a este evento",onClick:t[0]||(t[0]=Ae((...l)=>e.crearEventoPersonalUnder&&e.crearEventoPersonalUnder(...l),["stop"]))},XF,512)),[[K,!e.creandoEventoPersonalUnder]]):he("",!0),U(Se(a,null,null,512),[[K,e.creandoEventoPersonalUnder]]),e.administrador||e.usuarioSuperadministrador?(H(),Y("div",{key:1,class:"boton botonControlEvento",title:"Eliminar este evento",onClick:t[1]||(t[1]=Ae((...l)=>e.eliminarse&&e.eliminarse(...l),["stop"]))},eB)):he("",!0),v("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[2]||(t[2]=Ae(l=>e.$router.push(e.$route.path+"/ventanaEventoPublico/"+e.esteEvento.id),["stop"]))},oB)],2)],6),U(v("div",rB,[v("div",{class:de(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateInicio}]),id:"marcaTiempoInicio",onClick:t[3]||(t[3]=(...l)=>e.setHoraInicio&&e.setHoraInicio(...l))},ve(e.horaInicioLegible),3),v("div",{class:de(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateFinal}]),id:"marcaTiempoFinal",onClick:t[4]||(t[4]=(...l)=>e.setHoraFinal&&e.setHoraFinal(...l))},ve(e.horaFinalLegible),3)],512),[[K,e.seleccionado]])],6)}const nB=Le(QF,[["render",iB],["__scopeId","data-v-af923284"]]),sB={name:"eventoPersonalCalendario",components:{},props:{esteEvento:Object,horaPx:Number,seleccionado:Boolean,infoOffset:Object,extranjero:Boolean,diaCalendarioOver:Object},mixins:[vs,a0,gs],data(){return{mostrando:null}},methods:{},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEvento.idPersona:!1},modo(){return"bloque"}}},c0=e=>(Ge("data-v-872b7272"),e=e(),Ke(),e),aB={id:"zonaNombre"},lB=c0(()=>v("img",{src:Nr,alt:"Eliminar"},null,-1)),cB=[lB],uB=c0(()=>v("img",{src:cl,alt:"Expandir"},null,-1)),dB=[uB],fB={id:"contenedorMarcasTiempo"};function hB(e,t,o,i,r,n){return H(),Y("div",{class:de(["eventoPersonalCalendario",{deshabilitado:e.eliminandose,seleccionado:o.seleccionado,bloque:e.claseOffset==="bloque"||o.seleccionado,barra:e.claseOffset==="barra"&&!o.seleccionado}]),style:Re([e.estiloPos,e.estiloZ])},[v("div",{id:"barra",style:Re(e.estiloSize),class:de({seleccionado:o.seleccionado,extranjero:o.extranjero})},null,6),v("div",{id:"bloque",style:Re(e.estiloSize),class:de({extranjero:o.extranjero,seleccionado:o.seleccionado,deNodoSolidaridad:o.esteEvento.tipoParent==="nodoSolidaridad"})},[v("div",aB,[v("div",{id:"elNombre",class:de({administrador:n.administrador})},ve(o.esteEvento.nombre),3)]),v("div",{id:"contenedorControlesEvento",class:de({seleccionado:o.seleccionado})},[n.administrador||e.usuarioSuperadministrador||e.usuarioProfe?(H(),Y("div",{key:0,class:"boton botonControlEvento",title:"Eliminar este evento",onClick:t[0]||(t[0]=Ae((...s)=>e.eliminarse&&e.eliminarse(...s),["stop"]))},cB)):he("",!0),v("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[1]||(t[1]=Ae(s=>e.$router.push(e.$route.path+"/ventanaEventoPersonal/"+o.esteEvento.id),["stop"]))},dB)],2)],6),U(v("div",fB,[v("div",{class:de(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateInicio}]),id:"marcaTiempoInicio",onClick:t[2]||(t[2]=(...s)=>e.setHoraInicio&&e.setHoraInicio(...s))},ve(e.horaInicioLegible),3),v("div",{class:de(["marcaTiempo",{deshabilitado:e.enviandoNuevoDateFinal}]),id:"marcaTiempoFinal",onClick:t[3]||(t[3]=(...s)=>e.setHoraFinal&&e.setHoraFinal(...s))},ve(e.horaFinalLegible),3)],512),[[K,o.seleccionado]])],6)}const pB=Le(sB,[["render",hB],["__scopeId","data-v-872b7272"]]),ac=Ce`
  query ($dateInicioDia: Date!) {
    eventosPublicosDia(dateInicioDia: $dateInicioDia) {
      ...fragEventoPublico
    }
  }
  ${on}
`,lc=Ce`
  query ($dateInicioDia: Date!, $idUsuario: ID!) {
    eventosPersonalesDia(dateInicioDia: $dateInicioDia, idUsuario: $idUsuario) {
      ...fragEventoPersonal
    }
  }
  ${ni}
`,mB=Ce`
  query ($dateInicioDia: Date!, $idParent: ID!, $tipoParent: String!) {
    eventosPersonalesDeParentDia(
      dateInicioDia: $dateInicioDia
      idParent: $idParent
      tipoParent: $tipoParent
    ) {
      ...fragEventoPersonal
    }
  }
  ${ni}
`,vB={components:{EventoPublicoCalendario:nB,EventoPersonalCalendario:pB,Loading:ut},name:"DiaCalendario",apollo:{eventosPublicosDia:{query:ac,variables(){return{dateInicioDia:this.esteDia.date}},fetchPolicy:"cache-and-network"},eventosPersonalesDia:{query:lc,variables(){return{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}},skip(){return!this.usuarioLogeado},fetchPolicy:"cache-and-network"},eventosPersonalesDeParentDia:{query:mB,variables(){return{dateInicioDia:this.esteDia.date,idParent:this.idParent,tipoParent:this.tipoParent}},skip(){return this.tipoParent!="nodoSolidaridad"||!this.usuarioLogeado||!this.idParent},fetchPolicy:"cache-and-network"}},props:{hoy:Boolean,esteDia:Object,eventoSiendoCreado:Object,horaPx:Number,scrollXCalendario:Number,idParent:String,idEventoSeleccionado:String,idUsuarioTarget:String,tipoParent:String,enfasis:String,modoEventosPublicosExtranjeros:String,usuarioVeEventosPublicos:Boolean},data(){return{eventosPublicosDia:[],eventosPersonalesDia:[],eventosPersonalesDeParentDia:[],abierto:!1,creandoEvento:!1}},methods:{clickContenedorEventos(e){if(console.log("Click en el contenedor de eventos"),this.eventoSiendoCreado){var t=JSON.parse(JSON.stringify(this.eventoSiendoCreado));this.$emit("iniciaCreacionEvento");const s=this.$refs.contenedorEventos.getBoundingClientRect(),a=e.pageX-s.left,l=a/this.horaPx;var o=Math.round((l-Math.floor(l))*60);o=Math.floor(o/15)*15;const c={horas:Math.floor(l),minutos:o},u=this.esteDia.date.getTime()+c.horas*60*6e4+c.minutos*6e4;console.log(`En ${a} -> ${c.horas}: ${c.minutos}`),console.log(`Date centralh: ${this.esteDia.date.getTime()+c.horas+c.minutos*6e4}`);var i=u,r=u+36e5;console.log(`Quedará entre: ${new Date(i)} y ${new Date(r)}`),t.horarioInicio=new Date(i),t.horarioFinal=new Date(r),t.tipoEvento==="eventoPublico"?(delete t.tipoEvento,this.crearEventoPublico(t)):t.tipoEvento==="eventoPersonal"?(delete t.tipoEvento,this.crearEventoPersonal(t)):console.log(`Tipo ${t.tipoEvento} no reconocido`)}else this.idEventoSeleccionado&&this.$emit("desSeleccionDeEvento")},addEventoCache(e){const t=new Date(e.horarioInicio).getTime(),o=this.esteDia.date.getTime(),i=this.esteDia.date.getTime()+864e5;if(t<o||t>i)return;const r=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var n=null;if(r==="eventoPublico")n={query:ac,variables:{dateInicioDia:this.esteDia.date}};else if(r==="eventoPersonal")n={query:lc,variables:{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}};else{console.log(`Tipo evento ${r} no reconocido`);return}const s=this.$apollo.provider.defaultClient,a=s.readQuery({...n});var l=JSON.parse(JSON.stringify(a)),c=null;r==="eventoPublico"?c=l.eventosPublicosDia:r==="eventoPersonal"&&(c=l.eventosPersonalesDia),c.findIndex(d=>d.id===e.id)===-1&&(c.push(e),s.writeQuery({...n,data:l}))},crearEventoPublico(e){console.log(`Creando un evento publico con info ${JSON.stringify(e)}`),this.creandoEvento=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($infoNuevoEvento: InputCrearEventoPublico) {
              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {
                ...fragEventoPublico
              }
            }
            ${on}
          `,variables:{infoNuevoEvento:e}}).then(({data:{crearEventoPublico:t}})=>{this.creandoEvento=!1,this.addEventoCache(t),this.$emit("cambioEventos")}).catch(t=>{console.log(`Error: ${t}`),this.creandoEvento=!1})},crearEventoPersonal(e){console.log(`Creando un evento personal con info ${JSON.stringify(e)}`),this.creandoEvento=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($infoEventoPersonal: InputCrearEventoPersonal) {
              crearEventoPersonal(infoEventoPersonal: $infoEventoPersonal) {
                ...fragEventoPersonal
              }
            }
            ${ni}
          `,variables:{infoEventoPersonal:{...e,idPersona:this.idUsuarioTarget}}}).then(({data:{crearEventoPersonal:t}})=>{this.creandoEvento=!1,this.addEventoCache(t),this.$emit("cambioEventos")}).catch(t=>{console.log(`Error: ${t}`),this.creandoEvento=!1})},deleteEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);console.log(`Deleting ${t} ${e.nombre} from cache`);var o=null;if(t==="eventoPublico")o={query:ac,variables:{dateInicioDia:this.esteDia.date}};else if(t==="eventoPersonal")o={query:lc,variables:{dateInicioDia:this.esteDia.date,idUsuario:this.idUsuarioTarget}};else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,r=i.readQuery({...o});var n=JSON.parse(JSON.stringify(r)),s=null;t==="eventoPublico"?s=n.eventosPublicosDia:t==="eventoPersonal"&&(s=n.eventosPersonalesDia);const a=s.findIndex(l=>l.id===e.id);a>-1&&(s.splice(a,1),i.writeQuery({...o,data:n}))}},computed:{diaSemana(){return["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"][this.esteDia.date.getDay()]},diaYMes(){const e=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];return this.esteDia.date.getDate()+" de "+e[this.esteDia.date.getMonth()]},eventosPublicosVisibles(){return this.enfasis==="eventosPublicos"?this.modoEventosPublicosExtranjeros==="invisibles"?this.eventosPublicosDia.filter(e=>e.idParent===this.idParent||e.idAdministrador===this.idUsuarioTarget):this.eventosPublicosDia:this.enfasis==="eventosPersonales"?this.usuarioVeEventosPublicos?this.eventosPublicosDia:this.eventosPublicosDia.filter(e=>e.idAdministrador===this.idUsuarioTarget):[]},eventosPublicosUsuarioTarget(){return this.eventosPublicosDia.filter(e=>e.idAdministrador===this.idUsuarioTarget)},estiloSizeContenedorEventos(){const e=Object.values(this.indiceOffset).reduce((t,o)=>o.top+o.height>t?o.top+o.height:t,0);return{width:this.horaPx*24+"px",height:e+45+"px"}},cantidadEventosPublicos(){return this.eventosPublicosDia.length},cantidadEventosRelevantes(){return this.enfasis==="eventosPublicos"?this.idParent?this.eventosPublicosDia.filter(e=>e.idParent===this.idParent).length:this.cantidadEventosPublicos:this.enfasis==="eventosPersonales"?this.idParent?this.eventosPersonalesDia.filter(e=>e.idParent===this.idParent).length:this.eventosPersonalesDia.length+this.eventosPublicosUsuarioTarget.length:0},indiceOffset(){var r={};if(!this.usuarioLogeado)return console.log("Cancelando índice offset"),null;this.todosEventosPersonalesDia.forEach(s=>{let a=160,l="bloque",c=5;this.enfasis==="eventosPersonales"?this.idParent&&s.idParent!=this.idParent&&(a=15,l="barra"):(a=15,l="barra"),r[s.id]={evento:s,top:c,height:a,bordeBot:c+a,clase:l}});var n=JSON.parse(JSON.stringify(this.eventosPublicosVisibles));return n.sort((s,a)=>{var l=0;return(s.idAdministrador===this.idUsuarioTarget||this.eventosPersonalesDia.some(c=>c.idEventoMarco===s.id))&&l++,(a.idAdministrador===this.idUsuarioTarget||this.eventosPersonalesDia.some(c=>c.idEventoMarco===a.id))&&l--,-l}),n.forEach(s=>{let a=this.eventosPersonalesDia.some(d=>d.idEventoMarco===s.id),l=160,c="bloque";this.enfasis==="eventosPublicos"&&s.idParent!=this.idParent&&this.modoEventosPublicosExtranjeros!="full"&&(l=15,c="barra");let u=0;this.enfasis==="eventosPersonales"&&a?u=30:u=Object.entries(r).map(f=>f[1]).filter(f=>{const g=f.evento.horarioInicio>s.horarioInicio&&f.evento.horarioInicio<s.horarioFinal,y=f.evento.horarioFinal>s.horarioInicio&&f.evento.horarioFinal<s.horarioFinal,T=f.evento.horarioInicio<=s.horarioInicio&&f.evento.horarioFinal>=s.horarioFinal;return g||y||T}).reduce((f,g)=>g.bordeBot>f?g.bordeBot:f,0)+5,r[s.id]={evento:s,top:u,height:l,bordeBot:u+l+15,clase:c}}),r},todosEventosPersonalesDia(){return this.eventosPersonalesDia.concat(this.eventosPersonalesDeParentDia.filter(e=>!this.eventosPersonalesDia.map(t=>t.id).includes(e.id)))},estiloSizeHora(){return{width:this.horaPx+"px"}},downloadingData(){return this.$apollo.queries.eventosPersonalesDeParentDia&&this.$apollo.queries.eventosPersonalesDeParentDia.loading||this.$apollo.queries.eventosPublicosDia&&this.$apollo.queries.eventosPublicosDia.loading||this.$apollo.queries.eventosPersonalesDia&&this.$apollo.queries.eventosPersonalesDia.loading}},watch:{},mounted(){const e=new Date().getHours();console.log(`Scrolling into ${e}`),this.$nextTick(()=>{this.$refs.labelsHoras[8].scrollIntoView({block:"nearest",inline:"start"})})}},gB={id:"barraSuperior"},yB={id:"fechaDia"},bB={id:"cantidadesEventos"},wB={id:"contenedorContenido"},EB={id:"barraHoras"};function _B(e,t,o,i,r,n){const s=Te("loading"),a=Te("evento-publico-calendario"),l=Te("evento-personal-calendario");return H(),Y("div",{class:de(["diaCalendario",{abierto:r.abierto}])},[v("div",gB,[v("div",{id:"bloqueTituloDia",onClick:t[0]||(t[0]=c=>e.$emit("regresar"))},[v("div",{id:"nombreDia",class:de({hoy:o.hoy})},ve(n.diaSemana),3),v("div",yB,ve(n.diaYMes),1),v("div",bB,ve(n.cantidadEventosRelevantes?"("+n.cantidadEventosRelevantes+")":""),1)])]),U(Se(s,{texto:""},null,512),[[K,n.downloadingData]]),v("div",wB,[v("div",EB,[(H(),Y(Me,null,Ve(24,c=>v("div",{ref_for:!0,ref:"labelsHoras",class:"hora",style:Re([n.estiloSizeHora]),key:"hora"+(c-1)},ve(c-1)+":00 ",5)),64))]),U(v("div",{id:"contenedorEventos",ref:"contenedorEventos",style:Re([n.estiloSizeContenedorEventos]),onClick:t[2]||(t[2]=Ae((...c)=>n.clickContenedorEventos&&n.clickContenedorEventos(...c),["self"]))},[(H(!0),Y(Me,null,Ve(n.eventosPublicosVisibles,c=>(H(),qe(a,{horaPx:o.horaPx,key:c.id,esteEvento:c,extranjero:!o.idParent||o.idParent!=c.idParent,idUsuarioTarget:o.idUsuarioTarget,seleccionado:o.idEventoSeleccionado===c.id,infoOffset:n.indiceOffset[c.id],diaCalendarioOver:o.esteDia,enfasis:o.enfasis,idParent:o.idParent,tipoParent:o.tipoParent,onMeElimine:u=>{n.deleteEventoCache(c),e.$emit("cambioEventos")},onClick:u=>e.$emit("clickEnEvento",c),onMeCambiaronDia:u=>{n.deleteEventoCache(c),e.$emit("cambioEventos")},onCreadoEventoPersonal:t[1]||(t[1]=u=>{n.addEventoCache(u),e.$emit("cambioEventos")})},null,8,["horaPx","esteEvento","extranjero","idUsuarioTarget","seleccionado","infoOffset","diaCalendarioOver","enfasis","idParent","tipoParent","onMeElimine","onClick","onMeCambiaronDia"]))),128)),(H(!0),Y(Me,null,Ve(n.todosEventosPersonalesDia||[],c=>(H(),qe(l,{horaPx:o.horaPx,key:c.id,esteEvento:c,seleccionado:o.idEventoSeleccionado===c.id,infoOffset:n.indiceOffset[c.id],diaCalendarioOver:o.esteDia,enfasis:o.enfasis,extranjero:o.idUsuarioTarget!=c.idPersona&&!c.idsParticipantes.includes(o.idUsuarioTarget),onMeElimine:u=>{n.deleteEventoCache(c),e.$emit("cambioEventos")},onClick:u=>e.$emit("clickEnEvento",c),onMeCambiaronDia:u=>{n.deleteEventoCache(c),e.$emit("cambioEventos")}},null,8,["horaPx","esteEvento","seleccionado","infoOffset","diaCalendarioOver","enfasis","extranjero","onMeElimine","onClick","onMeCambiaronDia"]))),128))],4),[[K,!n.downloadingData]])])],2)}const SB=Le(vB,[["render",_B],["__scopeId","data-v-c9dd8354"]]),u0="/caracol/assets/calendarPublic-ec76bdc7.svg",AB="/caracol/assets/thList-83b8594b.svg",d0="/caracol/assets/relojArena-1f4db0c5.svg",f0="/caracol/assets/broom-342f8f84.svg",NB={components:{DiaCalendario:SB,Loading:ut},name:"Calendario",props:{idParent:String,idUsuarioTarget:String,tipoParent:String,enfasis:String},apollo:{cantidadEventosRelevantesMes:{query:Ce`
        query (
          $year: Int!
          $mes: Int!
          $idParent: ID!
          $tipoParent: String!
          $timeZoneOffset: Int!
        ) {
          cantidadEventosRelevantesMes(
            year: $year
            mes: $mes
            idParent: $idParent
            tipoParent: $tipoParent
            timeZoneOffset: $timeZoneOffset
          ) {
            dia
            cantidadEventos
          }
        }
      `,variables(){return{year:this.yearSeleccionado,mes:parseInt(this.numeroMesSeleccionado),idParent:this.idParent?this.idParent:this.idUsuarioTarget,tipoParent:this.tipoParent?this.tipoParent:"usuario",timeZoneOffset:new Date().getTimezoneOffset()}},fetchPolicy:"cache-and-network"}},data(){const e=new Date(Date.now());return e.setHours(0),e.setMinutes(0),e.setSeconds(0),{cantidadEventosRelevantesMes:[],nombresDiasSemana:["Lunes","Martes","Miércoles","Jueves","Viernes","Sabado","Domingo"],nombresMeses:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dateHoy:e,primerDia:{date:e,horaActual:new Date(Date.now()).getHours()},numeroMesSeleccionado:e.getMonth(),seleccionandoMes:!1,yearSeleccionado:e.getFullYear(),numeroDiaSeleccionado:null,eventoSiendoCreado:null,horaPx:100,scrollX:0,idEventoSeleccionado:null,modoEventosPublicosExtranjeros:"invisibles",diasRendered:[{date:e}],usuarioVeEventosPublicos:!1,tomandoAccion:null,enviandoAccionIntervalo:!1}},computed:{tipoEventoSiendoCreado(){return this.eventoSiendoCreado?this.eventoSiendoCreado.tipoEvento:null},offsetScroll(){return{left:10+this.scrollX+"px"}},nombreMesSeleccionado(){return this.nombresMeses[parseInt(this.numeroMesSeleccionado)]},lengthMonthSeleccionado(){return new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado+1),0).getDate()},diasMargenInicio(){return new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),0).getDay()},estiloMargenInicio(){return{width:this.diasMargenInicio*14+"%"}},diaSeleccionado(){return this.numeroDiaSeleccionado?{date:new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),this.numeroDiaSeleccionado,0)}:null},semanasMes(){console.log("Calculando semanasMes");const e=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Dia semana inicio de mes: ${e}`);const t=e===0?7:e,o=Math.floor(this.lengthMonthSeleccionado/7);console.log(`${o} semanas completas`);const i=this.lengthMonthSeleccionado-o*7;console.log(`${i} dias sobrantes`);var r=o;return t>1&&r++,(i+t>7||i>0&&t===1)&&r++,r}},methods:{iniciarSeleccionandoMes(){this.seleccionandoMes=!0,this.$nextTick(()=>{this.$refs.selectMes.click()})},repetirEventosSemana(e){console.log(`Se repetirán los eventos de la semana ${e}`);var t=parseInt(prompt("¿Cuantas veces quieres repetir el horario de esta semana?",0));if(t<1||t>52){console.log("Valor de repeticiones inválido");return}const o=1e3*60*60*24,i=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Primer dia mes: ${i}`);const r=i===0?7:i,n=new Date(new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getTime()+o*7*e-(r-1)*o),s=new Date(n.getTime()+o*7);this.repetirEventosInterval(n,s,this.idParent?this.idParent:this.idUsuarioTarget,this.tipoParent?this.tipoParent:"usuario",this.idUsuarioTarget,t)},repetirEventosInterval(e,t,o,i,r,n){console.log(`Se repetiran los eventos que están entre ${e} y ${t}, ${n} veces`),this.$apollo.mutate({mutation:Ce`
            mutation (
              $idParent: ID!
              $tipoParent: String!
              $idUsuario: ID!
              $numRepeticiones: Int!
              $dateFrom: Date!
              $dateTo: Date!
            ) {
              repetirEventosTroughInterval(
                idParent: $idParent
                tipoParent: $tipoParent
                idUsuario: $idUsuario
                numRepeticiones: $numRepeticiones
                dateFrom: $dateFrom
                dateTo: $dateTo
              )
            }
          `,variables:{idParent:this.idParent?this.idParent:this.idUsuarioTarget,tipoParent:this.tipoParent?this.tipoParent:"usuario",idUsuario:this.idUsuarioTarget,numRepeticiones:n,dateFrom:e,dateTo:t}}).then(()=>{this.reloadEventosRelevantes(),alert("Operación completada")}).catch(s=>{console.log(`Error: ${s}`),this.enviandoAccionIntervalo=!1})},deleteEventosSemana(e){if(console.log(`Se eliminaran los eventos de la semana ${e}`),!confirm("¿Confirmar la eliminación de los eventos de esta semana? (Esta acción no puede deshacerse)"))return;const t=1e3*60*60*24,o=new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getDay();console.log(`Primer dia mes: ${o}`);const i=o===0?7:o;console.log(`Primer dia mes corregido: ${i}`);const r=new Date(new Date(this.yearSeleccionado,parseInt(this.numeroMesSeleccionado),1).getTime()+t*7*e-(i-1)*t),n=new Date(r.getTime()+t*7);this.deleteEventosInterval(r,n,this.idParent?this.idParent:this.idUsuarioTarget,this.tipoParent?this.tipoParent:"usuario",this.idUsuarioTarget)},deleteEventosInterval(e,t,o,i,r){console.log(`Se eliminarán los eventos que están entre ${e} y ${t}`),this.enviandoAccionIntervalo=!0,this.$apollo.mutate({mutation:Ce`
            mutation (
              $idParent: ID!
              $tipoParent: String!
              $idUsuario: ID!
              $dateFrom: Date!
              $dateTo: Date!
            ) {
              deleteEventosTroughInterval(
                idParent: $idParent
                tipoParent: $tipoParent
                idUsuario: $idUsuario
                dateFrom: $dateFrom
                dateTo: $dateTo
              )
            }
          `,variables:{idParent:o,tipoParent:i,idUsuario:r,dateFrom:e,dateTo:t}}).then(()=>{this.reloadEventosRelevantes(),this.enviandoAccionIntervalo=!1,alert("Operación completada")}).catch(n=>{console.log(`Error: ${n}`),this.enviandoAccionIntervalo=!1})},reloadEventosRelevantes:Xa(function(){console.log("Reloading cantidades mes"),this.$apollo.queries.cantidadEventosRelevantesMes.refetch()},1e3)},watch:{numeroMesSeleccionado(){this.seleccionandoMes=!1}}},si=e=>(Ge("data-v-154c2262"),e=e(),Ke(),e),CB={id:"contenedorControlesCalendario",class:"contenedorControles"},TB=["title"],xB=si(()=>v("img",{src:u0,alt:"Evento publico"},null,-1)),IB=[xB],DB=["title"],PB=si(()=>v("img",{src:u0,alt:"Evento publico"},null,-1)),kB=[PB],OB=["title"],RB=si(()=>v("img",{src:AB,alt:"Lista"},null,-1)),MB=[RB],FB={id:"bloqueSelect"},BB={id:"barraFecha"},LB={id:"bloqueMes"},$B=["value"],UB={id:"bloqueYear",style:{"margin-left":"auto"}},qB={id:"nombreYear"},jB={id:"barraDiasSemana"},zB={id:"contenedorMesh"},VB=["onClick"],HB={class:"numeroDia"},WB={class:"laCantidad"},QB={id:"contenedorBotonesDia"},GB=si(()=>v("div",{class:"boton",title:"Repetir los eventos de este día"},[v("img",{src:d0,alt:"Reloj"})],-1)),KB=si(()=>v("div",{class:"boton",title:"Eliminar todos los eventos de este día"},[v("img",{src:f0,alt:"Limpiar"})],-1)),JB=[GB,KB],YB={id:"representacionSemanas"},XB={id:"contenedorBotonesSemana"},ZB=["onClick"],eL=si(()=>v("img",{src:d0,alt:"Reloj"},null,-1)),tL=[eL],oL=["onClick"],rL=si(()=>v("img",{src:f0,alt:"Limpiar"},null,-1)),iL=[rL];function nL(e,t,o,i,r,n){const s=Te("loading"),a=Te("dia-calendario");return H(),Y("div",{class:de(["calendario",{eventoSiendoCreado:r.eventoSiendoCreado}])},[v("div",CB,[e.usuarioLogeado&&e.usuario.permisos&&e.usuario.permisos.includes("maestraVida-profesor")?U((H(),Y("div",{key:0,class:"boton",onClick:t[0]||(t[0]=l=>r.modoEventosPublicosExtranjeros==="invisibles"?r.modoEventosPublicosExtranjeros="full":r.modoEventosPublicosExtranjeros==="full"?r.modoEventosPublicosExtranjeros="barra":r.modoEventosPublicosExtranjeros="invisibles"),style:Re({opacity:r.modoEventosPublicosExtranjeros==="invisibles"?.4:r.modoEventosPublicosExtranjeros==="full"?1:.7}),title:r.modoEventosPublicosExtranjeros==="invisibles"?"Mostrar todos los eventos públicos":r.modoEventosPublicosExtranjeros==="full"?"Minimizar otros eventos públicos":"Ocultar otros eventos públicos"},IB,12,TB)),[[K,o.enfasis==="eventosPublicos"]]):he("",!0),o.enfasis==="eventosPersonales"?(H(),Y("div",{key:1,class:"boton",onClick:t[1]||(t[1]=l=>r.usuarioVeEventosPublicos=!r.usuarioVeEventosPublicos),title:r.usuarioVeEventosPublicos?"Ocultar eventos públicos":"Mostrar eventos públicos",style:Re([{opacity:r.usuarioVeEventosPublicos?1:.5}])},kB,12,DB)):he("",!0),U(v("div",{class:"boton",title:r.tomandoAccion==="semana"?"Cancelar":r.tomandoAccion==="dia"?"Editar semanas":"Editar días",onClick:t[2]||(t[2]=l=>r.tomandoAccion=r.tomandoAccion==="semana"?null:(r.tomandoAccion==="dia","semana")),style:Re([{opacity:r.tomandoAccion?1:.5}])},MB,12,OB),[[K,e.usuario&&e.usuario.id===o.idUsuarioTarget||e.usuarioSuperadministrador||e.usuarioProfe]])]),U(v("div",FB,[v("div",BB,[v("div",LB,[U(v("div",{id:"nombreMes",onClick:t[3]||(t[3]=(...l)=>n.iniciarSeleccionandoMes&&n.iniciarSeleccionandoMes(...l))},ve(n.nombreMesSeleccionado),513),[[K,!r.seleccionandoMes]]),U(v("select",{ref:"selectMes",id:"selectMes","onUpdate:modelValue":t[4]||(t[4]=l=>r.numeroMesSeleccionado=l)},[(H(!0),Y(Me,null,Ve(r.nombresMeses,(l,c)=>(H(),Y("option",{value:c,key:"selector"+l},ve(l),9,$B))),128))],512),[[is,r.numeroMesSeleccionado],[K,r.seleccionandoMes]])]),U(Se(s,{texto:""},null,512),[[K,e.$apollo.queries.cantidadEventosRelevantesMes.loading]]),v("div",UB,[v("div",qB,ve(r.yearSeleccionado),1)])]),v("div",jB,[(H(),Y(Me,null,Ve(7,l=>v("div",{class:"diaSemana",key:"diaSemana"+l},ve(r.nombresDiasSemana[l-1].charAt(0)),1)),64))]),v("div",zB,[v("div",{id:"margenInicio",style:Re([n.estiloMargenInicio])},null,4),(H(!0),Y(Me,null,Ve(n.lengthMonthSeleccionado,l=>(H(),Y("div",{class:de(["selectorDia",{hoy:r.dateHoy.getFullYear()===r.yearSeleccionado&&r.dateHoy.getMonth()===parseInt(r.numeroMesSeleccionado)&&r.dateHoy.getDate()===l}]),key:"selectorDia"+l,onClick:c=>r.numeroDiaSeleccionado=l},[v("div",HB,ve(l)+ve(r.dateHoy.getFullYear()===r.yearSeleccionado&&r.dateHoy.getMonth()===parseInt(r.numeroMesSeleccionado)&&r.dateHoy.getDate()===l?" Hoy":""),1),r.cantidadEventosRelevantesMes.some(c=>c.dia===l)?(H(),Y("div",{key:0,class:"bolitaCantidadEventosRelevantes",style:Re([{opacity:r.tomandoAccion==="dia"?.4:1}])},[v("div",WB,ve(r.cantidadEventosRelevantesMes.find(c=>c.dia===l).cantidadEventos),1)],4)):he("",!0),U(v("div",QB,JB,512),[[K,r.tomandoAccion==="dia"]])],10,VB))),128)),U(v("div",YB,[(H(!0),Y(Me,null,Ve(n.semanasMes,(l,c)=>(H(),Y("div",{class:"semana",key:"semana"+l},[v("div",XB,[v("div",{class:"boton",title:"Repetir los eventos de esta semana",onClick:u=>n.repetirEventosSemana(c)},tL,8,ZB),v("div",{class:"boton",title:"Eliminar todos los eventos de esta semana",onClick:u=>n.deleteEventosSemana(c)},iL,8,oL)])]))),128))],512),[[K,r.tomandoAccion==="semana"]])])],512),[[K,!n.diaSeleccionado]]),n.diaSeleccionado?(H(),qe(a,{eventoSiendoCreado:r.eventoSiendoCreado,hoy:r.dateHoy.getTime()===n.diaSeleccionado.date.getTime(),key:"dia"+n.diaSeleccionado.date.getTime(),esteDia:n.diaSeleccionado,horaPx:r.horaPx,scrollXCalendario:r.scrollX,idParent:o.idParent,idEventoSeleccionado:r.idEventoSeleccionado,idUsuarioTarget:o.idUsuarioTarget,tipoParent:o.tipoParent,enfasis:o.enfasis,modoEventosPublicosExtranjeros:r.modoEventosPublicosExtranjeros,usuarioVeEventosPublicos:r.usuarioVeEventosPublicos,onRegresar:t[5]||(t[5]=l=>r.numeroDiaSeleccionado=null),onIniciaCreacionEvento:t[6]||(t[6]=l=>e.$emit("iniciaCreacionEvento")),onClickEnEvento:t[7]||(t[7]=l=>r.idEventoSeleccionado=l.id),onDesSeleccionDeEvento:t[8]||(t[8]=l=>r.idEventoSeleccionado=null),onCambioEventos:n.reloadEventosRelevantes},null,8,["eventoSiendoCreado","hoy","esteDia","horaPx","scrollXCalendario","idParent","idEventoSeleccionado","idUsuarioTarget","tipoParent","enfasis","modoEventosPublicosExtranjeros","usuarioVeEventosPublicos","onCambioEventos"])):he("",!0)],2)}const Tf=Le(NB,[["render",nL],["__scopeId","data-v-154c2262"]]),h0="/caracol/assets/babySolid-ecc972cb.svg",sL={components:{Loading:ut},name:"BloqueHorario",props:{esteBloque:Object,idBloqueSeleccionado:String,factorZoom:Number,idBloqueMenuContextual:String,mostrarCantidadAsistentes:Boolean},data(){var e=localStorage.getItem("coloresEspacios")?JSON.parse(localStorage.getItem("coloresEspacios")):[];return{coloresEspacios:e,eliminandose:!1,settingTiempos:!1,mostrarVentana:!1,editandoHoraInicio:!1,editandoHoraFinal:!1}},computed:{duracionMinutos(){return Math.round((this.esteBloque.millisFinal-this.esteBloque.millisInicio)/6e4)},mostrandoMenuContextual(){return this.idBloqueMenuContextual===this.esteBloque.id},miColor(){if(!this.coloresEspacios)return"#a04d4d";const e=this.coloresEspacios.findIndex(t=>t[0]===this.esteBloque.idEspacio);return e>-1?this.coloresEspacios[e][1]:"#a04d4d"},seleccionado(){return this.idBloqueSeleccionado===this.esteBloque.id},usuarioAdministrador(){return this.usuario.id===this.esteBloque.idAdministradorEspacio},minutosInicio(){return Math.round(this.esteBloque.millisInicio/6e4)},minutosFinal(){return Math.round(this.esteBloque.millisFinal/6e4)},tiempoInicioFormateado(){return this.toTiempoFormateado(this.minutosInicio)},tiempoFinalFormateado(){return this.toTiempoFormateado(this.minutosFinal)},usuarioAsiste(){return this.usuarioAdministrador||this.esteBloque.idsParticipantesConstantes.includes(this.usuario.id)},colorBarraTag(){var e="rgb(182 182 182)";return this.usuarioAsiste&&(e="var(--calendarioUsuario)"),this.usuarioAdministrador&&(e="var(--calendarioUsuarioStrong)"),{backgroundColor:e}}},methods:{setColorEspacio(){const e=this.$refs.inputColor;console.log(`Setting color en ${e.value} para el espacio ${this.esteBloque.nombreEspacio} con id ${this.esteBloque.idEspacio}`);const t=this.coloresEspacios.findIndex(o=>o[0]===this.esteBloque.idEspacio);t>-1?this.$set(this.coloresEspacios,t,[this.esteBloque.idEspacio,e.value]):this.coloresEspacios.push([this.esteBloque.idEspacio,e.value]),localStorage.setItem("coloresEspacios",JSON.stringify(this.coloresEspacios))},eliminarse(){if(!this.usuarioAdministrador&&!this.usuarioSuperadministrador){console.log("No autorizado");return}this.eliminandose=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($idEspacio: ID!, $idIteracion: ID!) {
              eliminarIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
              )
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id}}).then(()=>{this.eliminandose=!1,this.$emit("meElimine")}).catch(e=>{console.log("Error: "+e),this.eliminandose=!1})},toggleDuracionBloque(){if(console.log(`Toggleando bloque que tiene minutosInicio ${this.minutosInicio} y minutosFinal ${this.minutosFinal}`),!this.usuarioAdministrador&&!this.usuarioSuperadministrador){console.log("No autorizado");return}this.minutosInicio===480?this.minutosFinal===600?this.setMinutos(480,540):this.setMinutos(480,600):this.minutosInicio===540?this.setMinutos(480,600):this.minutosInicio===630?this.minutosFinal===750?this.setMinutos(630,690):this.setMinutos(630,750):this.minutosInicio===690?this.setMinutos(630,750):this.minutosInicio===810?this.minutosFinal===930?this.setMinutos(810,870):this.setMinutos(810,930):this.minutosInicio===870?this.setMinutos(870,930):console.log("No se pudo togglear el bloque")},setMinutos(e,t){const o=e*6e4,i=t*6e4;this.settingTiempos=!0,this.$apollo.mutate({mutation:Ce`
            mutation (
              $idEspacio: ID!
              $idIteracion: ID!
              $millisInicio: Int!
              $millisFinal: Int!
            ) {
              setTiemposIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                millisInicio: $millisInicio
                millisFinal: $millisFinal
              ) {
                id
                millisInicio
                millisFinal
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,millisInicio:o,millisFinal:i}}).then(()=>{this.settingTiempos=!1}).catch(r=>{console.log("Error: "+r),this.settingTiempos=!1})},expandir(){this.$emit("expandirme")},iniciarSetHoraInicio(){this.$refs.inputHoraInicio.value=this.toTiempoFormateado(this.minutosInicio),this.editandoHoraInicio=!0,this.editandoHoraFinal=!1},iniciarSetHoraFinal(){this.$refs.inputHoraFinal.value=this.toTiempoFormateado(this.minutosFinal),this.editandoHoraFinal=!0,this.editandoHoraInicio=!1},toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o},setHoraInicio(){console.log("Setting hora inicio");const e=this.$refs.inputHoraInicio.value.split(":"),t=parseInt(e[0]),o=parseInt(e[1]),i=t*60+o;console.log("Nuevo minutos inicio: "+i),this.setMinutos(i,this.minutosFinal)},setHoraFinal(){console.log("Setting hora final");const e=this.$refs.inputHoraFinal.value.split(":"),t=parseInt(e[0]),o=parseInt(e[1]),i=t*60+o;console.log("Nuevo minutos final: "+i),this.setMinutos(this.minutosInicio,i)}}},p0=e=>(Ge("data-v-3acc099a"),e=e(),Ke(),e),aL=p0(()=>v("img",{src:Yi,alt:"Opciones"},null,-1)),lL=[aL],cL={id:"nombre"},uL={key:0,src:h0,alt:"bebé",style:{height:"15px"}},dL=p0(()=>v("img",{src:cl,alt:"expandir",style:{}},null,-1)),fL=[dL],hL=["value"],pL=["value"];function mL(e,t,o,i,r,n){const s=Te("loading");return H(),Y("div",{class:de(["bloqueHorario",{seleccionado:n.seleccionado,deshabilitado:r.eliminandose||r.settingTiempos,usuarioAsiste:n.usuarioAsiste}]),style:Re([{width:n.duracionMinutos*o.factorZoom+"px",backgroundColor:n.miColor}]),onContextmenu:t[11]||(t[11]=Ae(a=>e.$emit("menuContextual",o.esteBloque.id),["exact","prevent","stop"])),onDblclick:t[12]||(t[12]=(...a)=>n.toggleDuracionBloque&&n.toggleDuracionBloque(...a)),onClick:t[13]||(t[13]=Ae(a=>e.$emit("seleccionado"),["left"]))},[U(v("div",{class:"boton",onClick:t[0]||(t[0]=Ae(a=>e.$emit("menuContextual",o.esteBloque.id),["stop"])),id:"botonOpciones"},lL,512),[[K,n.seleccionado]]),v("div",{id:"barraTag",style:Re([n.colorBarraTag])},[v("div",cL,[o.esteBloque.paraChiquis?(H(),Y("img",uL)):he("",!0),$e(ve(o.esteBloque.nombreEspacio),1)])],4),o.esteBloque.idsParticipantesConstantes&&o.esteBloque.idsParticipantesConstantes.length>0&&o.mostrarCantidadAsistentes?U((H(),Y("div",{key:0,id:"cantidadAsistentes"}," Asistentes: "+ve(o.esteBloque.idsParticipantesConstantes.length),513)),[[K,!n.seleccionado]]):he("",!0),U(v("div",{id:"botonExpandir",class:"boton",style:{margin:"0px auto"},onClick:t[1]||(t[1]=Ae((...a)=>n.expandir&&n.expandir(...a),["stop"]))},fL,512),[[K,n.seleccionado]]),U(Se(s,null,null,512),[[K,r.eliminandose||r.settingTiempos]]),U(v("div",{id:"menuContextual",class:de({seleccionado:n.seleccionado}),onClick:t[9]||(t[9]=Ae(()=>{},["stop"])),onDblclick:t[10]||(t[10]=Ae(()=>{},["stop"]))},[n.usuarioAdministrador||e.usuarioSuperadministrador?(H(),Y("div",{key:0,class:"itemMenuContextual",onClick:t[2]||(t[2]=(...a)=>n.eliminarse&&n.eliminarse(...a))}," Eliminar ")):he("",!0),v("div",{class:"itemMenuContextual",onClick:t[3]||(t[3]=a=>e.$refs.inputColor.click())}," Seleccionar color "),n.usuarioAdministrador||e.usuarioSuperadministrador?(H(),Y("div",{key:1,class:"itemMenuContextual",onClick:t[4]||(t[4]=(...a)=>n.iniciarSetHoraInicio&&n.iniciarSetHoraInicio(...a))}," Fijar hora de inicio ")):he("",!0),U(v("input",{type:"time",value:n.tiempoInicioFormateado,ref:"inputHoraInicio",id:"inputHoraInicio",onChange:t[5]||(t[5]=(...a)=>n.setHoraInicio&&n.setHoraInicio(...a))},null,40,hL),[[K,r.editandoHoraInicio]]),n.usuarioAdministrador||e.usuarioSuperadministrador?(H(),Y("div",{key:2,class:"itemMenuContextual",onClick:t[6]||(t[6]=(...a)=>n.iniciarSetHoraFinal&&n.iniciarSetHoraFinal(...a))}," Fijar hora de finalización ")):he("",!0),U(v("input",{type:"time",value:n.tiempoFinalFormateado,ref:"inputHoraFinal",id:"inputHoraFinal",onChange:t[7]||(t[7]=(...a)=>n.setHoraFinal&&n.setHoraFinal(...a))},null,40,pL),[[K,r.editandoHoraFinal]]),U(v("input",{type:"color",ref:"inputColor",onChange:t[8]||(t[8]=(...a)=>n.setColorEspacio&&n.setColorEspacio(...a)),id:"inputColor"},null,544),[[K,!1]])],34),[[K,n.mostrandoMenuContextual]])],38)}const vL=Le(sL,[["render",mL],["__scopeId","data-v-3acc099a"]]),dl=Ce`
  fragment fragEspacio on Espacio {
    id
    nombre
    descripcion
    idAdministrador
    paraChiquis
  }
`,gL={name:"bloqueCreacionHorario",apollo:{espaciosControladosUsuario:{query:Pe`
        query {
          espaciosControladosUsuario {
            ...fragEspacio
          }
        }
        ${dl}
      `}},props:{esteBloque:Object},data(){return{idEspacioSeleccionado:null}},methods:{iniciarCreacion(){}},mounted(){this.$refs.selectEspacio.click()}},yL={class:"bloqueCreacionHorario"},bL=v("option",{value:"null",disabled:""},"Seleccionar un espacio",-1),wL=["value"];function EL(e,t,o,i,r,n){return H(),Y("div",yL,[U(v("select",{name:"selectEspacio",id:"selectEspacio",ref:"selectEspacio","onUpdate:modelValue":t[0]||(t[0]=s=>r.idEspacioSeleccionado=s),onChange:t[1]||(t[1]=s=>e.$emit("espacioSeleccionado",s.target.value))},[bL,(H(!0),Y(Me,null,Ve(e.espaciosControladosUsuario,s=>(H(),Y("option",{value:s.id,key:s.id},ve(s.nombre),9,wL))),128))],544),[[is,r.idEspacioSeleccionado]])])}const _L=Le(gL,[["render",EL]]),xf=Ce`
  fragment fragBloqueHorario on IteracionSemanalEspacio {
    id
    millisInicio
    millisFinal
    idsParticipantesConstantes
    diaSemana
    nombreEspacio
    idAdministradorEspacio
    idEspacio
    paraChiquis
  }
`,SL={components:{BloqueHorario:vL,BloqueCreacionHorario:_L},name:"DiaOrganizadorHorario",props:{mostrarCantidadAsistentes:Boolean,nombreDia:String,numeroDia:Number,idEspacioCrear:String,idBloqueSeleccionado:String,bloquesHorario:Array,idBloqueMenuContextual:String,factorZoom:{type:Number,default(){return 1}},offset:Number},data(){return{minutosRelevantesBase:[480,540,600,630,750,810,870,930],creandoBloqueHorario:!1,anchoDiaMinutos:490,heightBloques:100,gapFilas:10,bloqueCreacionHorario:null}},computed:{minutosRelevantes(){return this.minutosRelevantesBase},bloquesHorarioPriorizados(){var e=[...this.bloquesHorario].sort((t,o)=>{var i=0;return t.idAdministradorEspacio===this.usuario.id&&i++,o.idAdministradorEspacio===this.usuario.id&&i--,-i});return e},bloquesHorarioEnriquecidos(){for(var e=[...this.bloquesHorarioPriorizados.map(i=>({...i,fila:0}))],t=0;t<e.length;t++){let i=e[t];for(var o=t;o>=0;o--){let r=e[o];if((r.millisInicio>=i.millisInicio&&r.millisInicio<i.millisFinal||r.millisFinal>i.millisInicio&&r.millisFinal<=i.millisFinal||r.millisInicio<=i.millisInicio&&r.millisFinal>=i.millisFinal)&&r.fila>=i.fila){let s=r.fila+1;i.fila=s}}}return e},maxFila(){var e=this.bloquesHorarioEnriquecidos.reduce((t,o)=>o.fila>t?o.fila:t,0);return e}},methods:{toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o},mostrarCalculoMinutos(){},iniciarCreacionBloqueHorario(e){const t=this.$refs.zonaBloques.getBoundingClientRect(),i=e.clientX-t.left,r=this.anchoDiaMinutos/t.width*i+this.offset;console.log("Creando bloque de horario en "+this.toTiempoFormateado(r));var n=r,s=n+60;if(r>=480&&r<540)n=480,s=540;else if(r>=540&&r<600)n=540,s=600;else if(r>=630&&r<750)n=630,s=750;else if(r>=810&&r<870)n=810,s=870;else if(r>=870&&r<930)n=870,s=930;else{console.log("En zona no considerada");return}console.log(`Corregido a ${this.toTiempoFormateado(n)}`);var a=n*6e4,l=s*6e4;this.bloqueCreacionHorario={millisInicio:a,millisFinal:l}},crearBloqueHorario(e){!this.idEspacioCrear||!this.bloqueCreacionHorario||(this.creandoBloqueHorario=!0,this.$apollo.mutate({mutation:Ce`
            mutation (
              $idEspacio: ID!
              $millisInicio: Int!
              $diaSemana: Int!
              $millisFinal: Int!
            ) {
              crearBloqueHorario(
                idEspacio: $idEspacio
                millisInicio: $millisInicio
                diaSemana: $diaSemana
                millisFinal: $millisFinal
              ) {
                ...fragBloqueHorario
              }
            }
            ${xf}
          `,variables:{idEspacio:e,millisInicio:this.bloqueCreacionHorario.millisInicio,millisFinal:this.bloqueCreacionHorario.millisFinal,diaSemana:this.numeroDia}}).then(({data:{crearBloqueHorario:t}})=>{this.creandoBloqueHorario=!1,this.$emit("bloqueHorarioCreado",t),this.bloqueCreacionHorario=null}).catch(t=>{console.log("Error: "+t),this.creandoBloqueHorario=!1}))}}},AL={class:"diaOrganizadorHorario"},NL={id:"nombreDia"},CL={id:"barraHoras"};function TL(e,t,o,i,r,n){const s=Te("bloque-creacion-horario"),a=Te("bloque-horario");return H(),Y("div",AL,[v("div",NL,ve(o.nombreDia),1),v("div",{id:"zonaBloques",ref:"zonaBloques",style:Re([{width:Math.round(r.anchoDiaMinutos*o.factorZoom)+"px",height:n.maxFila*(r.heightBloques+6*r.gapFilas)+"px"}]),onDblclick:t[1]||(t[1]=Ae((...l)=>n.iniciarCreacionBloqueHorario&&n.iniciarCreacionBloqueHorario(...l),["self"])),onClick:t[2]||(t[2]=Ae(l=>r.bloqueCreacionHorario=null,["self"]))},[r.bloqueCreacionHorario?(H(),qe(s,{key:0,style:Re([{"z-index":"100000"},[{left:(r.bloqueCreacionHorario.millisInicio/6e4-o.offset)*o.factorZoom+"px",top:1*r.gapFilas-5+"px"}]]),esteBloque:r.bloqueCreacionHorario,onEspacioSeleccionado:n.crearBloqueHorario},null,8,["style","esteBloque","onEspacioSeleccionado"])):he("",!0),(H(!0),Y(Me,null,Ve(n.bloquesHorarioEnriquecidos,l=>(H(),qe(a,{key:l.id,esteBloque:l,factorZoom:o.factorZoom,style:Re([{left:(l.millisInicio/6e4-o.offset)*o.factorZoom+"px",top:1*r.gapFilas+(l.fila-1)*(r.heightBloques+r.gapFilas)+"px",zIndex:l.id===o.idBloqueMenuContextual?1e4:l.id===o.idBloqueSeleccionado?1e3:100-l.fila}]),idBloqueMenuContextual:o.idBloqueMenuContextual,idBloqueSeleccionado:o.idBloqueSeleccionado,mostrarCantidadAsistentes:o.mostrarCantidadAsistentes,onMeElimine:c=>e.$emit("bloqueEliminado",l.id),onMenuContextual:t[0]||(t[0]=c=>e.$emit("menuContextualBloque",c)),onSeleccionado:c=>e.$emit("bloqueSeleccionado",l.id),onExpandirme:c=>e.$emit("expandirBloque",l.id)},null,8,["esteBloque","factorZoom","style","idBloqueMenuContextual","idBloqueSeleccionado","mostrarCantidadAsistentes","onMeElimine","onSeleccionado","onExpandirme"]))),128))],36),v("div",CL,[(H(!0),Y(Me,null,Ve(n.minutosRelevantes,l=>(H(),Y("div",{class:"marcaTiempo",key:"minuto"+l,style:Re([{left:Math.round((l-o.offset)*o.factorZoom)+"px"}])},ve(n.toTiempoFormateado(l)),5))),128))])])}const xL=Le(SL,[["render",TL],["__scopeId","data-v-e64bb8b8"]]);var Cm={compareTwoStrings:m0,findBestMatch:IL};function m0(e,t){if(e=e.replace(/\s+/g,""),t=t.replace(/\s+/g,""),e===t)return 1;if(e.length<2||t.length<2)return 0;let o=new Map;for(let r=0;r<e.length-1;r++){const n=e.substring(r,r+2),s=o.has(n)?o.get(n)+1:1;o.set(n,s)}let i=0;for(let r=0;r<t.length-1;r++){const n=t.substring(r,r+2),s=o.has(n)?o.get(n):0;s>0&&(o.set(n,s-1),i++)}return 2*i/(e.length+t.length-2)}function IL(e,t){if(!DL(e,t))throw new Error("Bad arguments: First argument should be a string, second should be an array of strings");const o=[];let i=0;for(let n=0;n<t.length;n++){const s=t[n],a=m0(e,s);o.push({target:s,rating:a}),a>o[i].rating&&(i=n)}const r=o[i];return{ratings:o,bestMatch:r,bestMatchIndex:i}}function DL(e,t){return!(typeof e!="string"||!Array.isArray(t)||!t.length||t.find(function(o){return typeof o!="string"}))}const PL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAMAAABHPGVmAAAC+lBMVEUAAAAAAAAAAABxcXEAAACZmZl5eXk6OjpQUFBLS0unp6cnJycLCwsBAQECAgItLS05OTlOTk5JSUk3NzdgYGBhYWFNTU10dHR/f3+oqKgSEhIyMjIAAAAWFhYQEBAhISEWFhYQEBAcHBwxMTFCQkIBAQEzMzM0NDRJSUkqKio8PDwODg49PT1HR0cAAABBQUFCQkIEBAQHBwdlZWU6OjpXV1dgYGAAAAB8fHwwMDCLi4tFRUU7OzsjIyMEBAQAAAAbGxsfHx8NDQ0CAgIQEBBfX18CAgIpKSkoKCgQEBA1NTUvLy9bW1spKSk4ODgdHR0FBQUtLS0nJycYGBgzMzNAQEAtLS0iIiJWVlYeHh41NTUqKiomJiZNTU0tLS1CQkIcHBxTU1NFRUUxMTExMTEmJiYNDQ0tLS1VVVUxMTFPT08dHR1CQkI3NzcfHx8WFhYjIyNSUlIdHR1bW1tFRUVoaGgvLy8AAAAdHR0AAABbW1tKSkoqKipRUVFcXFwaGhouLi5zc3M9PT1ra2tcXFwYGBhzc3MuLi5NTU0JCQlSUlI2NjYgICBxcXFaWloQEBA8PDw5OTmLi4sHBwcZGRkNDQ1gYGAlJSUuLi4QEBA9PT0bGxsAAAAsLCwgICAyMjInJycTExMGBgYKCgoWFhYgICA+Pj42NjZNTU0UFBQiIiI5OTkEBARRUVFJSUkPDw9aWlotLS04ODgUFBRBQUElJSUnJyc7OzsiIiIpKSlHR0dFRUUREREmJiYaGhocHBxTU1M4ODhAQEAdHR1LS0tWVlYyMjIDAwNAQEBPT09CQkI9PT1YWFgsLCwNDQ1ra2tEREQ1NTV9fX1lZWVMTEwAAAAjIyNLS0sNDQ19fX1NTU0ZGRkkJCQ3NzcZGRlCQkJDQ0NOTk4SEhJeXl4BAQEtLS1DQ0M6Ojp3d3ePj49OTk5paWlxcXFkZGQWFhaVlZVzc3MAAABzc3MVFRVQUFAAAAADAwMHBwceHh4kJCQgICAPDw8vLy8oKCh/JHwQAAAA9XRSTlMALoADyQwGkSgRBwb++vXn5bWMZR8bDg0IBf79/fz59evl4NzZ2Na1n5SAgHx7dm5nVk9NTUA+PiwlFhb++/r49/b08vDv6Ofj4uDf3dzZ2dnV1NPRzcjHxsLAwMC/vbmxrKqpop+enZGGgoKAgICAfHp1dGtnZmZhXFhXVVRSUlFMSUhEQT09PDk2Ly4rKyQgHREJ/Pn49vX08fHw6+vq6enp5uPh3tza19bU1NHR0c/LxcG+urm3t7Wwr62lpaKgoJ6Zl5aTkpGPiYmHhoB/fHtycnBuaGZmYVxaV1ZWVU1KSkhGQ0A4NjQ0JyMjIB8fHRUVCt1yxO0AAAQcSURBVGje7dljsNxQGAbgr9ji3tq2bdu2bdu2bdu2bdu2rXfrmbb7Je3OtCfJnrP509nnx/2T95t3JslJcvaSj4+Pz//udd/06Z+SfYZfCJoDLPq+8M/I+7I3KxwC7qIVSRbcuxWRdhbA3+I0DOLFjmN58G+FkgXyUsXb5RCrPNIrHXdywEjOoaQunfv1zpswQd2ASRIkzIk/Qqq39M4NXaz9dyMQi9Cr/kTo8mdW7OgfE5rPLblB97LJF2hmDFbqGJsQmsRZ/zo4qjo0M5VWTG39vB+lf0kBzQaFjo5gudMJApc+csCZQb6ktPYESSdMXInBkWnSa78LWH2DZb0NrK1kR5RiPF/SKDQ+HofKSpYMA3tomOoGllGuJKn2dDJOBUrAsaRSHYEW8PQ1k1xqjiWSeh4H48WeK7JJzu+TKxfCX6YkI1xqmwYTc7CjTEkLnm1pGgzHwVMyJQF5Nr1pMC0HmyuUBDAN3uJgFVtLunNwla0lPTi4UqHkvtVrElTh7kpmGkzJwYAyJQN4drtpcBcH2yus+Fimb4rJ/N6KLFMSNS4P9zPJ3YRL8UAkozFP1zKJbeZYQ5LyCOyxYSoTmORbPnJoHq9gFPIvxaHZJKkd2BGDTDOwFCSrDFxCPRAmbofkSPRI0iUpobUMFL3gv4OlIXk1wHL1pH+5/gVsLSkYPQWapBH/OphtDzSx+aCs7iGhKdI7Crn70CcONKHukZquMaBbGDSL/oiJEjxcUei+nidVXeGmZI0DqVKlSlK1uBN/nCZ1XT7BSIwM5A2Z4kGsdEbyikGNIFZziDcqsqwzPl3RtmRSrcjWIBTMfN7tr9TRswysCN1BoaMp3H1MVCdc505pOqUJ3zlcnUROuAsqW/FmI/6IvemMg9w5UlSfij9GynWMCY3fZh381049eMo40KWV6sgaF7roHSILQpFuFADr8Wvb5O8fyLMPonjQJYlgdPuddGXCjCMaV82JOZnJOr9F0KzoZxINXxQoP4Ao6vpf8Xxjre8Xd0BT6r15+tzVX39HfPTwQ/KEE6yBg6wKwBOtLF/0WGCHyboAHm64loHVJM9LWluMpwZbHdG+kuzfOD4hGEmUJLeWbsNp52WyryRKbE5X8HAvMEIriRrVz8/h8DMOt+XwR4sna9DWwGwpz80vVy5+/DBh4lcaaLQOy3K4kcULOB0C+QeT0CiwYVZfOULVSOgQJyqSNXUhNI+EynMivOU9jFBiEomYh+/fdxZLIhWGQKFXJNLf+tliL9o0rlcv7E9LeDJMlTUlChacVCLoaBJqxdHj5LEA1n+Y2MvRzLaWzOXdwBBbS/gTJZ/D1pIm2q8QtpaMrwqgWBb7Slifi6mDkEqJnYbzf9jOkp2CLMZPeZ+TrcZUAuL2Irs96Us+Pj7yfgCbknGGI9ttswAAAABJRU5ErkJggg==",kL=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],OL={components:{IconoPersonaAutonomo:Zi,Loading:ut},name:"VentanaBloqueHorario",props:{esteBloque:Object,miColor:String},apollo:{participantesCasaMaestraVida:{query:Ce`
        query {
          participantesCasaMaestraVida {
            id
            nombres
            apellidos
          }
        }
      `}},data(){return{participantesCasaMaestraVida:[],idPersonaSeleccionado:null,idPersonaMenuCx:null,mostrandoBuscadorAsistentes:!1,textoBusqueda:"",versionBusqueda:0,addingAsistente:!1,opcionesAsistentes:[{textoVisible:"Remover",evento:"remover"}],diasSemana:kL}},computed:{idsAsistentes(){return this.esteBloque.idsParticipantesConstantes},personasAdicionables(){return this.participantesCasaMaestraVida.filter(e=>!this.esteBloque.idsParticipantesConstantes.includes(e.id))},idsPersonasAdicionables(){return this.personasAdicionables.map(e=>e.id)},personasAdicionablesOrdenadas(){var e=this.versionBusqueda;if(!this.textoBusqueda||this.textoBusqueda.length<=2)return this.personasAdicionables;var t=this.textoBusqueda;if(console.log("Version "+e),this.versionBusqueda<0){console.log("Error desconocido");return}return[...this.personasAdicionables].sort((o,i)=>Cm.compareTwoStrings(i.nombres+i.apellidos,t)-Cm.compareTwoStrings(o.nombres+o.apellidos,t))},idsPersonasAdicionablesOrdenadas(){return this.personasAdicionablesOrdenadas.map(e=>e.id)},usuarioAdministrador(){return this.esteBloque.idAdministradorEspacio===this.usuario.id},minutosInicio(){return Math.round(this.esteBloque.millisInicio/6e4)},minutosFinal(){return Math.round(this.esteBloque.millisFinal/6e4)}},methods:{iniciarAdicionAsistente(){this.mostrandoBuscadorAsistentes=!0},setTextoBusqueda(){var e=this.$refs.inputTextoBuscador.value;this.textoBusqueda=e,this.versionBusqueda++},addComoAsistente(e){!this.usuarioAdministrador&&!this.usuarioSuperadministrador||(this.addingAsistente=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($idEspacio: ID!, $idIteracion: ID!, $idAsistente: ID!) {
              addAsistenteIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                idAsistente: $idAsistente
              ) {
                id
                idsParticipantesConstantes
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,idAsistente:e}}).then(()=>{this.addingAsistente=!1}).catch(t=>{this.addingAsistente=!1,console.log(`Error ${t}`)}))},removerAsistente(e){!this.usuarioAdministrador&&!this.usuarioSuperadministrador||(this.removingAsistente=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($idEspacio: ID!, $idIteracion: ID!, $idAsistente: ID!) {
              removeAsistenteIteracionSemanalEspacio(
                idEspacio: $idEspacio
                idIteracion: $idIteracion
                idAsistente: $idAsistente
              ) {
                id
                idsParticipantesConstantes
              }
            }
          `,variables:{idEspacio:this.esteBloque.idEspacio,idIteracion:this.esteBloque.id,idAsistente:e}}).then(()=>{this.removingAsistente=!1}).catch(t=>{this.removingAsistente=!1,console.log(`Error ${t}`)}))},toTiempoFormateado(e){var t=Math.floor(e/60);String(t).length<2&&(t="0"+t);var o=String(Math.round(e-t*60));return o.length<2&&(o="0"+o),t+":"+o}}},fl=e=>(Ge("data-v-720a25cc"),e=e(),Ke(),e),RL={id:"titulo"},ML={id:"infoBasica"},FL={class:"info"},BL={class:"seccionListaUsuarios"},LL=fl(()=>v("div",{class:"barraListaUsuarios"},[v("div",{class:"nombreListaUsuarios"},"Coordina")],-1)),$L={class:"listaPersonas"},UL={class:"seccionListaUsuarios"},qL={class:"barraListaUsuarios"},jL=fl(()=>v("div",{class:"nombreListaUsuarios"},"Asisten",-1)),zL={class:"contenedorControles"},VL=fl(()=>v("img",{src:PL,alt:"Agregar",style:{}},null,-1)),HL=[VL],WL={class:"listaPersonas"},QL={id:"zonaAdicionarAsistente"},GL={class:"zonaInformacion",style:{display:"flex"}},KL={class:"informacion",style:{display:"flex"}},JL={class:"contenedorControles",style:{"margin-left":"auto"}},YL=fl(()=>v("img",{src:Rt,alt:"Salir",style:{}},null,-1)),XL=[YL];function ZL(e,t,o,i,r,n){const s=Te("icono-persona-autonomo"),a=Te("loading");return H(),Y("div",{class:"ventanaBloqueHorario",onClick:t[4]||(t[4]=l=>r.idPersonaMenuCx=null)},[v("div",{id:"fondoGris",onClick:t[0]||(t[0]=Ae(l=>e.$emit("cerrarme"),["self","stop"]))}),v("div",{id:"laPropiaVentana",style:Re([{backgroundColor:o.miColor}])},[v("div",RL,ve(o.esteBloque.nombreEspacio),1),v("div",ML,[v("div",FL,ve(r.diasSemana[o.esteBloque.diaSemana])+". "+ve(n.toTiempoFormateado(n.minutosInicio))+" - "+ve(n.toTiempoFormateado(n.minutosFinal)),1)]),v("div",BL,[LL,v("div",$L,[Se(s,{idPersona:o.esteBloque.idAdministradorEspacio},null,8,["idPersona"])])]),v("div",UL,[v("div",qL,[jL,v("div",zL,[e.usuarioSuperadministrador||n.usuarioAdministrador?(H(),Y("div",{key:0,class:"boton",onClick:t[1]||(t[1]=(...l)=>n.iniciarAdicionAsistente&&n.iniciarAdicionAsistente(...l))},HL)):he("",!0)])]),U(v("div",WL,[(H(!0),Y(Me,null,Ve(n.idsAsistentes,l=>(H(),qe(s,{key:l,idPersona:l,seleccionado:l===r.idPersonaSeleccionado,opcionesMenuCx:r.opcionesAsistentes,menuContextual:r.idPersonaMenuCx===l,onClick:Ae(c=>r.idPersonaSeleccionado=r.idPersonaSeleccionado===l?null:l,["stop"]),onContextmenu:Ae(c=>r.idPersonaMenuCx=l,["right","stop","prevent"]),onRemover:c=>n.removerAsistente(l)},null,8,["idPersona","seleccionado","opcionesMenuCx","menuContextual","onClick","onContextmenu","onRemover"]))),128))],512),[[K,!r.mostrandoBuscadorAsistentes]]),U(v("div",QL,[v("div",GL,[v("div",KL,[U(Se(a,null,null,512),[[K,e.$apollo.queries.participantesCasaMaestraVida.loading]]),$e(" Adicionando asistentes ")]),v("div",JL,[v("div",{class:"boton",onClick:t[2]||(t[2]=l=>r.mostrandoBuscadorAsistentes=!1)},XL)])]),v("div",{id:"zonaInputBuscador",class:de({deshabilitado:e.$apollo.queries.participantesCasaMaestraVida.loading}),style:{width:"100%"}},[v("input",{type:"text",ref:"inputTextoBuscador",id:"inputTextoBuscador",placeholder:"buscar",onKeypress:t[3]||(t[3]=pt((...l)=>n.setTextoBusqueda&&n.setTextoBusqueda(...l),["enter"]))},null,544)],2),v("div",{class:de(["listaPersonas",{deshabilitado:r.addingAsistente||e.$apollo.queries.participantesCasaMaestraVida.loading}])},[(H(!0),Y(Me,null,Ve(n.idsPersonasAdicionablesOrdenadas,l=>(H(),qe(s,{key:l,idPersona:l,seleccionado:l===r.idPersonaSeleccionado,onClick:Ae(c=>r.idPersonaSeleccionado=r.idPersonaSeleccionado===l?null:l,["stop"]),onDblclick:Ae(c=>n.addComoAsistente(l),["stop"])},null,8,["idPersona","seleccionado","onClick","onDblclick"]))),128))],2)],512),[[K,r.mostrandoBuscadorAsistentes]])])],4)])}const e$=Le(OL,[["render",ZL],["__scopeId","data-v-720a25cc"]]),hl="/caracol/assets/cog-a1bf6849.svg",En=Pe`
  query ($idsAdministradores: [ID]!) {
    iteracionesSemanalesEspaciosByAdministradores(
      idsAdministradores: $idsAdministradores
    ) {
      ...fragBloqueHorario
    }
  }
  ${xf}
`,t$={components:{DiaOrganizadorHorario:xL,VentanaBloqueHorario:e$},props:{yo:Object},name:"OrganizadorHorarioSemanal",apollo:{espacios:{query:Pe`
        query ($idsUsuarios: [ID]!) {
          espaciosByUsuariosAdmin(idsUsuarios: $idsUsuarios) {
            ...fragEspacio
          }
        }
        ${dl}
      `,variables(){return{idsUsuarios:[this.usuario.id]}},update({espaciosByUsuariosAdmin:e}){const t=e.find(o=>o.idAdministrador===this.usuario.id);return t&&(this.idEspacioCrear=t.id),e},skip(){var e;return!((e=this.usuario)!=null&&e.id)}},usuariosProfe:{query:Pe`
        query {
          usuariosProfe {
            id
            nombres
          }
        }
      `},bloquesHorario:{query:En,variables(){return{idsAdministradores:this.idsUsuariosSeleccionados}},skip(){return!this.idsUsuariosSeleccionados||this.idsUsuariosSeleccionados.length<1},update({iteracionesSemanalesEspaciosByAdministradores:e}){return e}},bloquesHorarioUsuarioAsiste:{query:Pe`
        query {
          bloquesHorarioUsuarioAsiste {
            ...fragBloqueHorario
          }
        }
        ${xf}
      `,skip(){return!this.configuracionAdministradoresEspacios.includes("yo")}}},data(){const e=localStorage.getItem("configuracionOrganizadorHorarioSemanal");var t={};return e&&(t=JSON.parse(e)),console.log("La configuración es: "),console.table(t),{usuariosProfe:[],espacios:[],bloquesHorarioUsuarioAsiste:[],diasSemana:["Lunes","Martes","Miércoles","Jueves","Viernes"],factorZoom:3,offset:470,idEspacioCrear:null,configuracionAdministradoresEspacios:t.configuracionAdministradoresEspacios||["yo"],mostrandoConfiguracion:!1,mostrarBloquesParaChiquis:t.mostrarBloquesParaChiquis!=null&&t.mostrarBloquesParaChiquis!=null?t.mostrarBloquesParaChiquis:!0,mostrarBloquesParaTodos:t.mostrarBloquesParaTodos!=null&&t.mostrarBloquesParaTodos!=null?t.mostrarBloquesParaTodos:!0,mostrarCantidadAsistentes:t.mostrarCantidadAsistentes!=null&&t.mostrarCantidadAsistentes!=null?t.mostrarCantidadAsistentes:!1,bloquesHorario:[],idBloqueMenuContextual:null,idBloqueSeleccionado:null,idBloqueEnVentana:null}},computed:{todosBloquesDescargados(){return this.bloquesHorario.concat(this.bloquesHorarioUsuarioAsiste)},espaciosCreables(){return this.espacios},bloqueEnVentana(){return this.idBloqueEnVentana?this.todosBloquesDescargados.find(e=>e.id===this.idBloqueEnVentana):null},usuariosSeleccionables(){var e=[...this.usuariosProfe];return!this.usuariosProfe.some(t=>t.id===this.usuario.id)&&this.yo&&e.push({id:this.usuario.id,nombres:this.yo.nombres}),e},idsUsuariosSeleccionados(){var e=[];return this.configuracionAdministradoresEspacios.includes("yo")&&e.push(this.usuario.id),this.configuracionAdministradoresEspacios.includes("profesorxs")&&e.push(...this.usuariosProfe.map(t=>t.id)),e},bloquesActivos(){var e=[...this.bloquesHorario];const t=e.map(i=>i.id);if(this.configuracionAdministradoresEspacios.includes("yo"))for(var o of this.bloquesHorarioUsuarioAsiste)t.includes(o.id)||e.push(o);return this.mostrarBloquesParaChiquis||(e=e.filter(i=>!i.paraChiquis)),this.mostrarBloquesParaTodos||(e=e.filter(i=>i.paraChiquis)),e}},methods:{addBloqueHorarioCache(e){console.log(`Adding to cache un bloque con id ${e.id}`);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:En,variables:{idsAdministradores:this.idsUsuariosSeleccionados}});var i=JSON.parse(JSON.stringify(o));i.iteracionesSemanalesEspaciosByAdministradores.findIndex(n=>n.id===e.id)<0?(i.iteracionesSemanalesEspaciosByAdministradores.push(e),t.writeQuery({query:En,variables:{idsAdministradores:this.idsUsuariosSeleccionados},data:i})):console.log("Iteración semanal ya estaba en caché")},eliminarBloqueHorarioCache(e){console.log(`Removing from cache un bloque con id ${e}`);const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:En,variables:{idsAdministradores:this.idsUsuariosSeleccionados}});var i=JSON.parse(JSON.stringify(o));const r=i.iteracionesSemanalesEspaciosByAdministradores.findIndex(n=>n.id===e);r>-1?(i.iteracionesSemanalesEspaciosByAdministradores.splice(r,1),t.writeQuery({query:En,variables:{idsAdministradores:this.idsUsuariosSeleccionados},data:i})):console.log("Iteración semanal no estaba en caché")},abrirVentanaBloque(e){console.log("Abriendo la ventana del bloque con id "+e)},setIdBloqueVentana(e){this.idBloqueEnVentana=e},checkVentanaBloque(){return this.idBloqueEnVentana?(this.idBloqueEnVentana=null,!0):!1},setLocalStorageConfiguracion(){const e={mostrarBloquesParaChiquis:this.mostrarBloquesParaChiquis,mostrarBloquesParaTodos:this.mostrarBloquesParaTodos,configuracionAdministradoresEspacios:this.configuracionAdministradoresEspacios,mostrarCantidadAsistentes:this.mostrarCantidadAsistentes},t=JSON.stringify(e);localStorage.setItem("configuracionOrganizadorHorarioSemanal",t)}},watch:{configuracionAdministradoresEspacios(){this.setLocalStorageConfiguracion()},mostrarBloquesParaChiquis(){this.setLocalStorageConfiguracion()},mostrarBloquesParaTodos(){this.setLocalStorageConfiguracion()},mostrarCantidadAsistentes(){this.setLocalStorageConfiguracion()}}},rn=e=>(Ge("data-v-cf27f31b"),e=e(),Ke(),e),o$={class:"barraComponente"},r$={class:"contenedorControles",style:{"margin-left":"auto"}},i$={class:"boton"},n$={class:"zonaConfiguracion"},s$=rn(()=>v("div",{class:"barraSeccion"},"Configuración.",-1)),a$={class:"contenedorBloquesConfiguracion"},l$={id:"configuracionAdministradoresEspacios",class:"bloqueConfiguracion"},c$={class:"campoConfiguracion"},u$=rn(()=>v("label",{for:"checkAdministradorYo"},"Mostrar mis bloques",-1)),d$={class:"campoConfiguracion"},f$=rn(()=>v("label",{for:"checkAdministradorYo"},"Mostrar bloques de profes",-1)),h$={class:"bloqueConfiguracion"},p$={class:"campoConfiguracion"},m$=rn(()=>v("label",{for:"checkMostrarBloquesNiñosPequeños"},"Mostrar bloques dirigidos a niñxs pequeñxs",-1)),v$={class:"campoConfiguracion"},g$=rn(()=>v("label",{for:"checkMostrarBloquesTodos"},"Mostrar bloques dirigidos a todxs",-1)),y$={class:"bloqueConfiguracion"},b$={class:"campoConfiguracion"},w$=rn(()=>v("label",{for:"checkMostrarCantidadAsistentes"},"Mostrar cantidad de asistentes de cada bloque",-1)),E$={class:"nombreProfe"},_$=["value"],S$={id:"contenedorDias"};function A$(e,t,o,i,r,n){const s=Te("ventana-bloque-horario"),a=Te("dia-organizador-horario");return H(),Y("div",{class:"organizadorHorarioSemanal",onClick:t[10]||(t[10]=Ae(l=>r.idBloqueMenuContextual=null,["left","exact"]))},[n.bloqueEnVentana?(H(),qe(s,{key:0,esteBloque:n.bloqueEnVentana,onCerrarme:t[0]||(t[0]=l=>r.idBloqueEnVentana=null)},null,8,["esteBloque"])):he("",!0),v("div",o$,[$e(" Organizador de horario "),v("div",r$,[v("div",i$,[v("img",{src:hl,onClick:t[1]||(t[1]=Ae(l=>r.mostrandoConfiguracion=!r.mostrandoConfiguracion,["stop"])),alt:"configrurar",style:{}})])])]),U(v("div",n$,[s$,v("div",a$,[v("div",l$,[v("div",c$,[u$,U(v("input",{type:"checkbox",name:"checkAdministradorYo","onUpdate:modelValue":t[2]||(t[2]=l=>r.configuracionAdministradoresEspacios=l),value:"yo",id:""},null,512),[[dr,r.configuracionAdministradoresEspacios]])]),v("div",d$,[f$,U(v("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=l=>r.configuracionAdministradoresEspacios=l),value:"profesorxs",id:""},null,512),[[dr,r.configuracionAdministradoresEspacios]])])]),v("div",h$,[v("div",p$,[m$,U(v("input",{type:"checkbox",name:"checkMostrarBloquesNiñosPequeños",ref:"checkMostrarBloquesNiñosPequeños",id:"checkMostrarBloquesNiñosPequeños","onUpdate:modelValue":t[4]||(t[4]=l=>r.mostrarBloquesParaChiquis=l)},null,512),[[dr,r.mostrarBloquesParaChiquis]])]),v("div",v$,[g$,U(v("input",{type:"checkbox",name:"checkMostrarBloquesTodos",ref:"checkMostrarBloquesTodos",id:"checkMostrarBloquesTodos","onUpdate:modelValue":t[5]||(t[5]=l=>r.mostrarBloquesParaTodos=l)},null,512),[[dr,r.mostrarBloquesParaTodos]])])]),v("div",y$,[v("div",b$,[w$,U(v("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=l=>r.mostrarCantidadAsistentes=l)},null,512),[[dr,r.mostrarCantidadAsistentes]])])])])],512),[[K,r.mostrandoConfiguracion]]),(H(!0),Y(Me,null,Ve(n.usuariosSeleccionables,l=>U((H(),Y("div",{class:"zonaCheckAdministradorEspacios",key:l.id},[v("div",E$,ve(l.nombres),1),U(v("input",{type:"checkbox",value:l.id,ref_for:!0,ref:"checkProfe",id:"checkProfe","onUpdate:modelValue":t[7]||(t[7]=c=>n.idsUsuariosSeleccionados=c)},null,8,_$),[[dr,n.idsUsuariosSeleccionados]])])),[[K,!1]])),128)),v("div",S$,[(H(!0),Y(Me,null,Ve(r.diasSemana,(l,c)=>(H(),qe(a,{key:l,nombreDia:l,numeroDia:c,factorZoom:r.factorZoom,offset:r.offset,idEspacioCrear:r.idEspacioCrear,bloquesHorario:n.bloquesActivos.filter(u=>u.diaSemana===c),idBloqueMenuContextual:r.idBloqueMenuContextual,idBloqueSeleccionado:r.idBloqueSeleccionado,mostrarCantidadAsistentes:r.mostrarCantidadAsistentes,onBloqueSeleccionado:t[8]||(t[8]=u=>r.idBloqueSeleccionado=r.idBloqueSeleccionado===u?null:u),onBloqueHorarioCreado:n.addBloqueHorarioCache,onMenuContextualBloque:t[9]||(t[9]=u=>r.idBloqueMenuContextual=u),onBloqueEliminado:n.eliminarBloqueHorarioCache,onExpandirBloque:n.setIdBloqueVentana},null,8,["nombreDia","numeroDia","factorZoom","offset","idEspacioCrear","bloquesHorario","idBloqueMenuContextual","idBloqueSeleccionado","mostrarCantidadAsistentes","onBloqueHorarioCreado","onBloqueEliminado","onExpandirBloque"]))),128))])])}const v0=Le(t$,[["render",A$],["__scopeId","data-v-cf27f31b"]]),ys="/caracol/assets/info-75a47447.svg",g0="/caracol/assets/key-116c2c00.svg",If="/caracol/assets/calendar-502cbab1.svg",N$="/caracol/assets/envelope-8b028cd2.svg",C$="/caracol/assets/whatsapp-679f515c.svg",T$={components:{Loading:ut,Calendario:Tf,OrganizadorHorarioSemanal:v0},name:"PerfilPersonal",apollo:{esteUsuario:{query:Ce`
        query {
          yo {
            nombres
              finSubscripcion
            apellidos
            username
            email
            numeroTel
          }
        }
      `,update({yo:e}){return e}}},data(){return{seccion:"informacionPersonal",esteUsuario:{permisos:[],id:null},inputCurrentPass:null,newPass:null,newPass2:null,enviandoCambioPass:!1,textoResultadoCambioPass:null,mostrandoOpcionesCrearSubNodo:!1,creandoSubNodo:!1,versionFoto:0}},computed:{inputCurrentPassIlegal(){return!this.inputCurrentPass||this.inputCurrentPass.length<Sm},newPassIlegal(){return!!(!this.newPass||this.newPass.length<Sm||this.newPass.length>VF||zF.test(this.newPass))},newPass2Ilegal(){return!this.newPass2||!this.newPass||this.newPass!=this.newPass2}},methods:{enviarCambioPass(){this.newPassIlegal||this.newPass2Ilegal||(this.textoResultadoCambioPass=null,this.newPass!==this.inputCurrentPass&&(this.enviandoCambioPass=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($dizqueCurrentPassword: String!, $newPassword: String!) {
              cambiarPassword(
                dizqueCurrentPassword: $dizqueCurrentPassword
                newPassword: $newPassword
              )
            }
          `,variables:{dizqueCurrentPassword:this.inputCurrentPass,newPassword:this.newPass}}).then(({data:{cambiarPassword:e}})=>{e&&alert("Contraseña cambiada"),this.enviandoCambioPass=!1,this.inputCurrentPass=null,this.newPass=null,this.newPass2=null}).catch(e=>{console.log(`Error cambiando pass: ${e}`),this.enviandoCambioPass=!1,this.textoResultadoCambioPass="Error"})))},uploadNuevaFoto(e){console.log("Uploading foto");const t=e.target;var o=new FormData;const i=t.files[0];o.append("nuevaFoto",i),this.subiendoNuevaFoto=!0,wf({method:"post",url:this.serverUrl+"/api/usuarios/updateFoto",data:o,headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.usuario.token}}).then(({data:{resultado:r}})=>{this.subiendoNuevaFoto=!1,r&&(console.log("Foto actualizada"),this.versionFoto++)}).catch(r=>{this.subiendoNuevaFoto=!1,console.log(`Error subiendo archivo. E: ${r}`)})}}},ai=e=>(Ge("data-v-7f49d832"),e=e(),Ke(),e),x$={key:0,class:"perfilPersonal"},I$={id:"zonaSelectores",class:"contenedorControles"},D$=ai(()=>v("img",{src:ys,alt:"Informacion"},null,-1)),P$=[D$],k$=ai(()=>v("img",{src:g0,alt:"Pass"},null,-1)),O$=[k$],R$=ai(()=>v("img",{src:If,alt:"Calendario"},null,-1)),M$=[R$],F$={key:0,id:"contenido"},B$={key:0,id:"infoSubscripcion"},L$={id:"zonaInformacionPersonal"},$$={id:"fotografia"},U$=["src"],q$={id:"zonaCamposEditablesInformacionPersonal"},j$={class:"informacionPersonal",id:"nombres",style:{"align-self":"center"}},z$={class:"informacionPersonal",id:"apellidos",style:{"align-self":"center"}},V$={class:"informacionPersonal",id:"email"},H$=ai(()=>v("img",{src:N$,alt:"Mail",class:"iconoInformacionPersonal",title:"Correo electrónico"},null,-1)),W$=ai(()=>v("img",{src:C$,alt:"Mail",class:"iconoInformacionPersonal",title:"Añdir un número móvil"},null,-1)),Q$={id:"zonaCambiarPass"},G$=ai(()=>v("div",{class:"tituloSeccion"},"Cambio de contraseña",-1)),K$={id:"instruccionesNuevoPass"},J$=["disabled"],Y$=ai(()=>v("span",null," Enviar",-1)),X$={id:"textoResultadoCambioPass"},Z$={key:1,id:"zonaCalendario"},e5={key:2,id:"zonaOrganizadorSemanal"};function t5(e,t,o,i,r,n){var u;const s=Te("loading"),a=Te("calendario"),l=Te("organizador-horario-semanal"),c=Te("router-view");return e.usuarioLogeado?(H(),Y("div",x$,[U(Se(s,{texto:"Cargando"},null,512),[[K,e.$apollo.queries.esteUsuario.loading]]),v("div",I$,[v("div",{class:"boton",title:"Información personal",onClick:t[0]||(t[0]=d=>r.seccion="informacionPersonal")},P$),v("div",{class:"boton",title:"Cambiar contraseña",onClick:t[1]||(t[1]=d=>r.seccion="cambiarPass")},O$),v("div",{class:"boton",title:"Mi calendario",onClick:t[2]||(t[2]=d=>r.seccion="calendario")},M$)]),e.$apollo.queries.esteUsuario.loading?he("",!0):(H(),Y("div",F$,[(u=r.esteUsuario)!=null&&u.finSubscripcion?(H(),Y("div",B$," Subscripción activa hasta "+ve(e.enrichedToReadableDate(r.esteUsuario.finSubscripcion)),1)):he("",!0),U(v("div",L$,[v("div",$$,[v("img",{src:e.serverUrl+"/api/usuarios/fotografias/"+e.usuario.id+"?v="+r.versionFoto,alt:"Fotografía"},null,8,U$),U(v("input",{type:"file",ref:"inputFotoUsuario",onChange:t[3]||(t[3]=(...d)=>n.uploadNuevaFoto&&n.uploadNuevaFoto(...d))},null,544),[[K,!1]])]),v("div",q$,[v("div",j$,ve(r.esteUsuario.nombres),1),v("div",z$,ve(r.esteUsuario.apellidos),1),v("div",V$,[H$,v("span",null,ve(r.esteUsuario.email),1)]),W$,(H(!0),Y(Me,null,Ve(r.esteUsuario.numerosMovil,d=>(H(),Y("div",{class:"informacionPersonal numeroMovil",key:d.id},[v("span",null,ve(r.esteUsuario.numeroMovil),1)]))),128))])],512),[[K,r.seccion==="informacionPersonal"]]),U(v("div",Q$,[G$,U(v("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>r.inputCurrentPass=d),placeholder:"Contraseña actual",type:"password",id:"inputCurrentPass",class:"inputCambiarPass"},null,512),[[je,r.inputCurrentPass]]),U(v("div",K$," La contraseña debe tener al menos 8 caracteres y no contener espacios. ",512),[[K,n.newPassIlegal&&!n.inputCurrentPassIlegal]]),U(v("input",{"onUpdate:modelValue":t[5]||(t[5]=d=>r.newPass=d),placeholder:"Nueva contraseña",type:"password",id:"inputNuevoPass",class:de(["inputCambiarPass",{aprobado:!n.newPassIlegal}])},null,2),[[je,r.newPass],[K,!n.inputCurrentPassIlegal]]),U(v("input",{disabled:n.newPassIlegal,"onUpdate:modelValue":t[6]||(t[6]=d=>r.newPass2=d),placeholder:"Nueva contraseña (Otra vez)",type:"password",id:"inputNuevoPass2",class:de(["inputCambiarPass",{aprobado:!n.newPassIlegal&&!n.newPass2Ilegal}]),onKeypress:t[7]||(t[7]=pt((...d)=>n.enviarCambioPass&&n.enviarCambioPass(...d),["enter"]))},null,42,J$),[[je,r.newPass2],[K,!n.newPassIlegal]]),v("div",{id:"botonEnviarNuevoPass",onClick:t[8]||(t[8]=(...d)=>n.enviarCambioPass&&n.enviarCambioPass(...d)),class:de({deshabilitado:n.newPassIlegal||n.newPass2Ilegal||r.enviandoCambioPass})},[Y$,U(Se(s,{texto:""},null,512),[[K,r.enviandoCambioPass]])],2),v("div",X$,ve(r.textoResultadoCambioPass),1)],512),[[K,r.seccion==="cambiarPass"]]),r.seccion==="calendario"?(H(),Y("div",Z$,[e.usuarioLogeado?(H(),qe(a,{key:0,enfasis:"eventosPersonales",idUsuarioTarget:this.usuario.id},null,8,["idUsuarioTarget"])):he("",!0)])):he("",!0),r.seccion==="organizadorSemanal"?(H(),Y("div",e5,[Se(l)])):he("",!0)])),Se(c)])):he("",!0)}const o5=Le(T$,[["render",t5],["__scopeId","data-v-7f49d832"]]);var Tm=/[^ a-zA-ZÀ-ž0-9_():.,-]/g,xm=/[^ a-zA-ZÀ-žñÑ]/g,r5=/[^0-9+-]/g,i5=/\S+@\S+\.\S+/,n5=/[12][90][0-9][0-9]-[01][0-9]-[0-3][0-9]/,s5=/[^a-zA-Z0-9ñÑ*@_-]/g;const a5=function(e){var t=[];for(let o in e){if(!e[o])return t.push(`Falta ${o}`),t;e[o]=e[o].trim(),o=="nombres"?(e.nombres.length<2&&t.push("Tu nombre es muy corto"),xm.test(e.nombres)&&t.push("Tu nombre contiene caracteres no permitidos")):o=="apellidos"?(e.apellidos.length<2&&t.push("Tu apellido es muy corto"),xm.test(e.apellidos)&&t.push("Tu apellido contiene caracteres no permitidos")):o=="fechaNacimiento"?n5.test(e.fechaNacimiento)||t.push("Tu fecha de nacimiento es incorrecta"):o=="email"?e.email.length>0&&!i5.test(e.email)&&t.push("Tu e-mail no es válido"):o=="numeroTel"?r5.test(e.numeroTel)&&t.push("Tu número telefónico no es válido"):o=="lugarResidencia"?(e.lugarResidencia.length<2&&t.push("Tu lugar de residencia es muy corto"),Tm.test(e.lugarResidencia)&&t.push("Tu lugar de residencia contiene caracteres no permitidos")):o=="username"?(e.username.length<4&&t.push("Tu nombre de usuario es muy corto"),Tm.test(e.username)&&t.push("Tu nombre de usuario contiene caracteres no permitidos")):o=="password"?((e.password.length<6||e.password.length>32)&&t.push("Tu contraseña debe contener entre 6 y 32 caracteres"),s5.test(e.password)&&t.push("Tu password contiene caracteres no permitidos")):t.push(`El dato ${o} no tenía lógica de validación. Informa al administrador del sistema por favor`)}return t},l5={name:"Registro",data(){return{datosRegistro:{nombres:null,apellidos:null,fechaNacimiento:null,email:null,numeroTel:null,lugarResidencia:null,username:null,password:null},camposObligatorios:["nombres","apellidos","username","password"]}},methods:{enviarRegistro(){let e=new Object;this.datosRegistro.username||(this.datosRegistro.username=this.datosRegistro.nombres.split(" ")[0]+this.datosRegistro.apellidos.split(" ")[0]),this.datosRegistro.password||(this.datosRegistro.password=this.datosRegistro.nombres.split(" ")[0]+this.datosRegistro.apellidos.split(" ")[0]);for(let i in this.datosRegistro)this.datosRegistro[i]?e[i]=this.datosRegistro[i]:console.log(`campo ${i} vacio`);this.camposObligatorios.forEach(i=>{if(!e[i]){console.log(`Faltaba el campo ${i}`);return}});let t=this,o=a5(e);o.length<1?wf.post(this.serverUrl+"/api/usuarios/registro",{usuario:e}).then(function(i){console.log(`respuesta: ${JSON.stringify(i.data)}`),i.data.registro&&alert("Registro ok"),t.vaciarCampos()}).catch(function(i){console.log(`error: ${i}`)}):console.log(`Errores: ${o}`)},vaciarCampos(){console.log("Vaciando campos"),this.datosRegistro={nombres:null,apellidos:null,fechaNacimiento:null,email:null,numeroTel:null,lugarResidencia:null,username:null,password:null}},alertar(e){console.log(e)}}},Dt=e=>(Ge("data-v-daad3872"),e=e(),Ke(),e),c5={class:"registro"},u5={id:"zonaDatosPersonales"},d5=Dt(()=>v("h3",null,"Información Personal",-1)),f5=Dt(()=>v("br",null,null,-1)),h5=Dt(()=>v("br",null,null,-1)),p5=Dt(()=>v("br",null,null,-1)),m5=Dt(()=>v("label",{for:"fechaNacimiento"},"Fecha de nacimiento",-1)),v5=Dt(()=>v("br",null,null,-1)),g5=Dt(()=>v("br",null,null,-1)),y5={id:"zonaContacto"},b5=Dt(()=>v("h3",null,"Datos de contacto",-1)),w5=Dt(()=>v("br",null,null,-1)),E5=Dt(()=>v("br",null,null,-1)),_5=Dt(()=>v("label",{for:"numeroTel"},"Número telefónico",-1)),S5=Dt(()=>v("br",null,null,-1)),A5=Dt(()=>v("br",null,null,-1)),N5=Dt(()=>v("br",null,null,-1)),C5=Dt(()=>v("label",{for:"lugarResidencia"},"Lugar de residencia",-1)),T5=Dt(()=>v("br",null,null,-1)),x5={id:"zonaLogin"},I5=Dt(()=>v("h3",null,"Datos de login",-1)),D5=Dt(()=>v("br",null,null,-1)),P5=Dt(()=>v("br",null,null,-1));function k5(e,t,o,i,r,n){return H(),Y("div",c5,[v("form",null,[v("div",u5,[d5,U(v("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.datosRegistro.nombres=s),type:"text",name:"nombres",placeholder:"Nombres"},null,512),[[je,r.datosRegistro.nombres]]),f5,U(v("input",{"onUpdate:modelValue":t[1]||(t[1]=s=>r.datosRegistro.apellidos=s),type:"text",name:"apellidos",placeholder:"Apellidos"},null,512),[[je,r.datosRegistro.apellidos]]),h5,p5,m5,v5,U(v("input",{"onUpdate:modelValue":t[2]||(t[2]=s=>r.datosRegistro.fechaNacimiento=s),type:"date",name:"fechaNacimiento"},null,512),[[je,r.datosRegistro.fechaNacimiento]]),g5]),v("div",y5,[b5,U(v("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>r.datosRegistro.email=s),type:"email",placeholder:"Correo electrónico"},null,512),[[je,r.datosRegistro.email]]),w5,E5,_5,S5,U(v("input",{"onUpdate:modelValue":t[4]||(t[4]=s=>r.datosRegistro.numeroTel=s),type:"text",name:"numeroTel"},null,512),[[je,r.datosRegistro.numeroTel]]),A5,N5,C5,T5,U(v("input",{"onUpdate:modelValue":t[5]||(t[5]=s=>r.datosRegistro.lugarResidencia=s),type:"text",placeholder:"Lugar de residencia"},null,512),[[je,r.datosRegistro.lugarResidencia]])]),v("div",x5,[I5,U(v("input",{type:"text",placeholder:"nombre de usuario",name:"username","onUpdate:modelValue":t[6]||(t[6]=s=>r.datosRegistro.username=s)},null,512),[[je,r.datosRegistro.username]]),D5,U(v("input",{type:"password",placeholder:"password",name:"password","onUpdate:modelValue":t[7]||(t[7]=s=>r.datosRegistro.password=s)},null,512),[[je,r.datosRegistro.password]]),P5]),v("button",{onClick:t[8]||(t[8]=Ae((...s)=>n.enviarRegistro&&n.enviarRegistro(...s),["prevent"]))},"Enviar")])])}const O5=Le(l5,[["render",k5],["__scopeId","data-v-daad3872"]]),R5=864e5,M5={name:"BloqueSubscripcion",components:{Loading:ut},props:{esteBloque:Object,seleccionado:Boolean,idPersona:String},data(){return{eliminandose:!1}},computed:{dateFinal(){return new Date(new Date(this.esteBloque.dateInicio).getTime()+this.esteBloque.duracion*R5*30)}},methods:{eliminarse(){if(!this.usuarioSuperadministrador){console.log("No autorizado");return}confirm("¿Confirmar la eliminación del bloque de subscripción? (Esta acción no puede deshacerse)")&&(this.eliminandose=!0,this.$apollo.mutate({mutation:Pe`
                mutation($idUsuario: ID!, $idBloque: ID!){
                    eliminarBloqueSubscripcionUsuario(idUsuario: $idUsuario, idBloque: $idBloque)
                }
                `,variables:{idUsuario:this.idPersona,idBloque:this.esteBloque.id}}).then(()=>{console.log("Bloque eliminado"),this.eliminandose=!1;const e=this.$apollo.provider.defaultClient,t=e.readQuery({query:Ln,variables:{idUsuario:this.idPersona}});let o=JSON.parse(JSON.stringify(t)),i=o.Usuario.bloquesSubscripcion,r=i.findIndex(n=>n.id===this.esteBloque.id);r>-1?(i.splice(r,1),e.writeQuery({query:Ln,variables:{idUsuario:this.idPersona},data:o})):console.log("El bloque no estaba en caché")}).catch(e=>{console.log("Error: "+e),this.eliminandose=!1}))}}},F5=e=>(Ge("data-v-27cd5fba"),e=e(),Ke(),e),B5={class:"barraSuperior"},L5={id:"duracion"},$5={id:"valorPagado"},U5=F5(()=>v("img",{src:Rt,alt:"X"},null,-1)),q5=[U5];function j5(e,t,o,i,r,n){const s=Te("loading");return H(),Y("div",{class:de(["bloqueSubscripcion",{deshabilitado:r.eliminandose}])},[v("div",B5,[v("div",L5,ve(o.esteBloque.duracion),1),v("div",$5,ve(o.esteBloque.valorPagado),1),$e(" "+ve(e.toReadableDate(o.esteBloque.dateInicio))+" - "+ve(e.toReadableDate(n.dateFinal))+" ",1),U(Se(s,{style:{"margin-left":"auto"}},null,512),[[K,r.eliminandose]]),U(v("div",{class:"boton",style:{"margin-left":"auto",height:"20px"},onClick:t[0]||(t[0]=Ae((...a)=>n.eliminarse&&n.eliminarse(...a),["stop"]))},q5,512),[[K,!r.eliminandose]])])],2)}const z5=Le(M5,[["render",j5],["__scopeId","data-v-27cd5fba"]]);var V5=Object.defineProperty,H5=(e,t,o)=>t in e?V5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,we=(e,t,o)=>(H5(e,typeof t!="symbol"?t+"":t,o),o);class Ca{constructor(t){we(this,"rootKey"),this.rootKey=t}}const W5=Object.seal({});class ge extends Ca{constructor(t){super(t),we(this,"root"),this.root=new Array}prepForXml(t){var o;t.stack.push(this);const i=this.root.map(r=>r instanceof Ca?r.prepForXml(t):r).filter(r=>r!==void 0);return t.stack.pop(),{[this.rootKey]:i.length?i.length===1&&((o=i[0])!=null&&o._attr)?i[0]:i:W5}}addChildElement(t){return this.root.push(t),this}}class er extends ge{prepForXml(t){const o=super.prepForXml(t);if(o&&(typeof o[this.rootKey]!="object"||Object.keys(o[this.rootKey]).length))return o}}class Be extends Ca{constructor(t){super("_attr"),we(this,"xmlKeys"),this.root=t}prepForXml(t){const o={};return Object.keys(this.root).forEach(i=>{const r=this.root[i];if(r!==void 0){const n=this.xmlKeys&&this.xmlKeys[i]||i;o[n]=r}}),{_attr:o}}}class tr extends Ca{constructor(t){super("_attr"),this.root=t}prepForXml(t){return{_attr:Object.values(this.root).filter(({value:i})=>i!==void 0).reduce((i,{key:r,value:n})=>({...i,[r]:n}),{})}}}class gt extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Df(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var y0={},Pf={exports:{}},Ti=typeof Reflect=="object"?Reflect:null,Im=Ti&&typeof Ti.apply=="function"?Ti.apply:function(t,o,i){return Function.prototype.apply.call(t,o,i)},ca;Ti&&typeof Ti.ownKeys=="function"?ca=Ti.ownKeys:Object.getOwnPropertySymbols?ca=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:ca=function(t){return Object.getOwnPropertyNames(t)};function Q5(e){console&&console.warn&&console.warn(e)}var b0=Number.isNaN||function(t){return t!==t};function st(){st.init.call(this)}Pf.exports=st;Pf.exports.once=Y5;st.EventEmitter=st;st.prototype._events=void 0;st.prototype._eventsCount=0;st.prototype._maxListeners=void 0;var Dm=10;function pl(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(st,"defaultMaxListeners",{enumerable:!0,get:function(){return Dm},set:function(e){if(typeof e!="number"||e<0||b0(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Dm=e}});st.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};st.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||b0(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function w0(e){return e._maxListeners===void 0?st.defaultMaxListeners:e._maxListeners}st.prototype.getMaxListeners=function(){return w0(this)};st.prototype.emit=function(t){for(var o=[],i=1;i<arguments.length;i++)o.push(arguments[i]);var r=t==="error",n=this._events;if(n!==void 0)r=r&&n.error===void 0;else if(!r)return!1;if(r){var s;if(o.length>0&&(s=o[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=n[t];if(l===void 0)return!1;if(typeof l=="function")Im(l,this,o);else for(var c=l.length,u=N0(l,c),i=0;i<c;++i)Im(u[i],this,o);return!0};function E0(e,t,o,i){var r,n,s;if(pl(o),n=e._events,n===void 0?(n=e._events=Object.create(null),e._eventsCount=0):(n.newListener!==void 0&&(e.emit("newListener",t,o.listener?o.listener:o),n=e._events),s=n[t]),s===void 0)s=n[t]=o,++e._eventsCount;else if(typeof s=="function"?s=n[t]=i?[o,s]:[s,o]:i?s.unshift(o):s.push(o),r=w0(e),r>0&&s.length>r&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,Q5(a)}return e}st.prototype.addListener=function(t,o){return E0(this,t,o,!1)};st.prototype.on=st.prototype.addListener;st.prototype.prependListener=function(t,o){return E0(this,t,o,!0)};function G5(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _0(e,t,o){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:o},r=G5.bind(i);return r.listener=o,i.wrapFn=r,r}st.prototype.once=function(t,o){return pl(o),this.on(t,_0(this,t,o)),this};st.prototype.prependOnceListener=function(t,o){return pl(o),this.prependListener(t,_0(this,t,o)),this};st.prototype.removeListener=function(t,o){var i,r,n,s,a;if(pl(o),r=this._events,r===void 0)return this;if(i=r[t],i===void 0)return this;if(i===o||i.listener===o)--this._eventsCount===0?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,i.listener||o));else if(typeof i!="function"){for(n=-1,s=i.length-1;s>=0;s--)if(i[s]===o||i[s].listener===o){a=i[s].listener,n=s;break}if(n<0)return this;n===0?i.shift():K5(i,n),i.length===1&&(r[t]=i[0]),r.removeListener!==void 0&&this.emit("removeListener",t,a||o)}return this};st.prototype.off=st.prototype.removeListener;st.prototype.removeAllListeners=function(t){var o,i,r;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var n=Object.keys(i),s;for(r=0;r<n.length;++r)s=n[r],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(o=i[t],typeof o=="function")this.removeListener(t,o);else if(o!==void 0)for(r=o.length-1;r>=0;r--)this.removeListener(t,o[r]);return this};function S0(e,t,o){var i=e._events;if(i===void 0)return[];var r=i[t];return r===void 0?[]:typeof r=="function"?o?[r.listener||r]:[r]:o?J5(r):N0(r,r.length)}st.prototype.listeners=function(t){return S0(this,t,!0)};st.prototype.rawListeners=function(t){return S0(this,t,!1)};st.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):A0.call(e,t)};st.prototype.listenerCount=A0;function A0(e){var t=this._events;if(t!==void 0){var o=t[e];if(typeof o=="function")return 1;if(o!==void 0)return o.length}return 0}st.prototype.eventNames=function(){return this._eventsCount>0?ca(this._events):[]};function N0(e,t){for(var o=new Array(t),i=0;i<t;++i)o[i]=e[i];return o}function K5(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function J5(e){for(var t=new Array(e.length),o=0;o<t.length;++o)t[o]=e[o].listener||e[o];return t}function Y5(e,t){return new Promise(function(o,i){function r(s){e.removeListener(t,n),i(s)}function n(){typeof e.removeListener=="function"&&e.removeListener("error",r),o([].slice.call(arguments))}C0(e,t,n,{once:!0}),t!=="error"&&X5(e,r,{once:!0})})}function X5(e,t,o){typeof e.on=="function"&&C0(e,"error",t,o)}function C0(e,t,o,i){if(typeof e.on=="function")i.once?e.once(t,o):e.on(t,o);else if(typeof e.addEventListener=="function")e.addEventListener(t,function r(n){i.once&&e.removeEventListener(t,r),o(n)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var kf=Pf.exports,sd={exports:{}};typeof Object.create=="function"?sd.exports=function(t,o){o&&(t.super_=o,t.prototype=Object.create(o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:sd.exports=function(t,o){if(o){t.super_=o;var i=function(){};i.prototype=o.prototype,t.prototype=new i,t.prototype.constructor=t}};var li=sd.exports,cc={},_n={},Pm;function Z5(){if(Pm)return _n;Pm=1,_n.byteLength=a,_n.toByteArray=c,_n.fromByteArray=p;for(var e=[],t=[],o=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,n=i.length;r<n;++r)e[r]=i[r],t[i.charCodeAt(r)]=r;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function s(f){var g=f.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=f.indexOf("=");y===-1&&(y=g);var T=y===g?0:4-y%4;return[y,T]}function a(f){var g=s(f),y=g[0],T=g[1];return(y+T)*3/4-T}function l(f,g,y){return(g+y)*3/4-y}function c(f){var g,y=s(f),T=y[0],w=y[1],_=new o(l(f,T,w)),x=0,D=w>0?T-4:T,M;for(M=0;M<D;M+=4)g=t[f.charCodeAt(M)]<<18|t[f.charCodeAt(M+1)]<<12|t[f.charCodeAt(M+2)]<<6|t[f.charCodeAt(M+3)],_[x++]=g>>16&255,_[x++]=g>>8&255,_[x++]=g&255;return w===2&&(g=t[f.charCodeAt(M)]<<2|t[f.charCodeAt(M+1)]>>4,_[x++]=g&255),w===1&&(g=t[f.charCodeAt(M)]<<10|t[f.charCodeAt(M+1)]<<4|t[f.charCodeAt(M+2)]>>2,_[x++]=g>>8&255,_[x++]=g&255),_}function u(f){return e[f>>18&63]+e[f>>12&63]+e[f>>6&63]+e[f&63]}function d(f,g,y){for(var T,w=[],_=g;_<y;_+=3)T=(f[_]<<16&16711680)+(f[_+1]<<8&65280)+(f[_+2]&255),w.push(u(T));return w.join("")}function p(f){for(var g,y=f.length,T=y%3,w=[],_=16383,x=0,D=y-T;x<D;x+=_)w.push(d(f,x,x+_>D?D:x+_));return T===1?(g=f[y-1],w.push(e[g>>2]+e[g<<4&63]+"==")):T===2&&(g=(f[y-2]<<8)+f[y-1],w.push(e[g>>10]+e[g>>4&63]+e[g<<2&63]+"=")),w.join("")}return _n}var qs={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var km;function eU(){return km||(km=1,qs.read=function(e,t,o,i,r){var n,s,a=r*8-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=o?r-1:0,p=o?-1:1,f=e[t+d];for(d+=p,n=f&(1<<-u)-1,f>>=-u,u+=a;u>0;n=n*256+e[t+d],d+=p,u-=8);for(s=n&(1<<-u)-1,n>>=-u,u+=i;u>0;s=s*256+e[t+d],d+=p,u-=8);if(n===0)n=1-c;else{if(n===l)return s?NaN:(f?-1:1)*(1/0);s=s+Math.pow(2,i),n=n-c}return(f?-1:1)*s*Math.pow(2,n-i)},qs.write=function(e,t,o,i,r,n){var s,a,l,c=n*8-r-1,u=(1<<c)-1,d=u>>1,p=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:n-1,g=i?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+d>=1?t+=p/l:t+=p*Math.pow(2,1-d),t*l>=2&&(s++,l/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*l-1)*Math.pow(2,r),s=s+d):(a=t*Math.pow(2,d-1)*Math.pow(2,r),s=0));r>=8;e[o+f]=a&255,f+=g,a/=256,r-=8);for(s=s<<r|a,c+=r;c>0;e[o+f]=s&255,f+=g,s/=256,c-=8);e[o+f-g]|=y*128}),qs}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var Om;function bs(){return Om||(Om=1,function(e){var t=Z5(),o=eU(),i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=_,e.INSPECT_MAX_BYTES=50;var r=2147483647;e.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=n(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function n(){try{var S=new Uint8Array(1),h={foo:function(){return 42}};return Object.setPrototypeOf(h,Uint8Array.prototype),Object.setPrototypeOf(S,h),S.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(S){if(S>r)throw new RangeError('The value "'+S+'" is invalid for option "size"');var h=new Uint8Array(S);return Object.setPrototypeOf(h,a.prototype),h}function a(S,h,m){if(typeof S=="number"){if(typeof h=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(S)}return l(S,h,m)}a.poolSize=8192;function l(S,h,m){if(typeof S=="string")return p(S,h);if(ArrayBuffer.isView(S))return g(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(R(S,ArrayBuffer)||S&&R(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(R(S,SharedArrayBuffer)||S&&R(S.buffer,SharedArrayBuffer)))return y(S,h,m);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var E=S.valueOf&&S.valueOf();if(E!=null&&E!==S)return a.from(E,h,m);var O=T(S);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return a.from(S[Symbol.toPrimitive]("string"),h,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}a.from=function(S,h,m){return l(S,h,m)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function u(S,h,m){return c(S),S<=0?s(S):h!==void 0?typeof m=="string"?s(S).fill(h,m):s(S).fill(h):s(S)}a.alloc=function(S,h,m){return u(S,h,m)};function d(S){return c(S),s(S<0?0:w(S)|0)}a.allocUnsafe=function(S){return d(S)},a.allocUnsafeSlow=function(S){return d(S)};function p(S,h){if((typeof h!="string"||h==="")&&(h="utf8"),!a.isEncoding(h))throw new TypeError("Unknown encoding: "+h);var m=x(S,h)|0,E=s(m),O=E.write(S,h);return O!==m&&(E=E.slice(0,O)),E}function f(S){for(var h=S.length<0?0:w(S.length)|0,m=s(h),E=0;E<h;E+=1)m[E]=S[E]&255;return m}function g(S){if(R(S,Uint8Array)){var h=new Uint8Array(S);return y(h.buffer,h.byteOffset,h.byteLength)}return f(S)}function y(S,h,m){if(h<0||S.byteLength<h)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<h+(m||0))throw new RangeError('"length" is outside of buffer bounds');var E;return h===void 0&&m===void 0?E=new Uint8Array(S):m===void 0?E=new Uint8Array(S,h):E=new Uint8Array(S,h,m),Object.setPrototypeOf(E,a.prototype),E}function T(S){if(a.isBuffer(S)){var h=w(S.length)|0,m=s(h);return m.length===0||S.copy(m,0,0,h),m}if(S.length!==void 0)return typeof S.length!="number"||b(S.length)?s(0):f(S);if(S.type==="Buffer"&&Array.isArray(S.data))return f(S.data)}function w(S){if(S>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return S|0}function _(S){return+S!=S&&(S=0),a.alloc(+S)}a.isBuffer=function(h){return h!=null&&h._isBuffer===!0&&h!==a.prototype},a.compare=function(h,m){if(R(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),R(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(h)||!a.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(h===m)return 0;for(var E=h.length,O=m.length,L=0,$=Math.min(E,O);L<$;++L)if(h[L]!==m[L]){E=h[L],O=m[L];break}return E<O?-1:O<E?1:0},a.isEncoding=function(h){switch(String(h).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(h,m){if(!Array.isArray(h))throw new TypeError('"list" argument must be an Array of Buffers');if(h.length===0)return a.alloc(0);var E;if(m===void 0)for(m=0,E=0;E<h.length;++E)m+=h[E].length;var O=a.allocUnsafe(m),L=0;for(E=0;E<h.length;++E){var $=h[E];if(R($,Uint8Array))L+$.length>O.length?a.from($).copy(O,L):Uint8Array.prototype.set.call(O,$,L);else if(a.isBuffer($))$.copy(O,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=$.length}return O};function x(S,h){if(a.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||R(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);var m=S.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&m===0)return 0;for(var O=!1;;)switch(h){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return A(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return k(S).length;default:if(O)return E?-1:A(S).length;h=(""+h).toLowerCase(),O=!0}}a.byteLength=x;function D(S,h,m){var E=!1;if((h===void 0||h<0)&&(h=0),h>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,h>>>=0,m<=h))return"";for(S||(S="utf8");;)switch(S){case"hex":return le(this,h,m);case"utf8":case"utf-8":return I(this,h,m);case"ascii":return X(this,h,m);case"latin1":case"binary":return pe(this,h,m);case"base64":return Z(this,h,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,h,m);default:if(E)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),E=!0}}a.prototype._isBuffer=!0;function M(S,h,m){var E=S[h];S[h]=S[m],S[m]=E}a.prototype.swap16=function(){var h=this.length;if(h%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<h;m+=2)M(this,m,m+1);return this},a.prototype.swap32=function(){var h=this.length;if(h%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<h;m+=4)M(this,m,m+3),M(this,m+1,m+2);return this},a.prototype.swap64=function(){var h=this.length;if(h%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<h;m+=8)M(this,m,m+7),M(this,m+1,m+6),M(this,m+2,m+5),M(this,m+3,m+4);return this},a.prototype.toString=function(){var h=this.length;return h===0?"":arguments.length===0?I(this,0,h):D.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(h){if(!a.isBuffer(h))throw new TypeError("Argument must be a Buffer");return this===h?!0:a.compare(this,h)===0},a.prototype.inspect=function(){var h="",m=e.INSPECT_MAX_BYTES;return h=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(h+=" ... "),"<Buffer "+h+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(h,m,E,O,L){if(R(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(h))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof h);if(m===void 0&&(m=0),E===void 0&&(E=h?h.length:0),O===void 0&&(O=0),L===void 0&&(L=this.length),m<0||E>h.length||O<0||L>this.length)throw new RangeError("out of range index");if(O>=L&&m>=E)return 0;if(O>=L)return-1;if(m>=E)return 1;if(m>>>=0,E>>>=0,O>>>=0,L>>>=0,this===h)return 0;for(var $=L-O,oe=E-m,ae=Math.min($,oe),se=this.slice(O,L),Ee=h.slice(m,E),xe=0;xe<ae;++xe)if(se[xe]!==Ee[xe]){$=se[xe],oe=Ee[xe];break}return $<oe?-1:oe<$?1:0};function J(S,h,m,E,O){if(S.length===0)return-1;if(typeof m=="string"?(E=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,b(m)&&(m=O?0:S.length-1),m<0&&(m=S.length+m),m>=S.length){if(O)return-1;m=S.length-1}else if(m<0)if(O)m=0;else return-1;if(typeof h=="string"&&(h=a.from(h,E)),a.isBuffer(h))return h.length===0?-1:V(S,h,m,E,O);if(typeof h=="number")return h=h&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(S,h,m):Uint8Array.prototype.lastIndexOf.call(S,h,m):V(S,[h],m,E,O);throw new TypeError("val must be string, number or Buffer")}function V(S,h,m,E,O){var L=1,$=S.length,oe=h.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(S.length<2||h.length<2)return-1;L=2,$/=2,oe/=2,m/=2}function ae(We,At){return L===1?We[At]:We.readUInt16BE(At*L)}var se;if(O){var Ee=-1;for(se=m;se<$;se++)if(ae(S,se)===ae(h,Ee===-1?0:se-Ee)){if(Ee===-1&&(Ee=se),se-Ee+1===oe)return Ee*L}else Ee!==-1&&(se-=se-Ee),Ee=-1}else for(m+oe>$&&(m=$-oe),se=m;se>=0;se--){for(var xe=!0,Ie=0;Ie<oe;Ie++)if(ae(S,se+Ie)!==ae(h,Ie)){xe=!1;break}if(xe)return se}return-1}a.prototype.includes=function(h,m,E){return this.indexOf(h,m,E)!==-1},a.prototype.indexOf=function(h,m,E){return J(this,h,m,E,!0)},a.prototype.lastIndexOf=function(h,m,E){return J(this,h,m,E,!1)};function W(S,h,m,E){m=Number(m)||0;var O=S.length-m;E?(E=Number(E),E>O&&(E=O)):E=O;var L=h.length;E>L/2&&(E=L/2);for(var $=0;$<E;++$){var oe=parseInt(h.substr($*2,2),16);if(b(oe))return $;S[m+$]=oe}return $}function P(S,h,m,E){return C(A(h,S.length-m),S,m,E)}function ie(S,h,m,E){return C(G(h),S,m,E)}function fe(S,h,m,E){return C(k(h),S,m,E)}function B(S,h,m,E){return C(j(h,S.length-m),S,m,E)}a.prototype.write=function(h,m,E,O){if(m===void 0)O="utf8",E=this.length,m=0;else if(E===void 0&&typeof m=="string")O=m,E=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(E)?(E=E>>>0,O===void 0&&(O="utf8")):(O=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var L=this.length-m;if((E===void 0||E>L)&&(E=L),h.length>0&&(E<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");for(var $=!1;;)switch(O){case"hex":return W(this,h,m,E);case"utf8":case"utf-8":return P(this,h,m,E);case"ascii":case"latin1":case"binary":return ie(this,h,m,E);case"base64":return fe(this,h,m,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,h,m,E);default:if($)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),$=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Z(S,h,m){return h===0&&m===S.length?t.fromByteArray(S):t.fromByteArray(S.slice(h,m))}function I(S,h,m){m=Math.min(S.length,m);for(var E=[],O=h;O<m;){var L=S[O],$=null,oe=L>239?4:L>223?3:L>191?2:1;if(O+oe<=m){var ae,se,Ee,xe;switch(oe){case 1:L<128&&($=L);break;case 2:ae=S[O+1],(ae&192)===128&&(xe=(L&31)<<6|ae&63,xe>127&&($=xe));break;case 3:ae=S[O+1],se=S[O+2],(ae&192)===128&&(se&192)===128&&(xe=(L&15)<<12|(ae&63)<<6|se&63,xe>2047&&(xe<55296||xe>57343)&&($=xe));break;case 4:ae=S[O+1],se=S[O+2],Ee=S[O+3],(ae&192)===128&&(se&192)===128&&(Ee&192)===128&&(xe=(L&15)<<18|(ae&63)<<12|(se&63)<<6|Ee&63,xe>65535&&xe<1114112&&($=xe))}}$===null?($=65533,oe=1):$>65535&&($-=65536,E.push($>>>10&1023|55296),$=56320|$&1023),E.push($),O+=oe}return me(E)}var ne=4096;function me(S){var h=S.length;if(h<=ne)return String.fromCharCode.apply(String,S);for(var m="",E=0;E<h;)m+=String.fromCharCode.apply(String,S.slice(E,E+=ne));return m}function X(S,h,m){var E="";m=Math.min(S.length,m);for(var O=h;O<m;++O)E+=String.fromCharCode(S[O]&127);return E}function pe(S,h,m){var E="";m=Math.min(S.length,m);for(var O=h;O<m;++O)E+=String.fromCharCode(S[O]);return E}function le(S,h,m){var E=S.length;(!h||h<0)&&(h=0),(!m||m<0||m>E)&&(m=E);for(var O="",L=h;L<m;++L)O+=z[S[L]];return O}function be(S,h,m){for(var E=S.slice(h,m),O="",L=0;L<E.length-1;L+=2)O+=String.fromCharCode(E[L]+E[L+1]*256);return O}a.prototype.slice=function(h,m){var E=this.length;h=~~h,m=m===void 0?E:~~m,h<0?(h+=E,h<0&&(h=0)):h>E&&(h=E),m<0?(m+=E,m<0&&(m=0)):m>E&&(m=E),m<h&&(m=h);var O=this.subarray(h,m);return Object.setPrototypeOf(O,a.prototype),O};function ee(S,h,m){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+h>m)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(h,m,E){h=h>>>0,m=m>>>0,E||ee(h,m,this.length);for(var O=this[h],L=1,$=0;++$<m&&(L*=256);)O+=this[h+$]*L;return O},a.prototype.readUintBE=a.prototype.readUIntBE=function(h,m,E){h=h>>>0,m=m>>>0,E||ee(h,m,this.length);for(var O=this[h+--m],L=1;m>0&&(L*=256);)O+=this[h+--m]*L;return O},a.prototype.readUint8=a.prototype.readUInt8=function(h,m){return h=h>>>0,m||ee(h,1,this.length),this[h]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(h,m){return h=h>>>0,m||ee(h,2,this.length),this[h]|this[h+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(h,m){return h=h>>>0,m||ee(h,2,this.length),this[h]<<8|this[h+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(h,m){return h=h>>>0,m||ee(h,4,this.length),(this[h]|this[h+1]<<8|this[h+2]<<16)+this[h+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(h,m){return h=h>>>0,m||ee(h,4,this.length),this[h]*16777216+(this[h+1]<<16|this[h+2]<<8|this[h+3])},a.prototype.readIntLE=function(h,m,E){h=h>>>0,m=m>>>0,E||ee(h,m,this.length);for(var O=this[h],L=1,$=0;++$<m&&(L*=256);)O+=this[h+$]*L;return L*=128,O>=L&&(O-=Math.pow(2,8*m)),O},a.prototype.readIntBE=function(h,m,E){h=h>>>0,m=m>>>0,E||ee(h,m,this.length);for(var O=m,L=1,$=this[h+--O];O>0&&(L*=256);)$+=this[h+--O]*L;return L*=128,$>=L&&($-=Math.pow(2,8*m)),$},a.prototype.readInt8=function(h,m){return h=h>>>0,m||ee(h,1,this.length),this[h]&128?(255-this[h]+1)*-1:this[h]},a.prototype.readInt16LE=function(h,m){h=h>>>0,m||ee(h,2,this.length);var E=this[h]|this[h+1]<<8;return E&32768?E|4294901760:E},a.prototype.readInt16BE=function(h,m){h=h>>>0,m||ee(h,2,this.length);var E=this[h+1]|this[h]<<8;return E&32768?E|4294901760:E},a.prototype.readInt32LE=function(h,m){return h=h>>>0,m||ee(h,4,this.length),this[h]|this[h+1]<<8|this[h+2]<<16|this[h+3]<<24},a.prototype.readInt32BE=function(h,m){return h=h>>>0,m||ee(h,4,this.length),this[h]<<24|this[h+1]<<16|this[h+2]<<8|this[h+3]},a.prototype.readFloatLE=function(h,m){return h=h>>>0,m||ee(h,4,this.length),o.read(this,h,!0,23,4)},a.prototype.readFloatBE=function(h,m){return h=h>>>0,m||ee(h,4,this.length),o.read(this,h,!1,23,4)},a.prototype.readDoubleLE=function(h,m){return h=h>>>0,m||ee(h,8,this.length),o.read(this,h,!0,52,8)},a.prototype.readDoubleBE=function(h,m){return h=h>>>0,m||ee(h,8,this.length),o.read(this,h,!1,52,8)};function F(S,h,m,E,O,L){if(!a.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(h>O||h<L)throw new RangeError('"value" argument is out of bounds');if(m+E>S.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(h,m,E,O){if(h=+h,m=m>>>0,E=E>>>0,!O){var L=Math.pow(2,8*E)-1;F(this,h,m,E,L,0)}var $=1,oe=0;for(this[m]=h&255;++oe<E&&($*=256);)this[m+oe]=h/$&255;return m+E},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(h,m,E,O){if(h=+h,m=m>>>0,E=E>>>0,!O){var L=Math.pow(2,8*E)-1;F(this,h,m,E,L,0)}var $=E-1,oe=1;for(this[m+$]=h&255;--$>=0&&(oe*=256);)this[m+$]=h/oe&255;return m+E},a.prototype.writeUint8=a.prototype.writeUInt8=function(h,m,E){return h=+h,m=m>>>0,E||F(this,h,m,1,255,0),this[m]=h&255,m+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(h,m,E){return h=+h,m=m>>>0,E||F(this,h,m,2,65535,0),this[m]=h&255,this[m+1]=h>>>8,m+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(h,m,E){return h=+h,m=m>>>0,E||F(this,h,m,2,65535,0),this[m]=h>>>8,this[m+1]=h&255,m+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(h,m,E){return h=+h,m=m>>>0,E||F(this,h,m,4,4294967295,0),this[m+3]=h>>>24,this[m+2]=h>>>16,this[m+1]=h>>>8,this[m]=h&255,m+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(h,m,E){return h=+h,m=m>>>0,E||F(this,h,m,4,4294967295,0),this[m]=h>>>24,this[m+1]=h>>>16,this[m+2]=h>>>8,this[m+3]=h&255,m+4},a.prototype.writeIntLE=function(h,m,E,O){if(h=+h,m=m>>>0,!O){var L=Math.pow(2,8*E-1);F(this,h,m,E,L-1,-L)}var $=0,oe=1,ae=0;for(this[m]=h&255;++$<E&&(oe*=256);)h<0&&ae===0&&this[m+$-1]!==0&&(ae=1),this[m+$]=(h/oe>>0)-ae&255;return m+E},a.prototype.writeIntBE=function(h,m,E,O){if(h=+h,m=m>>>0,!O){var L=Math.pow(2,8*E-1);F(this,h,m,E,L-1,-L)}var $=E-1,oe=1,ae=0;for(this[m+$]=h&255;--$>=0&&(oe*=256);)h<0&&ae===0&&this[m+$+1]!==0&&(ae=1),this[m+$]=(h/oe>>0)-ae&255;return m+E},a.prototype.writeInt8=function(h,m,E){return h=+h,m=m>>>0,E||F(this,h,m,1,127,-128),h<0&&(h=255+h+1),this[m]=h&255,m+1},a.prototype.writeInt16LE=function(h,m,E){return h=+h,m=m>>>0,E||F(this,h,m,2,32767,-32768),this[m]=h&255,this[m+1]=h>>>8,m+2},a.prototype.writeInt16BE=function(h,m,E){return h=+h,m=m>>>0,E||F(this,h,m,2,32767,-32768),this[m]=h>>>8,this[m+1]=h&255,m+2},a.prototype.writeInt32LE=function(h,m,E){return h=+h,m=m>>>0,E||F(this,h,m,4,2147483647,-2147483648),this[m]=h&255,this[m+1]=h>>>8,this[m+2]=h>>>16,this[m+3]=h>>>24,m+4},a.prototype.writeInt32BE=function(h,m,E){return h=+h,m=m>>>0,E||F(this,h,m,4,2147483647,-2147483648),h<0&&(h=4294967295+h+1),this[m]=h>>>24,this[m+1]=h>>>16,this[m+2]=h>>>8,this[m+3]=h&255,m+4};function te(S,h,m,E,O,L){if(m+E>S.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}function re(S,h,m,E,O){return h=+h,m=m>>>0,O||te(S,h,m,4),o.write(S,h,m,E,23,4),m+4}a.prototype.writeFloatLE=function(h,m,E){return re(this,h,m,!0,E)},a.prototype.writeFloatBE=function(h,m,E){return re(this,h,m,!1,E)};function Q(S,h,m,E,O){return h=+h,m=m>>>0,O||te(S,h,m,8),o.write(S,h,m,E,52,8),m+8}a.prototype.writeDoubleLE=function(h,m,E){return Q(this,h,m,!0,E)},a.prototype.writeDoubleBE=function(h,m,E){return Q(this,h,m,!1,E)},a.prototype.copy=function(h,m,E,O){if(!a.isBuffer(h))throw new TypeError("argument should be a Buffer");if(E||(E=0),!O&&O!==0&&(O=this.length),m>=h.length&&(m=h.length),m||(m=0),O>0&&O<E&&(O=E),O===E||h.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),h.length-m<O-E&&(O=h.length-m+E);var L=O-E;return this===h&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,E,O):Uint8Array.prototype.set.call(h,this.subarray(E,O),m),L},a.prototype.fill=function(h,m,E,O){if(typeof h=="string"){if(typeof m=="string"?(O=m,m=0,E=this.length):typeof E=="string"&&(O=E,E=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!a.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(h.length===1){var L=h.charCodeAt(0);(O==="utf8"&&L<128||O==="latin1")&&(h=L)}}else typeof h=="number"?h=h&255:typeof h=="boolean"&&(h=Number(h));if(m<0||this.length<m||this.length<E)throw new RangeError("Out of range index");if(E<=m)return this;m=m>>>0,E=E===void 0?this.length:E>>>0,h||(h=0);var $;if(typeof h=="number")for($=m;$<E;++$)this[$]=h;else{var oe=a.isBuffer(h)?h:a.from(h,O),ae=oe.length;if(ae===0)throw new TypeError('The value "'+h+'" is invalid for argument "value"');for($=0;$<E-m;++$)this[$+m]=oe[$%ae]}return this};var q=/[^+/0-9A-Za-z-_]/g;function N(S){if(S=S.split("=")[0],S=S.trim().replace(q,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function A(S,h){h=h||1/0;for(var m,E=S.length,O=null,L=[],$=0;$<E;++$){if(m=S.charCodeAt($),m>55295&&m<57344){if(!O){if(m>56319){(h-=3)>-1&&L.push(239,191,189);continue}else if($+1===E){(h-=3)>-1&&L.push(239,191,189);continue}O=m;continue}if(m<56320){(h-=3)>-1&&L.push(239,191,189),O=m;continue}m=(O-55296<<10|m-56320)+65536}else O&&(h-=3)>-1&&L.push(239,191,189);if(O=null,m<128){if((h-=1)<0)break;L.push(m)}else if(m<2048){if((h-=2)<0)break;L.push(m>>6|192,m&63|128)}else if(m<65536){if((h-=3)<0)break;L.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((h-=4)<0)break;L.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return L}function G(S){for(var h=[],m=0;m<S.length;++m)h.push(S.charCodeAt(m)&255);return h}function j(S,h){for(var m,E,O,L=[],$=0;$<S.length&&!((h-=2)<0);++$)m=S.charCodeAt($),E=m>>8,O=m%256,L.push(O),L.push(E);return L}function k(S){return t.toByteArray(N(S))}function C(S,h,m,E){for(var O=0;O<E&&!(O+m>=h.length||O>=S.length);++O)h[O+m]=S[O];return O}function R(S,h){return S instanceof h||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===h.name}function b(S){return S!==S}var z=function(){for(var S="0123456789abcdef",h=new Array(256),m=0;m<16;++m)for(var E=m*16,O=0;O<16;++O)h[E+O]=S[m]+S[O];return h}()}(cc)),cc}bs();var T0={exports:{}},St=T0.exports={},Do,Po;function ad(){throw new Error("setTimeout has not been defined")}function ld(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Do=setTimeout:Do=ad}catch{Do=ad}try{typeof clearTimeout=="function"?Po=clearTimeout:Po=ld}catch{Po=ld}})();function x0(e){if(Do===setTimeout)return setTimeout(e,0);if((Do===ad||!Do)&&setTimeout)return Do=setTimeout,setTimeout(e,0);try{return Do(e,0)}catch{try{return Do.call(null,e,0)}catch{return Do.call(this,e,0)}}}function tU(e){if(Po===clearTimeout)return clearTimeout(e);if((Po===ld||!Po)&&clearTimeout)return Po=clearTimeout,clearTimeout(e);try{return Po(e)}catch{try{return Po.call(null,e)}catch{return Po.call(this,e)}}}var Ho=[],xi=!1,Hr,ua=-1;function oU(){!xi||!Hr||(xi=!1,Hr.length?Ho=Hr.concat(Ho):ua=-1,Ho.length&&I0())}function I0(){if(!xi){var e=x0(oU);xi=!0;for(var t=Ho.length;t;){for(Hr=Ho,Ho=[];++ua<t;)Hr&&Hr[ua].run();ua=-1,t=Ho.length}Hr=null,xi=!1,tU(e)}}St.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];Ho.push(new D0(e,t)),Ho.length===1&&!xi&&x0(I0)};function D0(e,t){this.fun=e,this.array=t}D0.prototype.run=function(){this.fun.apply(null,this.array)};St.title="browser";St.browser=!0;St.env={};St.argv=[];St.version="";St.versions={};function or(){}St.on=or;St.addListener=or;St.once=or;St.off=or;St.removeListener=or;St.removeAllListeners=or;St.emit=or;St.prependListener=or;St.prependOnceListener=or;St.listeners=function(e){return[]};St.binding=function(e){throw new Error("process.binding is not supported")};St.cwd=function(){return"/"};St.chdir=function(e){throw new Error("process.chdir is not supported")};St.umask=function(){return 0};var rU=T0.exports;const He=Df(rU);(function(e){function t(){var i=this||self;return delete e.prototype.__magic__,i}if(typeof globalThis=="object")return globalThis;if(this)return t();e.defineProperty(e.prototype,"__magic__",{configurable:!0,get:t});var o=__magic__;return o})(Object);var uc,Rm;function P0(){return Rm||(Rm=1,uc=kf.EventEmitter),uc}var dc={},fc={},hc,Mm;function k0(){return Mm||(Mm=1,hc=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},o=Symbol("test"),i=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var r=42;t[o]=r;for(o in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var n=Object.getOwnPropertySymbols(t);if(n.length!==1||n[0]!==o||!Object.prototype.propertyIsEnumerable.call(t,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,o);if(s.value!==r||s.enumerable!==!0)return!1}return!0}),hc}var pc,Fm;function ml(){if(Fm)return pc;Fm=1;var e=k0();return pc=function(){return e()&&!!Symbol.toStringTag},pc}var mc,Bm;function iU(){if(Bm)return mc;Bm=1;var e=typeof Symbol<"u"&&Symbol,t=k0();return mc=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},mc}var vc,Lm;function nU(){if(Lm)return vc;Lm=1;var e="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,o=Object.prototype.toString,i="[object Function]";return vc=function(n){var s=this;if(typeof s!="function"||o.call(s)!==i)throw new TypeError(e+s);for(var a=t.call(arguments,1),l,c=function(){if(this instanceof l){var g=s.apply(this,a.concat(t.call(arguments)));return Object(g)===g?g:this}else return s.apply(n,a.concat(t.call(arguments)))},u=Math.max(0,s.length-a.length),d=[],p=0;p<u;p++)d.push("$"+p);if(l=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(c),s.prototype){var f=function(){};f.prototype=s.prototype,l.prototype=new f,f.prototype=null}return l},vc}var gc,$m;function Of(){if($m)return gc;$m=1;var e=nU();return gc=Function.prototype.bind||e,gc}var yc,Um;function sU(){if(Um)return yc;Um=1;var e=Of();return yc=e.call(Function.call,Object.prototype.hasOwnProperty),yc}var bc,qm;function Rf(){if(qm)return bc;qm=1;var e,t=SyntaxError,o=Function,i=TypeError,r=function(ie){try{return o('"use strict"; return ('+ie+").constructor;")()}catch{}},n=Object.getOwnPropertyDescriptor;if(n)try{n({},"")}catch{n=null}var s=function(){throw new i},a=n?function(){try{return arguments.callee,s}catch{try{return n(arguments,"callee").get}catch{return s}}}():s,l=iU()(),c=Object.getPrototypeOf||function(ie){return ie.__proto__},u={},d=typeof Uint8Array>"u"?e:c(Uint8Array),p={"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":l?c([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?c(c([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!l?e:c(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!l?e:c(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?c(""[Symbol.iterator]()):e,"%Symbol%":l?Symbol:e,"%SyntaxError%":t,"%ThrowTypeError%":a,"%TypedArray%":d,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet},f=function ie(fe){var B;if(fe==="%AsyncFunction%")B=r("async function () {}");else if(fe==="%GeneratorFunction%")B=r("function* () {}");else if(fe==="%AsyncGeneratorFunction%")B=r("async function* () {}");else if(fe==="%AsyncGenerator%"){var Z=ie("%AsyncGeneratorFunction%");Z&&(B=Z.prototype)}else if(fe==="%AsyncIteratorPrototype%"){var I=ie("%AsyncGenerator%");I&&(B=c(I.prototype))}return p[fe]=B,B},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=Of(),T=sU(),w=y.call(Function.call,Array.prototype.concat),_=y.call(Function.apply,Array.prototype.splice),x=y.call(Function.call,String.prototype.replace),D=y.call(Function.call,String.prototype.slice),M=y.call(Function.call,RegExp.prototype.exec),J=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,V=/\\(\\)?/g,W=function(fe){var B=D(fe,0,1),Z=D(fe,-1);if(B==="%"&&Z!=="%")throw new t("invalid intrinsic syntax, expected closing `%`");if(Z==="%"&&B!=="%")throw new t("invalid intrinsic syntax, expected opening `%`");var I=[];return x(fe,J,function(ne,me,X,pe){I[I.length]=X?x(pe,V,"$1"):me||ne}),I},P=function(fe,B){var Z=fe,I;if(T(g,Z)&&(I=g[Z],Z="%"+I[0]+"%"),T(p,Z)){var ne=p[Z];if(ne===u&&(ne=f(Z)),typeof ne>"u"&&!B)throw new i("intrinsic "+fe+" exists, but is not available. Please file an issue!");return{alias:I,name:Z,value:ne}}throw new t("intrinsic "+fe+" does not exist!")};return bc=function(fe,B){if(typeof fe!="string"||fe.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof B!="boolean")throw new i('"allowMissing" argument must be a boolean');if(M(/^%?[^%]*%?$/,fe)===null)throw new t("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Z=W(fe),I=Z.length>0?Z[0]:"",ne=P("%"+I+"%",B),me=ne.name,X=ne.value,pe=!1,le=ne.alias;le&&(I=le[0],_(Z,w([0,1],le)));for(var be=1,ee=!0;be<Z.length;be+=1){var F=Z[be],te=D(F,0,1),re=D(F,-1);if((te==='"'||te==="'"||te==="`"||re==='"'||re==="'"||re==="`")&&te!==re)throw new t("property names with quotes must have matching quotes");if((F==="constructor"||!ee)&&(pe=!0),I+="."+F,me="%"+I+"%",T(p,me))X=p[me];else if(X!=null){if(!(F in X)){if(!B)throw new i("base intrinsic for "+fe+" exists, but the property is not available.");return}if(n&&be+1>=Z.length){var Q=n(X,F);ee=!!Q,ee&&"get"in Q&&!("originalValue"in Q.get)?X=Q.get:X=X[F]}else ee=T(X,F),X=X[F];ee&&!pe&&(p[me]=X)}}return X},bc}var wc={exports:{}},jm;function aU(){return jm||(jm=1,function(e){var t=Of(),o=Rf(),i=o("%Function.prototype.apply%"),r=o("%Function.prototype.call%"),n=o("%Reflect.apply%",!0)||t.call(r,i),s=o("%Object.getOwnPropertyDescriptor%",!0),a=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}e.exports=function(d){var p=n(t,r,arguments);if(s&&a){var f=s(p,"length");f.configurable&&a(p,"length",{value:1+l(0,d.length-(arguments.length-1))})}return p};var c=function(){return n(t,i,arguments)};a?a(e.exports,"apply",{value:c}):e.exports.apply=c}(wc)),wc.exports}var Ec,zm;function Mf(){if(zm)return Ec;zm=1;var e=Rf(),t=aU(),o=t(e("String.prototype.indexOf"));return Ec=function(r,n){var s=e(r,!!n);return typeof s=="function"&&o(r,".prototype.")>-1?t(s):s},Ec}var _c,Vm;function lU(){if(Vm)return _c;Vm=1;var e=ml()(),t=Mf(),o=t("Object.prototype.toString"),i=function(a){return e&&a&&typeof a=="object"&&Symbol.toStringTag in a?!1:o(a)==="[object Arguments]"},r=function(a){return i(a)?!0:a!==null&&typeof a=="object"&&typeof a.length=="number"&&a.length>=0&&o(a)!=="[object Array]"&&o(a.callee)==="[object Function]"},n=function(){return i(arguments)}();return i.isLegacyArguments=r,_c=n?i:r,_c}var Sc,Hm;function cU(){if(Hm)return Sc;Hm=1;var e=Object.prototype.toString,t=Function.prototype.toString,o=/^\s*(?:function)?\*/,i=ml()(),r=Object.getPrototypeOf,n=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch{}},s;return Sc=function(l){if(typeof l!="function")return!1;if(o.test(t.call(l)))return!0;if(!i){var c=e.call(l);return c==="[object GeneratorFunction]"}if(!r)return!1;if(typeof s>"u"){var u=n();s=u?r(u):!1}return r(l)===s},Sc}var Ac,Wm;function uU(){if(Wm)return Ac;Wm=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,o,i;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{o=Object.defineProperty({},"length",{get:function(){throw i}}),i={},t(function(){throw 42},null,o)}catch(_){_!==i&&(t=null)}else t=null;var r=/^\s*class\b/,n=function(x){try{var D=e.call(x);return r.test(D)}catch{return!1}},s=function(x){try{return n(x)?!1:(e.call(x),!0)}catch{return!1}},a=Object.prototype.toString,l="[object Object]",c="[object Function]",u="[object GeneratorFunction]",d="[object HTMLAllCollection]",p="[object HTML document.all class]",f="[object HTMLCollection]",g=typeof Symbol=="function"&&!!Symbol.toStringTag,y=!(0 in[,]),T=function(){return!1};if(typeof document=="object"){var w=document.all;a.call(w)===a.call(document.all)&&(T=function(x){if((y||!x)&&(typeof x>"u"||typeof x=="object"))try{var D=a.call(x);return(D===d||D===p||D===f||D===l)&&x("")==null}catch{}return!1})}return Ac=t?function(x){if(T(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;try{t(x,null,o)}catch(D){if(D!==i)return!1}return!n(x)&&s(x)}:function(x){if(T(x))return!0;if(!x||typeof x!="function"&&typeof x!="object")return!1;if(g)return s(x);if(n(x))return!1;var D=a.call(x);return D!==c&&D!==u&&!/^\[object HTML/.test(D)?!1:s(x)},Ac}var Nc,Qm;function O0(){if(Qm)return Nc;Qm=1;var e=uU(),t=Object.prototype.toString,o=Object.prototype.hasOwnProperty,i=function(l,c,u){for(var d=0,p=l.length;d<p;d++)o.call(l,d)&&(u==null?c(l[d],d,l):c.call(u,l[d],d,l))},r=function(l,c,u){for(var d=0,p=l.length;d<p;d++)u==null?c(l.charAt(d),d,l):c.call(u,l.charAt(d),d,l)},n=function(l,c,u){for(var d in l)o.call(l,d)&&(u==null?c(l[d],d,l):c.call(u,l[d],d,l))},s=function(l,c,u){if(!e(c))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=u),t.call(l)==="[object Array]"?i(l,c,d):typeof l=="string"?r(l,c,d):n(l,c,d)};return Nc=s,Nc}var Cc,Gm;function R0(){if(Gm)return Cc;Gm=1;var e=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],t=typeof globalThis>"u"?Eo:globalThis;return Cc=function(){for(var i=[],r=0;r<e.length;r++)typeof t[e[r]]=="function"&&(i[i.length]=e[r]);return i},Cc}var Tc,Km;function M0(){if(Km)return Tc;Km=1;var e=Rf(),t=e("%Object.getOwnPropertyDescriptor%",!0);if(t)try{t([],"length")}catch{t=null}return Tc=t,Tc}var xc,Jm;function F0(){if(Jm)return xc;Jm=1;var e=O0(),t=R0(),o=Mf(),i=o("Object.prototype.toString"),r=ml()(),n=M0(),s=typeof globalThis>"u"?Eo:globalThis,a=t(),l=o("Array.prototype.indexOf",!0)||function(g,y){for(var T=0;T<g.length;T+=1)if(g[T]===y)return T;return-1},c=o("String.prototype.slice"),u={},d=Object.getPrototypeOf;r&&n&&d&&e(a,function(f){var g=new s[f];if(Symbol.toStringTag in g){var y=d(g),T=n(y,Symbol.toStringTag);if(!T){var w=d(y);T=n(w,Symbol.toStringTag)}u[f]=T.get}});var p=function(g){var y=!1;return e(u,function(T,w){if(!y)try{y=T.call(g)===w}catch{}}),y};return xc=function(g){if(!g||typeof g!="object")return!1;if(!r||!(Symbol.toStringTag in g)){var y=c(i(g),8,-1);return l(a,y)>-1}return n?p(g):!1},xc}var Ic,Ym;function dU(){if(Ym)return Ic;Ym=1;var e=O0(),t=R0(),o=Mf(),i=M0(),r=o("Object.prototype.toString"),n=ml()(),s=typeof globalThis>"u"?Eo:globalThis,a=t(),l=o("String.prototype.slice"),c={},u=Object.getPrototypeOf;n&&i&&u&&e(a,function(f){if(typeof s[f]=="function"){var g=new s[f];if(Symbol.toStringTag in g){var y=u(g),T=i(y,Symbol.toStringTag);if(!T){var w=u(y);T=i(w,Symbol.toStringTag)}c[f]=T.get}}});var d=function(g){var y=!1;return e(c,function(T,w){if(!y)try{var _=T.call(g);_===w&&(y=_)}catch{}}),y},p=F0();return Ic=function(g){return p(g)?!n||!(Symbol.toStringTag in g)?l(r(g),8,-1):d(g):!1},Ic}var Xm;function fU(){return Xm||(Xm=1,function(e){var t=lU(),o=cU(),i=dU(),r=F0();function n(E){return E.call.bind(E)}var s=typeof BigInt<"u",a=typeof Symbol<"u",l=n(Object.prototype.toString),c=n(Number.prototype.valueOf),u=n(String.prototype.valueOf),d=n(Boolean.prototype.valueOf);if(s)var p=n(BigInt.prototype.valueOf);if(a)var f=n(Symbol.prototype.valueOf);function g(E,O){if(typeof E!="object")return!1;try{return O(E),!0}catch{return!1}}e.isArgumentsObject=t,e.isGeneratorFunction=o,e.isTypedArray=r;function y(E){return typeof Promise<"u"&&E instanceof Promise||E!==null&&typeof E=="object"&&typeof E.then=="function"&&typeof E.catch=="function"}e.isPromise=y;function T(E){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(E):r(E)||te(E)}e.isArrayBufferView=T;function w(E){return i(E)==="Uint8Array"}e.isUint8Array=w;function _(E){return i(E)==="Uint8ClampedArray"}e.isUint8ClampedArray=_;function x(E){return i(E)==="Uint16Array"}e.isUint16Array=x;function D(E){return i(E)==="Uint32Array"}e.isUint32Array=D;function M(E){return i(E)==="Int8Array"}e.isInt8Array=M;function J(E){return i(E)==="Int16Array"}e.isInt16Array=J;function V(E){return i(E)==="Int32Array"}e.isInt32Array=V;function W(E){return i(E)==="Float32Array"}e.isFloat32Array=W;function P(E){return i(E)==="Float64Array"}e.isFloat64Array=P;function ie(E){return i(E)==="BigInt64Array"}e.isBigInt64Array=ie;function fe(E){return i(E)==="BigUint64Array"}e.isBigUint64Array=fe;function B(E){return l(E)==="[object Map]"}B.working=typeof Map<"u"&&B(new Map);function Z(E){return typeof Map>"u"?!1:B.working?B(E):E instanceof Map}e.isMap=Z;function I(E){return l(E)==="[object Set]"}I.working=typeof Set<"u"&&I(new Set);function ne(E){return typeof Set>"u"?!1:I.working?I(E):E instanceof Set}e.isSet=ne;function me(E){return l(E)==="[object WeakMap]"}me.working=typeof WeakMap<"u"&&me(new WeakMap);function X(E){return typeof WeakMap>"u"?!1:me.working?me(E):E instanceof WeakMap}e.isWeakMap=X;function pe(E){return l(E)==="[object WeakSet]"}pe.working=typeof WeakSet<"u"&&pe(new WeakSet);function le(E){return pe(E)}e.isWeakSet=le;function be(E){return l(E)==="[object ArrayBuffer]"}be.working=typeof ArrayBuffer<"u"&&be(new ArrayBuffer);function ee(E){return typeof ArrayBuffer>"u"?!1:be.working?be(E):E instanceof ArrayBuffer}e.isArrayBuffer=ee;function F(E){return l(E)==="[object DataView]"}F.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&F(new DataView(new ArrayBuffer(1),0,1));function te(E){return typeof DataView>"u"?!1:F.working?F(E):E instanceof DataView}e.isDataView=te;var re=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function Q(E){return l(E)==="[object SharedArrayBuffer]"}function q(E){return typeof re>"u"?!1:(typeof Q.working>"u"&&(Q.working=Q(new re)),Q.working?Q(E):E instanceof re)}e.isSharedArrayBuffer=q;function N(E){return l(E)==="[object AsyncFunction]"}e.isAsyncFunction=N;function A(E){return l(E)==="[object Map Iterator]"}e.isMapIterator=A;function G(E){return l(E)==="[object Set Iterator]"}e.isSetIterator=G;function j(E){return l(E)==="[object Generator]"}e.isGeneratorObject=j;function k(E){return l(E)==="[object WebAssembly.Module]"}e.isWebAssemblyCompiledModule=k;function C(E){return g(E,c)}e.isNumberObject=C;function R(E){return g(E,u)}e.isStringObject=R;function b(E){return g(E,d)}e.isBooleanObject=b;function z(E){return s&&g(E,p)}e.isBigIntObject=z;function S(E){return a&&g(E,f)}e.isSymbolObject=S;function h(E){return C(E)||R(E)||b(E)||z(E)||S(E)}e.isBoxedPrimitive=h;function m(E){return typeof Uint8Array<"u"&&(ee(E)||q(E))}e.isAnyArrayBuffer=m,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(E){Object.defineProperty(e,E,{enumerable:!1,value:function(){throw new Error(E+" is not supported in userland")}})})}(fc)),fc}var Dc,Zm;function hU(){return Zm||(Zm=1,Dc=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"}),Dc}var ev;function B0(){return ev||(ev=1,function(e){var t=Object.getOwnPropertyDescriptors||function(te){for(var re=Object.keys(te),Q={},q=0;q<re.length;q++)Q[re[q]]=Object.getOwnPropertyDescriptor(te,re[q]);return Q},o=/%[sdj%]/g;e.format=function(F){if(!M(F)){for(var te=[],re=0;re<arguments.length;re++)te.push(s(arguments[re]));return te.join(" ")}for(var re=1,Q=arguments,q=Q.length,N=String(F).replace(o,function(G){if(G==="%%")return"%";if(re>=q)return G;switch(G){case"%s":return String(Q[re++]);case"%d":return Number(Q[re++]);case"%j":try{return JSON.stringify(Q[re++])}catch{return"[Circular]"}default:return G}}),A=Q[re];re<q;A=Q[++re])_(A)||!P(A)?N+=" "+A:N+=" "+s(A);return N},e.deprecate=function(F,te){if(typeof He<"u"&&He.noDeprecation===!0)return F;if(typeof He>"u")return function(){return e.deprecate(F,te).apply(this,arguments)};var re=!1;function Q(){if(!re){if(He.throwDeprecation)throw new Error(te);He.traceDeprecation?console.trace(te):console.error(te),re=!0}return F.apply(this,arguments)}return Q};var i={},r=/^$/;if(He.env.NODE_DEBUG){var n=He.env.NODE_DEBUG;n=n.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),r=new RegExp("^"+n+"$","i")}e.debuglog=function(F){if(F=F.toUpperCase(),!i[F])if(r.test(F)){var te=He.pid;i[F]=function(){var re=e.format.apply(e,arguments);console.error("%s %d: %s",F,te,re)}}else i[F]=function(){};return i[F]};function s(F,te){var re={seen:[],stylize:l};return arguments.length>=3&&(re.depth=arguments[2]),arguments.length>=4&&(re.colors=arguments[3]),w(te)?re.showHidden=te:te&&e._extend(re,te),V(re.showHidden)&&(re.showHidden=!1),V(re.depth)&&(re.depth=2),V(re.colors)&&(re.colors=!1),V(re.customInspect)&&(re.customInspect=!0),re.colors&&(re.stylize=a),u(re,F,re.depth)}e.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function a(F,te){var re=s.styles[te];return re?"\x1B["+s.colors[re][0]+"m"+F+"\x1B["+s.colors[re][1]+"m":F}function l(F,te){return F}function c(F){var te={};return F.forEach(function(re,Q){te[re]=!0}),te}function u(F,te,re){if(F.customInspect&&te&&B(te.inspect)&&te.inspect!==e.inspect&&!(te.constructor&&te.constructor.prototype===te)){var Q=te.inspect(re,F);return M(Q)||(Q=u(F,Q,re)),Q}var q=d(F,te);if(q)return q;var N=Object.keys(te),A=c(N);if(F.showHidden&&(N=Object.getOwnPropertyNames(te)),fe(te)&&(N.indexOf("message")>=0||N.indexOf("description")>=0))return p(te);if(N.length===0){if(B(te)){var G=te.name?": "+te.name:"";return F.stylize("[Function"+G+"]","special")}if(W(te))return F.stylize(RegExp.prototype.toString.call(te),"regexp");if(ie(te))return F.stylize(Date.prototype.toString.call(te),"date");if(fe(te))return p(te)}var j="",k=!1,C=["{","}"];if(T(te)&&(k=!0,C=["[","]"]),B(te)){var R=te.name?": "+te.name:"";j=" [Function"+R+"]"}if(W(te)&&(j=" "+RegExp.prototype.toString.call(te)),ie(te)&&(j=" "+Date.prototype.toUTCString.call(te)),fe(te)&&(j=" "+p(te)),N.length===0&&(!k||te.length==0))return C[0]+j+C[1];if(re<0)return W(te)?F.stylize(RegExp.prototype.toString.call(te),"regexp"):F.stylize("[Object]","special");F.seen.push(te);var b;return k?b=f(F,te,re,A,N):b=N.map(function(z){return g(F,te,re,A,z,k)}),F.seen.pop(),y(b,j,C)}function d(F,te){if(V(te))return F.stylize("undefined","undefined");if(M(te)){var re="'"+JSON.stringify(te).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(re,"string")}if(D(te))return F.stylize(""+te,"number");if(w(te))return F.stylize(""+te,"boolean");if(_(te))return F.stylize("null","null")}function p(F){return"["+Error.prototype.toString.call(F)+"]"}function f(F,te,re,Q,q){for(var N=[],A=0,G=te.length;A<G;++A)pe(te,String(A))?N.push(g(F,te,re,Q,String(A),!0)):N.push("");return q.forEach(function(j){j.match(/^\d+$/)||N.push(g(F,te,re,Q,j,!0))}),N}function g(F,te,re,Q,q,N){var A,G,j;if(j=Object.getOwnPropertyDescriptor(te,q)||{value:te[q]},j.get?j.set?G=F.stylize("[Getter/Setter]","special"):G=F.stylize("[Getter]","special"):j.set&&(G=F.stylize("[Setter]","special")),pe(Q,q)||(A="["+q+"]"),G||(F.seen.indexOf(j.value)<0?(_(re)?G=u(F,j.value,null):G=u(F,j.value,re-1),G.indexOf(`
`)>-1&&(N?G=G.split(`
`).map(function(k){return"  "+k}).join(`
`).slice(2):G=`
`+G.split(`
`).map(function(k){return"   "+k}).join(`
`))):G=F.stylize("[Circular]","special")),V(A)){if(N&&q.match(/^\d+$/))return G;A=JSON.stringify(""+q),A.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(A=A.slice(1,-1),A=F.stylize(A,"name")):(A=A.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),A=F.stylize(A,"string"))}return A+": "+G}function y(F,te,re){var Q=F.reduce(function(q,N){return N.indexOf(`
`)>=0,q+N.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Q>60?re[0]+(te===""?"":te+`
 `)+" "+F.join(`,
  `)+" "+re[1]:re[0]+te+" "+F.join(", ")+" "+re[1]}e.types=fU();function T(F){return Array.isArray(F)}e.isArray=T;function w(F){return typeof F=="boolean"}e.isBoolean=w;function _(F){return F===null}e.isNull=_;function x(F){return F==null}e.isNullOrUndefined=x;function D(F){return typeof F=="number"}e.isNumber=D;function M(F){return typeof F=="string"}e.isString=M;function J(F){return typeof F=="symbol"}e.isSymbol=J;function V(F){return F===void 0}e.isUndefined=V;function W(F){return P(F)&&I(F)==="[object RegExp]"}e.isRegExp=W,e.types.isRegExp=W;function P(F){return typeof F=="object"&&F!==null}e.isObject=P;function ie(F){return P(F)&&I(F)==="[object Date]"}e.isDate=ie,e.types.isDate=ie;function fe(F){return P(F)&&(I(F)==="[object Error]"||F instanceof Error)}e.isError=fe,e.types.isNativeError=fe;function B(F){return typeof F=="function"}e.isFunction=B;function Z(F){return F===null||typeof F=="boolean"||typeof F=="number"||typeof F=="string"||typeof F=="symbol"||typeof F>"u"}e.isPrimitive=Z,e.isBuffer=hU();function I(F){return Object.prototype.toString.call(F)}function ne(F){return F<10?"0"+F.toString(10):F.toString(10)}var me=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(){var F=new Date,te=[ne(F.getHours()),ne(F.getMinutes()),ne(F.getSeconds())].join(":");return[F.getDate(),me[F.getMonth()],te].join(" ")}e.log=function(){console.log("%s - %s",X(),e.format.apply(e,arguments))},e.inherits=li,e._extend=function(F,te){if(!te||!P(te))return F;for(var re=Object.keys(te),Q=re.length;Q--;)F[re[Q]]=te[re[Q]];return F};function pe(F,te){return Object.prototype.hasOwnProperty.call(F,te)}var le=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;e.promisify=function(te){if(typeof te!="function")throw new TypeError('The "original" argument must be of type Function');if(le&&te[le]){var re=te[le];if(typeof re!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(re,le,{value:re,enumerable:!1,writable:!1,configurable:!0}),re}function re(){for(var Q,q,N=new Promise(function(j,k){Q=j,q=k}),A=[],G=0;G<arguments.length;G++)A.push(arguments[G]);A.push(function(j,k){j?q(j):Q(k)});try{te.apply(this,A)}catch(j){q(j)}return N}return Object.setPrototypeOf(re,Object.getPrototypeOf(te)),le&&Object.defineProperty(re,le,{value:re,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(re,t(te))},e.promisify.custom=le;function be(F,te){if(!F){var re=new Error("Promise was rejected with a falsy value");re.reason=F,F=re}return te(F)}function ee(F){if(typeof F!="function")throw new TypeError('The "original" argument must be of type Function');function te(){for(var re=[],Q=0;Q<arguments.length;Q++)re.push(arguments[Q]);var q=re.pop();if(typeof q!="function")throw new TypeError("The last argument must be of type Function");var N=this,A=function(){return q.apply(N,arguments)};F.apply(this,re).then(function(G){He.nextTick(A.bind(null,null,G))},function(G){He.nextTick(be.bind(null,G,A))})}return Object.setPrototypeOf(te,Object.getPrototypeOf(F)),Object.defineProperties(te,t(F)),te}e.callbackify=ee}(dc)),dc}var Pc,tv;function pU(){if(tv)return Pc;tv=1;function e(p,f){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);f&&(y=y.filter(function(T){return Object.getOwnPropertyDescriptor(p,T).enumerable})),g.push.apply(g,y)}return g}function t(p){for(var f=1;f<arguments.length;f++){var g=arguments[f]!=null?arguments[f]:{};f%2?e(Object(g),!0).forEach(function(y){o(p,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):e(Object(g)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(g,y))})}return p}function o(p,f,g){return f in p?Object.defineProperty(p,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[f]=g,p}function i(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}function r(p,f){for(var g=0;g<f.length;g++){var y=f[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(p,y.key,y)}}function n(p,f,g){return f&&r(p.prototype,f),g&&r(p,g),p}var s=bs(),a=s.Buffer,l=B0(),c=l.inspect,u=c&&c.custom||"inspect";function d(p,f,g){a.prototype.copy.call(p,f,g)}return Pc=function(){function p(){i(this,p),this.head=null,this.tail=null,this.length=0}return n(p,[{key:"push",value:function(g){var y={data:g,next:null};this.length>0?this.tail.next=y:this.head=y,this.tail=y,++this.length}},{key:"unshift",value:function(g){var y={data:g,next:this.head};this.length===0&&(this.tail=y),this.head=y,++this.length}},{key:"shift",value:function(){if(this.length!==0){var g=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,g}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(g){if(this.length===0)return"";for(var y=this.head,T=""+y.data;y=y.next;)T+=g+y.data;return T}},{key:"concat",value:function(g){if(this.length===0)return a.alloc(0);for(var y=a.allocUnsafe(g>>>0),T=this.head,w=0;T;)d(T.data,y,w),w+=T.data.length,T=T.next;return y}},{key:"consume",value:function(g,y){var T;return g<this.head.data.length?(T=this.head.data.slice(0,g),this.head.data=this.head.data.slice(g)):g===this.head.data.length?T=this.shift():T=y?this._getString(g):this._getBuffer(g),T}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(g){var y=this.head,T=1,w=y.data;for(g-=w.length;y=y.next;){var _=y.data,x=g>_.length?_.length:g;if(x===_.length?w+=_:w+=_.slice(0,g),g-=x,g===0){x===_.length?(++T,y.next?this.head=y.next:this.head=this.tail=null):(this.head=y,y.data=_.slice(x));break}++T}return this.length-=T,w}},{key:"_getBuffer",value:function(g){var y=a.allocUnsafe(g),T=this.head,w=1;for(T.data.copy(y),g-=T.data.length;T=T.next;){var _=T.data,x=g>_.length?_.length:g;if(_.copy(y,y.length-g,0,x),g-=x,g===0){x===_.length?(++w,T.next?this.head=T.next:this.head=this.tail=null):(this.head=T,T.data=_.slice(x));break}++w}return this.length-=w,y}},{key:u,value:function(g,y){return c(this,t({},y,{depth:0,customInspect:!1}))}}]),p}(),Pc}var kc,ov;function L0(){if(ov)return kc;ov=1;function e(s,a){var l=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(a?a(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,He.nextTick(r,this,s)):He.nextTick(r,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(d){!a&&d?l._writableState?l._writableState.errorEmitted?He.nextTick(o,l):(l._writableState.errorEmitted=!0,He.nextTick(t,l,d)):He.nextTick(t,l,d):a?(He.nextTick(o,l),a(d)):He.nextTick(o,l)}),this)}function t(s,a){r(s,a),o(s)}function o(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(s,a){s.emit("error",a)}function n(s,a){var l=s._readableState,c=s._writableState;l&&l.autoDestroy||c&&c.autoDestroy?s.destroy(a):s.emit("error",a)}return kc={destroy:e,undestroy:i,errorOrDestroy:n},kc}var Oc={},rv;function nn(){if(rv)return Oc;rv=1;function e(a,l){a.prototype=Object.create(l.prototype),a.prototype.constructor=a,a.__proto__=l}var t={};function o(a,l,c){c||(c=Error);function u(p,f,g){return typeof l=="string"?l:l(p,f,g)}var d=function(p){e(f,p);function f(g,y,T){return p.call(this,u(g,y,T))||this}return f}(c);d.prototype.name=c.name,d.prototype.code=a,t[a]=d}function i(a,l){if(Array.isArray(a)){var c=a.length;return a=a.map(function(u){return String(u)}),c>2?"one of ".concat(l," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:c===2?"one of ".concat(l," ").concat(a[0]," or ").concat(a[1]):"of ".concat(l," ").concat(a[0])}else return"of ".concat(l," ").concat(String(a))}function r(a,l,c){return a.substr(!c||c<0?0:+c,l.length)===l}function n(a,l,c){return(c===void 0||c>a.length)&&(c=a.length),a.substring(c-l.length,c)===l}function s(a,l,c){return typeof c!="number"&&(c=0),c+l.length>a.length?!1:a.indexOf(l,c)!==-1}return o("ERR_INVALID_OPT_VALUE",function(a,l){return'The value "'+l+'" is invalid for option "'+a+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(a,l,c){var u;typeof l=="string"&&r(l,"not ")?(u="must not be",l=l.replace(/^not /,"")):u="must be";var d;if(n(a," argument"))d="The ".concat(a," ").concat(u," ").concat(i(l,"type"));else{var p=s(a,".")?"property":"argument";d='The "'.concat(a,'" ').concat(p," ").concat(u," ").concat(i(l,"type"))}return d+=". Received type ".concat(typeof c),d},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Oc.codes=t,Oc}var Rc,iv;function $0(){if(iv)return Rc;iv=1;var e=nn().codes.ERR_INVALID_OPT_VALUE;function t(i,r,n){return i.highWaterMark!=null?i.highWaterMark:r?i[n]:null}function o(i,r,n,s){var a=t(r,s,n);if(a!=null){if(!(isFinite(a)&&Math.floor(a)===a)||a<0){var l=s?n:"highWaterMark";throw new e(l,a)}return Math.floor(a)}return i.objectMode?16:16*1024}return Rc={getHighWaterMark:o},Rc}var Mc,nv;function mU(){if(nv)return Mc;nv=1,Mc=e;function e(o,i){if(t("noDeprecation"))return o;var r=!1;function n(){if(!r){if(t("throwDeprecation"))throw new Error(i);t("traceDeprecation")?console.trace(i):console.warn(i),r=!0}return o.apply(this,arguments)}return n}function t(o){try{if(!Eo.localStorage)return!1}catch{return!1}var i=Eo.localStorage[o];return i==null?!1:String(i).toLowerCase()==="true"}return Mc}var Fc,sv;function U0(){if(sv)return Fc;sv=1,Fc=W;function e(q){var N=this;this.next=null,this.entry=null,this.finish=function(){Q(N,q)}}var t;W.WritableState=J;var o={deprecate:mU()},i=P0(),r=bs().Buffer,n=Eo.Uint8Array||function(){};function s(q){return r.from(q)}function a(q){return r.isBuffer(q)||q instanceof n}var l=L0(),c=$0(),u=c.getHighWaterMark,d=nn().codes,p=d.ERR_INVALID_ARG_TYPE,f=d.ERR_METHOD_NOT_IMPLEMENTED,g=d.ERR_MULTIPLE_CALLBACK,y=d.ERR_STREAM_CANNOT_PIPE,T=d.ERR_STREAM_DESTROYED,w=d.ERR_STREAM_NULL_VALUES,_=d.ERR_STREAM_WRITE_AFTER_END,x=d.ERR_UNKNOWN_ENCODING,D=l.errorOrDestroy;li(W,i);function M(){}function J(q,N,A){t=t||Ui(),q=q||{},typeof A!="boolean"&&(A=N instanceof t),this.objectMode=!!q.objectMode,A&&(this.objectMode=this.objectMode||!!q.writableObjectMode),this.highWaterMark=u(this,q,"writableHighWaterMark",A),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var G=q.decodeStrings===!1;this.decodeStrings=!G,this.defaultEncoding=q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(j){me(N,j)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=q.emitClose!==!1,this.autoDestroy=!!q.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}J.prototype.getBuffer=function(){for(var N=this.bufferedRequest,A=[];N;)A.push(N),N=N.next;return A},function(){try{Object.defineProperty(J.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var V;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(V=Function.prototype[Symbol.hasInstance],Object.defineProperty(W,Symbol.hasInstance,{value:function(N){return V.call(this,N)?!0:this!==W?!1:N&&N._writableState instanceof J}})):V=function(N){return N instanceof this};function W(q){t=t||Ui();var N=this instanceof t;if(!N&&!V.call(W,this))return new W(q);this._writableState=new J(q,this,N),this.writable=!0,q&&(typeof q.write=="function"&&(this._write=q.write),typeof q.writev=="function"&&(this._writev=q.writev),typeof q.destroy=="function"&&(this._destroy=q.destroy),typeof q.final=="function"&&(this._final=q.final)),i.call(this)}W.prototype.pipe=function(){D(this,new y)};function P(q,N){var A=new _;D(q,A),He.nextTick(N,A)}function ie(q,N,A,G){var j;return A===null?j=new w:typeof A!="string"&&!N.objectMode&&(j=new p("chunk",["string","Buffer"],A)),j?(D(q,j),He.nextTick(G,j),!1):!0}W.prototype.write=function(q,N,A){var G=this._writableState,j=!1,k=!G.objectMode&&a(q);return k&&!r.isBuffer(q)&&(q=s(q)),typeof N=="function"&&(A=N,N=null),k?N="buffer":N||(N=G.defaultEncoding),typeof A!="function"&&(A=M),G.ending?P(this,A):(k||ie(this,G,q,A))&&(G.pendingcb++,j=B(this,G,k,q,N,A)),j},W.prototype.cork=function(){this._writableState.corked++},W.prototype.uncork=function(){var q=this._writableState;q.corked&&(q.corked--,!q.writing&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&le(this,q))},W.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new x(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(W.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function fe(q,N,A){return!q.objectMode&&q.decodeStrings!==!1&&typeof N=="string"&&(N=r.from(N,A)),N}Object.defineProperty(W.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(q,N,A,G,j,k){if(!A){var C=fe(N,G,j);G!==C&&(A=!0,j="buffer",G=C)}var R=N.objectMode?1:G.length;N.length+=R;var b=N.length<N.highWaterMark;if(b||(N.needDrain=!0),N.writing||N.corked){var z=N.lastBufferedRequest;N.lastBufferedRequest={chunk:G,encoding:j,isBuf:A,callback:k,next:null},z?z.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else Z(q,N,!1,R,G,j,k);return b}function Z(q,N,A,G,j,k,C){N.writelen=G,N.writecb=C,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new T("write")):A?q._writev(j,N.onwrite):q._write(j,k,N.onwrite),N.sync=!1}function I(q,N,A,G,j){--N.pendingcb,A?(He.nextTick(j,G),He.nextTick(te,q,N),q._writableState.errorEmitted=!0,D(q,G)):(j(G),q._writableState.errorEmitted=!0,D(q,G),te(q,N))}function ne(q){q.writing=!1,q.writecb=null,q.length-=q.writelen,q.writelen=0}function me(q,N){var A=q._writableState,G=A.sync,j=A.writecb;if(typeof j!="function")throw new g;if(ne(A),N)I(q,A,G,N,j);else{var k=be(A)||q.destroyed;!k&&!A.corked&&!A.bufferProcessing&&A.bufferedRequest&&le(q,A),G?He.nextTick(X,q,A,k,j):X(q,A,k,j)}}function X(q,N,A,G){A||pe(q,N),N.pendingcb--,G(),te(q,N)}function pe(q,N){N.length===0&&N.needDrain&&(N.needDrain=!1,q.emit("drain"))}function le(q,N){N.bufferProcessing=!0;var A=N.bufferedRequest;if(q._writev&&A&&A.next){var G=N.bufferedRequestCount,j=new Array(G),k=N.corkedRequestsFree;k.entry=A;for(var C=0,R=!0;A;)j[C]=A,A.isBuf||(R=!1),A=A.next,C+=1;j.allBuffers=R,Z(q,N,!0,N.length,j,"",k.finish),N.pendingcb++,N.lastBufferedRequest=null,k.next?(N.corkedRequestsFree=k.next,k.next=null):N.corkedRequestsFree=new e(N),N.bufferedRequestCount=0}else{for(;A;){var b=A.chunk,z=A.encoding,S=A.callback,h=N.objectMode?1:b.length;if(Z(q,N,!1,h,b,z,S),A=A.next,N.bufferedRequestCount--,N.writing)break}A===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=A,N.bufferProcessing=!1}W.prototype._write=function(q,N,A){A(new f("_write()"))},W.prototype._writev=null,W.prototype.end=function(q,N,A){var G=this._writableState;return typeof q=="function"?(A=q,q=null,N=null):typeof N=="function"&&(A=N,N=null),q!=null&&this.write(q,N),G.corked&&(G.corked=1,this.uncork()),G.ending||re(this,G,A),this},Object.defineProperty(W.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function be(q){return q.ending&&q.length===0&&q.bufferedRequest===null&&!q.finished&&!q.writing}function ee(q,N){q._final(function(A){N.pendingcb--,A&&D(q,A),N.prefinished=!0,q.emit("prefinish"),te(q,N)})}function F(q,N){!N.prefinished&&!N.finalCalled&&(typeof q._final=="function"&&!N.destroyed?(N.pendingcb++,N.finalCalled=!0,He.nextTick(ee,q,N)):(N.prefinished=!0,q.emit("prefinish")))}function te(q,N){var A=be(N);if(A&&(F(q,N),N.pendingcb===0&&(N.finished=!0,q.emit("finish"),N.autoDestroy))){var G=q._readableState;(!G||G.autoDestroy&&G.endEmitted)&&q.destroy()}return A}function re(q,N,A){N.ending=!0,te(q,N),A&&(N.finished?He.nextTick(A):q.once("finish",A)),N.ended=!0,q.writable=!1}function Q(q,N,A){var G=q.entry;for(q.entry=null;G;){var j=G.callback;N.pendingcb--,j(A),G=G.next}N.corkedRequestsFree.next=q}return Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),W.prototype.destroy=l.destroy,W.prototype._undestroy=l.undestroy,W.prototype._destroy=function(q,N){N(q)},Fc}var Bc,av;function Ui(){if(av)return Bc;av=1;var e=Object.keys||function(c){var u=[];for(var d in c)u.push(d);return u};Bc=s;var t=q0(),o=U0();li(s,t);for(var i=e(o.prototype),r=0;r<i.length;r++){var n=i[r];s.prototype[n]||(s.prototype[n]=o.prototype[n])}function s(c){if(!(this instanceof s))return new s(c);t.call(this,c),o.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||He.nextTick(l,this)}function l(c){c.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(u){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=u,this._writableState.destroyed=u)}}),Bc}var Lc={},js={exports:{}},lv;function vU(){return lv||(lv=1,function(e,t){var o=bs(),i=o.Buffer;function r(s,a){for(var l in s)a[l]=s[l]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=o:(r(o,t),t.Buffer=n);function n(s,a,l){return i(s,a,l)}r(i,n),n.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return i(s,a,l)},n.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=i(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},n.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return i(s)},n.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return o.SlowBuffer(s)}}(js,js.exports)),js.exports}var cv;function cd(){if(cv)return Lc;cv=1;var e=vU().Buffer,t=e.isEncoding||function(w){switch(w=""+w,w&&w.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(w){if(!w)return"utf8";for(var _;;)switch(w){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return w;default:if(_)return;w=(""+w).toLowerCase(),_=!0}}function i(w){var _=o(w);if(typeof _!="string"&&(e.isEncoding===t||!t(w)))throw new Error("Unknown encoding: "+w);return _||w}Lc.StringDecoder=r;function r(w){this.encoding=i(w);var _;switch(this.encoding){case"utf16le":this.text=d,this.end=p,_=4;break;case"utf8":this.fillLast=l,_=4;break;case"base64":this.text=f,this.end=g,_=3;break;default:this.write=y,this.end=T;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(_)}r.prototype.write=function(w){if(w.length===0)return"";var _,x;if(this.lastNeed){if(_=this.fillLast(w),_===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<w.length?_?_+this.text(w,x):this.text(w,x):_||""},r.prototype.end=u,r.prototype.text=c,r.prototype.fillLast=function(w){if(this.lastNeed<=w.length)return w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,this.lastTotal-this.lastNeed,0,w.length),this.lastNeed-=w.length};function n(w){return w<=127?0:w>>5===6?2:w>>4===14?3:w>>3===30?4:w>>6===2?-1:-2}function s(w,_,x){var D=_.length-1;if(D<x)return 0;var M=n(_[D]);return M>=0?(M>0&&(w.lastNeed=M-1),M):--D<x||M===-2?0:(M=n(_[D]),M>=0?(M>0&&(w.lastNeed=M-2),M):--D<x||M===-2?0:(M=n(_[D]),M>=0?(M>0&&(M===2?M=0:w.lastNeed=M-3),M):0))}function a(w,_,x){if((_[0]&192)!==128)return w.lastNeed=0,"�";if(w.lastNeed>1&&_.length>1){if((_[1]&192)!==128)return w.lastNeed=1,"�";if(w.lastNeed>2&&_.length>2&&(_[2]&192)!==128)return w.lastNeed=2,"�"}}function l(w){var _=this.lastTotal-this.lastNeed,x=a(this,w);if(x!==void 0)return x;if(this.lastNeed<=w.length)return w.copy(this.lastChar,_,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);w.copy(this.lastChar,_,0,w.length),this.lastNeed-=w.length}function c(w,_){var x=s(this,w,_);if(!this.lastNeed)return w.toString("utf8",_);this.lastTotal=x;var D=w.length-(x-this.lastNeed);return w.copy(this.lastChar,0,D),w.toString("utf8",_,D)}function u(w){var _=w&&w.length?this.write(w):"";return this.lastNeed?_+"�":_}function d(w,_){if((w.length-_)%2===0){var x=w.toString("utf16le",_);if(x){var D=x.charCodeAt(x.length-1);if(D>=55296&&D<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=w[w.length-1],w.toString("utf16le",_,w.length-1)}function p(w){var _=w&&w.length?this.write(w):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return _+this.lastChar.toString("utf16le",0,x)}return _}function f(w,_){var x=(w.length-_)%3;return x===0?w.toString("base64",_):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=w[w.length-1]:(this.lastChar[0]=w[w.length-2],this.lastChar[1]=w[w.length-1]),w.toString("base64",_,w.length-x))}function g(w){var _=w&&w.length?this.write(w):"";return this.lastNeed?_+this.lastChar.toString("base64",0,3-this.lastNeed):_}function y(w){return w.toString(this.encoding)}function T(w){return w&&w.length?this.write(w):""}return Lc}var $c,uv;function Ff(){if(uv)return $c;uv=1;var e=nn().codes.ERR_STREAM_PREMATURE_CLOSE;function t(n){var s=!1;return function(){if(!s){s=!0;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];n.apply(this,l)}}}function o(){}function i(n){return n.setHeader&&typeof n.abort=="function"}function r(n,s,a){if(typeof s=="function")return r(n,null,s);s||(s={}),a=t(a||o);var l=s.readable||s.readable!==!1&&n.readable,c=s.writable||s.writable!==!1&&n.writable,u=function(){n.writable||p()},d=n._writableState&&n._writableState.finished,p=function(){c=!1,d=!0,l||a.call(n)},f=n._readableState&&n._readableState.endEmitted,g=function(){l=!1,f=!0,c||a.call(n)},y=function(x){a.call(n,x)},T=function(){var x;if(l&&!f)return(!n._readableState||!n._readableState.ended)&&(x=new e),a.call(n,x);if(c&&!d)return(!n._writableState||!n._writableState.ended)&&(x=new e),a.call(n,x)},w=function(){n.req.on("finish",p)};return i(n)?(n.on("complete",p),n.on("abort",T),n.req?w():n.on("request",w)):c&&!n._writableState&&(n.on("end",u),n.on("close",u)),n.on("end",g),n.on("finish",p),s.error!==!1&&n.on("error",y),n.on("close",T),function(){n.removeListener("complete",p),n.removeListener("abort",T),n.removeListener("request",w),n.req&&n.req.removeListener("finish",p),n.removeListener("end",u),n.removeListener("close",u),n.removeListener("finish",p),n.removeListener("end",g),n.removeListener("error",y),n.removeListener("close",T)}}return $c=r,$c}var Uc,dv;function gU(){if(dv)return Uc;dv=1;var e;function t(w,_,x){return _ in w?Object.defineProperty(w,_,{value:x,enumerable:!0,configurable:!0,writable:!0}):w[_]=x,w}var o=Ff(),i=Symbol("lastResolve"),r=Symbol("lastReject"),n=Symbol("error"),s=Symbol("ended"),a=Symbol("lastPromise"),l=Symbol("handlePromise"),c=Symbol("stream");function u(w,_){return{value:w,done:_}}function d(w){var _=w[i];if(_!==null){var x=w[c].read();x!==null&&(w[a]=null,w[i]=null,w[r]=null,_(u(x,!1)))}}function p(w){He.nextTick(d,w)}function f(w,_){return function(x,D){w.then(function(){if(_[s]){x(u(void 0,!0));return}_[l](x,D)},D)}}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((e={get stream(){return this[c]},next:function(){var _=this,x=this[n];if(x!==null)return Promise.reject(x);if(this[s])return Promise.resolve(u(void 0,!0));if(this[c].destroyed)return new Promise(function(V,W){He.nextTick(function(){_[n]?W(_[n]):V(u(void 0,!0))})});var D=this[a],M;if(D)M=new Promise(f(D,this));else{var J=this[c].read();if(J!==null)return Promise.resolve(u(J,!1));M=new Promise(this[l])}return this[a]=M,M}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var _=this;return new Promise(function(x,D){_[c].destroy(null,function(M){if(M){D(M);return}x(u(void 0,!0))})})}),e),g),T=function(_){var x,D=Object.create(y,(x={},t(x,c,{value:_,writable:!0}),t(x,i,{value:null,writable:!0}),t(x,r,{value:null,writable:!0}),t(x,n,{value:null,writable:!0}),t(x,s,{value:_._readableState.endEmitted,writable:!0}),t(x,l,{value:function(J,V){var W=D[c].read();W?(D[a]=null,D[i]=null,D[r]=null,J(u(W,!1))):(D[i]=J,D[r]=V)},writable:!0}),x));return D[a]=null,o(_,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var J=D[r];J!==null&&(D[a]=null,D[i]=null,D[r]=null,J(M)),D[n]=M;return}var V=D[i];V!==null&&(D[a]=null,D[i]=null,D[r]=null,V(u(void 0,!0))),D[s]=!0}),_.on("readable",p.bind(null,D)),D};return Uc=T,Uc}var qc,fv;function yU(){return fv||(fv=1,qc=function(){throw new Error("Readable.from is not available in the browser")}),qc}var jc,hv;function q0(){if(hv)return jc;hv=1,jc=P;var e;P.ReadableState=W,kf.EventEmitter;var t=function(C,R){return C.listeners(R).length},o=P0(),i=bs().Buffer,r=Eo.Uint8Array||function(){};function n(k){return i.from(k)}function s(k){return i.isBuffer(k)||k instanceof r}var a=B0(),l;a&&a.debuglog?l=a.debuglog("stream"):l=function(){};var c=pU(),u=L0(),d=$0(),p=d.getHighWaterMark,f=nn().codes,g=f.ERR_INVALID_ARG_TYPE,y=f.ERR_STREAM_PUSH_AFTER_EOF,T=f.ERR_METHOD_NOT_IMPLEMENTED,w=f.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,_,x,D;li(P,o);var M=u.errorOrDestroy,J=["error","close","destroy","pause","resume"];function V(k,C,R){if(typeof k.prependListener=="function")return k.prependListener(C,R);!k._events||!k._events[C]?k.on(C,R):Array.isArray(k._events[C])?k._events[C].unshift(R):k._events[C]=[R,k._events[C]]}function W(k,C,R){e=e||Ui(),k=k||{},typeof R!="boolean"&&(R=C instanceof e),this.objectMode=!!k.objectMode,R&&(this.objectMode=this.objectMode||!!k.readableObjectMode),this.highWaterMark=p(this,k,"readableHighWaterMark",R),this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=k.emitClose!==!1,this.autoDestroy=!!k.autoDestroy,this.destroyed=!1,this.defaultEncoding=k.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,k.encoding&&(_||(_=cd().StringDecoder),this.decoder=new _(k.encoding),this.encoding=k.encoding)}function P(k){if(e=e||Ui(),!(this instanceof P))return new P(k);var C=this instanceof e;this._readableState=new W(k,this,C),this.readable=!0,k&&(typeof k.read=="function"&&(this._read=k.read),typeof k.destroy=="function"&&(this._destroy=k.destroy)),o.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),P.prototype.destroy=u.destroy,P.prototype._undestroy=u.undestroy,P.prototype._destroy=function(k,C){C(k)},P.prototype.push=function(k,C){var R=this._readableState,b;return R.objectMode?b=!0:typeof k=="string"&&(C=C||R.defaultEncoding,C!==R.encoding&&(k=i.from(k,C),C=""),b=!0),ie(this,k,C,!1,b)},P.prototype.unshift=function(k){return ie(this,k,null,!0,!1)};function ie(k,C,R,b,z){l("readableAddChunk",C);var S=k._readableState;if(C===null)S.reading=!1,me(k,S);else{var h;if(z||(h=B(S,C)),h)M(k,h);else if(S.objectMode||C&&C.length>0)if(typeof C!="string"&&!S.objectMode&&Object.getPrototypeOf(C)!==i.prototype&&(C=n(C)),b)S.endEmitted?M(k,new w):fe(k,S,C,!0);else if(S.ended)M(k,new y);else{if(S.destroyed)return!1;S.reading=!1,S.decoder&&!R?(C=S.decoder.write(C),S.objectMode||C.length!==0?fe(k,S,C,!1):le(k,S)):fe(k,S,C,!1)}else b||(S.reading=!1,le(k,S))}return!S.ended&&(S.length<S.highWaterMark||S.length===0)}function fe(k,C,R,b){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,k.emit("data",R)):(C.length+=C.objectMode?1:R.length,b?C.buffer.unshift(R):C.buffer.push(R),C.needReadable&&X(k)),le(k,C)}function B(k,C){var R;return!s(C)&&typeof C!="string"&&C!==void 0&&!k.objectMode&&(R=new g("chunk",["string","Buffer","Uint8Array"],C)),R}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(k){_||(_=cd().StringDecoder);var C=new _(k);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var R=this._readableState.buffer.head,b="";R!==null;)b+=C.write(R.data),R=R.next;return this._readableState.buffer.clear(),b!==""&&this._readableState.buffer.push(b),this._readableState.length=b.length,this};var Z=1073741824;function I(k){return k>=Z?k=Z:(k--,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,k|=k>>>16,k++),k}function ne(k,C){return k<=0||C.length===0&&C.ended?0:C.objectMode?1:k!==k?C.flowing&&C.length?C.buffer.head.data.length:C.length:(k>C.highWaterMark&&(C.highWaterMark=I(k)),k<=C.length?k:C.ended?C.length:(C.needReadable=!0,0))}P.prototype.read=function(k){l("read",k),k=parseInt(k,10);var C=this._readableState,R=k;if(k!==0&&(C.emittedReadable=!1),k===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return l("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?A(this):X(this),null;if(k=ne(k,C),k===0&&C.ended)return C.length===0&&A(this),null;var b=C.needReadable;l("need readable",b),(C.length===0||C.length-k<C.highWaterMark)&&(b=!0,l("length less than watermark",b)),C.ended||C.reading?(b=!1,l("reading or ended",b)):b&&(l("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(k=ne(R,C)));var z;return k>0?z=N(k,C):z=null,z===null?(C.needReadable=C.length<=C.highWaterMark,k=0):(C.length-=k,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),R!==k&&C.ended&&A(this)),z!==null&&this.emit("data",z),z};function me(k,C){if(l("onEofChunk"),!C.ended){if(C.decoder){var R=C.decoder.end();R&&R.length&&(C.buffer.push(R),C.length+=C.objectMode?1:R.length)}C.ended=!0,C.sync?X(k):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,pe(k)))}}function X(k){var C=k._readableState;l("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(l("emitReadable",C.flowing),C.emittedReadable=!0,He.nextTick(pe,k))}function pe(k){var C=k._readableState;l("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(k.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,q(k)}function le(k,C){C.readingMore||(C.readingMore=!0,He.nextTick(be,k,C))}function be(k,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var R=C.length;if(l("maybeReadMore read 0"),k.read(0),R===C.length)break}C.readingMore=!1}P.prototype._read=function(k){M(this,new T("_read()"))},P.prototype.pipe=function(k,C){var R=this,b=this._readableState;switch(b.pipesCount){case 0:b.pipes=k;break;case 1:b.pipes=[b.pipes,k];break;default:b.pipes.push(k);break}b.pipesCount+=1,l("pipe count=%d opts=%j",b.pipesCount,C);var z=(!C||C.end!==!1)&&k!==He.stdout&&k!==He.stderr,S=z?m:Ee;b.endEmitted?He.nextTick(S):R.once("end",S),k.on("unpipe",h);function h(xe,Ie){l("onunpipe"),xe===R&&Ie&&Ie.hasUnpiped===!1&&(Ie.hasUnpiped=!0,L())}function m(){l("onend"),k.end()}var E=ee(R);k.on("drain",E);var O=!1;function L(){l("cleanup"),k.removeListener("close",ae),k.removeListener("finish",se),k.removeListener("drain",E),k.removeListener("error",oe),k.removeListener("unpipe",h),R.removeListener("end",m),R.removeListener("end",Ee),R.removeListener("data",$),O=!0,b.awaitDrain&&(!k._writableState||k._writableState.needDrain)&&E()}R.on("data",$);function $(xe){l("ondata");var Ie=k.write(xe);l("dest.write",Ie),Ie===!1&&((b.pipesCount===1&&b.pipes===k||b.pipesCount>1&&j(b.pipes,k)!==-1)&&!O&&(l("false write response, pause",b.awaitDrain),b.awaitDrain++),R.pause())}function oe(xe){l("onerror",xe),Ee(),k.removeListener("error",oe),t(k,"error")===0&&M(k,xe)}V(k,"error",oe);function ae(){k.removeListener("finish",se),Ee()}k.once("close",ae);function se(){l("onfinish"),k.removeListener("close",ae),Ee()}k.once("finish",se);function Ee(){l("unpipe"),R.unpipe(k)}return k.emit("pipe",R),b.flowing||(l("pipe resume"),R.resume()),k};function ee(k){return function(){var R=k._readableState;l("pipeOnDrain",R.awaitDrain),R.awaitDrain&&R.awaitDrain--,R.awaitDrain===0&&t(k,"data")&&(R.flowing=!0,q(k))}}P.prototype.unpipe=function(k){var C=this._readableState,R={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return k&&k!==C.pipes?this:(k||(k=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,k&&k.emit("unpipe",this,R),this);if(!k){var b=C.pipes,z=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var S=0;S<z;S++)b[S].emit("unpipe",this,{hasUnpiped:!1});return this}var h=j(C.pipes,k);return h===-1?this:(C.pipes.splice(h,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),k.emit("unpipe",this,R),this)},P.prototype.on=function(k,C){var R=o.prototype.on.call(this,k,C),b=this._readableState;return k==="data"?(b.readableListening=this.listenerCount("readable")>0,b.flowing!==!1&&this.resume()):k==="readable"&&!b.endEmitted&&!b.readableListening&&(b.readableListening=b.needReadable=!0,b.flowing=!1,b.emittedReadable=!1,l("on readable",b.length,b.reading),b.length?X(this):b.reading||He.nextTick(te,this)),R},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(k,C){var R=o.prototype.removeListener.call(this,k,C);return k==="readable"&&He.nextTick(F,this),R},P.prototype.removeAllListeners=function(k){var C=o.prototype.removeAllListeners.apply(this,arguments);return(k==="readable"||k===void 0)&&He.nextTick(F,this),C};function F(k){var C=k._readableState;C.readableListening=k.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:k.listenerCount("data")>0&&k.resume()}function te(k){l("readable nexttick read 0"),k.read(0)}P.prototype.resume=function(){var k=this._readableState;return k.flowing||(l("resume"),k.flowing=!k.readableListening,re(this,k)),k.paused=!1,this};function re(k,C){C.resumeScheduled||(C.resumeScheduled=!0,He.nextTick(Q,k,C))}function Q(k,C){l("resume",C.reading),C.reading||k.read(0),C.resumeScheduled=!1,k.emit("resume"),q(k),C.flowing&&!C.reading&&k.read(0)}P.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function q(k){var C=k._readableState;for(l("flow",C.flowing);C.flowing&&k.read()!==null;);}P.prototype.wrap=function(k){var C=this,R=this._readableState,b=!1;k.on("end",function(){if(l("wrapped end"),R.decoder&&!R.ended){var h=R.decoder.end();h&&h.length&&C.push(h)}C.push(null)}),k.on("data",function(h){if(l("wrapped data"),R.decoder&&(h=R.decoder.write(h)),!(R.objectMode&&h==null)&&!(!R.objectMode&&(!h||!h.length))){var m=C.push(h);m||(b=!0,k.pause())}});for(var z in k)this[z]===void 0&&typeof k[z]=="function"&&(this[z]=function(m){return function(){return k[m].apply(k,arguments)}}(z));for(var S=0;S<J.length;S++)k.on(J[S],this.emit.bind(this,J[S]));return this._read=function(h){l("wrapped _read",h),b&&(b=!1,k.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return x===void 0&&(x=gU()),x(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),P._fromList=N,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function N(k,C){if(C.length===0)return null;var R;return C.objectMode?R=C.buffer.shift():!k||k>=C.length?(C.decoder?R=C.buffer.join(""):C.buffer.length===1?R=C.buffer.first():R=C.buffer.concat(C.length),C.buffer.clear()):R=C.buffer.consume(k,C.decoder),R}function A(k){var C=k._readableState;l("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,He.nextTick(G,C,k))}function G(k,C){if(l("endReadableNT",k.endEmitted,k.length),!k.endEmitted&&k.length===0&&(k.endEmitted=!0,C.readable=!1,C.emit("end"),k.autoDestroy)){var R=C._writableState;(!R||R.autoDestroy&&R.finished)&&C.destroy()}}typeof Symbol=="function"&&(P.from=function(k,C){return D===void 0&&(D=yU()),D(P,k,C)});function j(k,C){for(var R=0,b=k.length;R<b;R++)if(k[R]===C)return R;return-1}return jc}var zc,pv;function j0(){if(pv)return zc;pv=1,zc=a;var e=nn().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,o=e.ERR_MULTIPLE_CALLBACK,i=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,r=e.ERR_TRANSFORM_WITH_LENGTH_0,n=Ui();li(a,n);function s(u,d){var p=this._transformState;p.transforming=!1;var f=p.writecb;if(f===null)return this.emit("error",new o);p.writechunk=null,p.writecb=null,d!=null&&this.push(d),f(u);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function a(u){if(!(this instanceof a))return new a(u);n.call(this,u),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",l)}function l(){var u=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(d,p){c(u,d,p)}):c(this,null,null)}a.prototype.push=function(u,d){return this._transformState.needTransform=!1,n.prototype.push.call(this,u,d)},a.prototype._transform=function(u,d,p){p(new t("_transform()"))},a.prototype._write=function(u,d,p){var f=this._transformState;if(f.writecb=p,f.writechunk=u,f.writeencoding=d,!f.transforming){var g=this._readableState;(f.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},a.prototype._read=function(u){var d=this._transformState;d.writechunk!==null&&!d.transforming?(d.transforming=!0,this._transform(d.writechunk,d.writeencoding,d.afterTransform)):d.needTransform=!0},a.prototype._destroy=function(u,d){n.prototype._destroy.call(this,u,function(p){d(p)})};function c(u,d,p){if(d)return u.emit("error",d);if(p!=null&&u.push(p),u._writableState.length)throw new r;if(u._transformState.transforming)throw new i;return u.push(null)}return zc}var Vc,mv;function bU(){if(mv)return Vc;mv=1,Vc=t;var e=j0();li(t,e);function t(o){if(!(this instanceof t))return new t(o);e.call(this,o)}return t.prototype._transform=function(o,i,r){r(null,o)},Vc}var Hc,vv;function wU(){if(vv)return Hc;vv=1;var e;function t(p){var f=!1;return function(){f||(f=!0,p.apply(void 0,arguments))}}var o=nn().codes,i=o.ERR_MISSING_ARGS,r=o.ERR_STREAM_DESTROYED;function n(p){if(p)throw p}function s(p){return p.setHeader&&typeof p.abort=="function"}function a(p,f,g,y){y=t(y);var T=!1;p.on("close",function(){T=!0}),e===void 0&&(e=Ff()),e(p,{readable:f,writable:g},function(_){if(_)return y(_);T=!0,y()});var w=!1;return function(_){if(!T&&!w){if(w=!0,s(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();y(_||new r("pipe"))}}}function l(p){p()}function c(p,f){return p.pipe(f)}function u(p){return!p.length||typeof p[p.length-1]!="function"?n:p.pop()}function d(){for(var p=arguments.length,f=new Array(p),g=0;g<p;g++)f[g]=arguments[g];var y=u(f);if(Array.isArray(f[0])&&(f=f[0]),f.length<2)throw new i("streams");var T,w=f.map(function(_,x){var D=x<f.length-1,M=x>0;return a(_,D,M,function(J){T||(T=J),J&&w.forEach(l),!D&&(w.forEach(l),y(T))})});return f.reduce(c)}return Hc=d,Hc}var Bf=uo,Lf=kf.EventEmitter,EU=li;EU(uo,Lf);uo.Readable=q0();uo.Writable=U0();uo.Duplex=Ui();uo.Transform=j0();uo.PassThrough=bU();uo.finished=Ff();uo.pipeline=wU();uo.Stream=uo;function uo(){Lf.call(this)}uo.prototype.pipe=function(e,t){var o=this;function i(u){e.writable&&e.write(u)===!1&&o.pause&&o.pause()}o.on("data",i);function r(){o.readable&&o.resume&&o.resume()}e.on("drain",r),!e._isStdio&&(!t||t.end!==!1)&&(o.on("end",s),o.on("close",a));var n=!1;function s(){n||(n=!0,e.end())}function a(){n||(n=!0,typeof e.destroy=="function"&&e.destroy())}function l(u){if(c(),Lf.listenerCount(this,"error")===0)throw u}o.on("error",l),e.on("error",l);function c(){o.removeListener("data",i),e.removeListener("drain",r),o.removeListener("end",s),o.removeListener("close",a),o.removeListener("error",l),e.removeListener("error",l),o.removeListener("end",c),o.removeListener("close",c),e.removeListener("close",c)}return o.on("end",c),o.on("close",c),e.on("close",c),e.emit("pipe",o),e};(function(e){(function(t){t.parser=function(N,A){return new i(N,A)},t.SAXParser=i,t.SAXStream=u,t.createStream=c,t.MAX_BUFFER_LENGTH=64*1024;var o=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function i(N,A){if(!(this instanceof i))return new i(N,A);var G=this;n(G),G.q=G.c="",G.bufferCheckPosition=t.MAX_BUFFER_LENGTH,G.opt=A||{},G.opt.lowercase=G.opt.lowercase||G.opt.lowercasetags,G.looseCase=G.opt.lowercase?"toLowerCase":"toUpperCase",G.tags=[],G.closed=G.closedRoot=G.sawRoot=!1,G.tag=G.error=null,G.strict=!!N,G.noscript=!!(N||G.opt.noscript),G.state=P.BEGIN,G.strictEntities=G.opt.strictEntities,G.ENTITIES=G.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),G.attribList=[],G.opt.xmlns&&(G.ns=Object.create(y)),G.trackPosition=G.opt.position!==!1,G.trackPosition&&(G.position=G.line=G.column=0),fe(G,"onready")}Object.create||(Object.create=function(N){function A(){}A.prototype=N;var G=new A;return G}),Object.keys||(Object.keys=function(N){var A=[];for(var G in N)N.hasOwnProperty(G)&&A.push(G);return A});function r(N){for(var A=Math.max(t.MAX_BUFFER_LENGTH,10),G=0,j=0,k=o.length;j<k;j++){var C=N[o[j]].length;if(C>A)switch(o[j]){case"textNode":Z(N);break;case"cdata":B(N,"oncdata",N.cdata),N.cdata="";break;case"script":B(N,"onscript",N.script),N.script="";break;default:ne(N,"Max buffer length exceeded: "+o[j])}G=Math.max(G,C)}var R=t.MAX_BUFFER_LENGTH-G;N.bufferCheckPosition=R+N.position}function n(N){for(var A=0,G=o.length;A<G;A++)N[o[A]]=""}function s(N){Z(N),N.cdata!==""&&(B(N,"oncdata",N.cdata),N.cdata=""),N.script!==""&&(B(N,"onscript",N.script),N.script="")}i.prototype={end:function(){me(this)},write:q,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var a;try{a=Bf.Stream}catch{a=function(){}}var l=t.EVENTS.filter(function(N){return N!=="error"&&N!=="end"});function c(N,A){return new u(N,A)}function u(N,A){if(!(this instanceof u))return new u(N,A);a.apply(this),this._parser=new i(N,A),this.writable=!0,this.readable=!0;var G=this;this._parser.onend=function(){G.emit("end")},this._parser.onerror=function(j){G.emit("error",j),G._parser.error=null},this._decoder=null,l.forEach(function(j){Object.defineProperty(G,"on"+j,{get:function(){return G._parser["on"+j]},set:function(k){if(!k)return G.removeAllListeners(j),G._parser["on"+j]=k,k;G.on(j,k)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(a.prototype,{constructor:{value:u}}),u.prototype.write=function(N){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(N)){if(!this._decoder){var A=cd().StringDecoder;this._decoder=new A("utf8")}N=this._decoder.write(N)}return this._parser.write(N.toString()),this.emit("data",N),!0},u.prototype.end=function(N){return N&&N.length&&this.write(N),this._parser.end(),!0},u.prototype.on=function(N,A){var G=this;return!G._parser["on"+N]&&l.indexOf(N)!==-1&&(G._parser["on"+N]=function(){var j=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);j.splice(0,0,N),G.emit.apply(G,j)}),a.prototype.on.call(G,N,A)};var d="[CDATA[",p="DOCTYPE",f="http://www.w3.org/XML/1998/namespace",g="http://www.w3.org/2000/xmlns/",y={xml:f,xmlns:g},T=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,w=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,_=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function D(N){return N===" "||N===`
`||N==="\r"||N==="	"}function M(N){return N==='"'||N==="'"}function J(N){return N===">"||D(N)}function V(N,A){return N.test(A)}function W(N,A){return!V(N,A)}var P=0;t.STATE={BEGIN:P++,BEGIN_WHITESPACE:P++,TEXT:P++,TEXT_ENTITY:P++,OPEN_WAKA:P++,SGML_DECL:P++,SGML_DECL_QUOTED:P++,DOCTYPE:P++,DOCTYPE_QUOTED:P++,DOCTYPE_DTD:P++,DOCTYPE_DTD_QUOTED:P++,COMMENT_STARTING:P++,COMMENT:P++,COMMENT_ENDING:P++,COMMENT_ENDED:P++,CDATA:P++,CDATA_ENDING:P++,CDATA_ENDING_2:P++,PROC_INST:P++,PROC_INST_BODY:P++,PROC_INST_ENDING:P++,OPEN_TAG:P++,OPEN_TAG_SLASH:P++,ATTRIB:P++,ATTRIB_NAME:P++,ATTRIB_NAME_SAW_WHITE:P++,ATTRIB_VALUE:P++,ATTRIB_VALUE_QUOTED:P++,ATTRIB_VALUE_CLOSED:P++,ATTRIB_VALUE_UNQUOTED:P++,ATTRIB_VALUE_ENTITY_Q:P++,ATTRIB_VALUE_ENTITY_U:P++,CLOSE_TAG:P++,CLOSE_TAG_SAW_WHITE:P++,SCRIPT:P++,SCRIPT_ENDING:P++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach(function(N){var A=t.ENTITIES[N],G=typeof A=="number"?String.fromCharCode(A):A;t.ENTITIES[N]=G});for(var ie in t.STATE)t.STATE[t.STATE[ie]]=ie;P=t.STATE;function fe(N,A,G){N[A]&&N[A](G)}function B(N,A,G){N.textNode&&Z(N),fe(N,A,G)}function Z(N){N.textNode=I(N.opt,N.textNode),N.textNode&&fe(N,"ontext",N.textNode),N.textNode=""}function I(N,A){return N.trim&&(A=A.trim()),N.normalize&&(A=A.replace(/\s+/g," ")),A}function ne(N,A){return Z(N),N.trackPosition&&(A+=`
Line: `+N.line+`
Column: `+N.column+`
Char: `+N.c),A=new Error(A),N.error=A,fe(N,"onerror",A),N}function me(N){return N.sawRoot&&!N.closedRoot&&X(N,"Unclosed root tag"),N.state!==P.BEGIN&&N.state!==P.BEGIN_WHITESPACE&&N.state!==P.TEXT&&ne(N,"Unexpected end"),Z(N),N.c="",N.closed=!0,fe(N,"onend"),i.call(N,N.strict,N.opt),N}function X(N,A){if(typeof N!="object"||!(N instanceof i))throw new Error("bad call to strictFail");N.strict&&ne(N,A)}function pe(N){N.strict||(N.tagName=N.tagName[N.looseCase]());var A=N.tags[N.tags.length-1]||N,G=N.tag={name:N.tagName,attributes:{}};N.opt.xmlns&&(G.ns=A.ns),N.attribList.length=0,B(N,"onopentagstart",G)}function le(N,A){var G=N.indexOf(":"),j=G<0?["",N]:N.split(":"),k=j[0],C=j[1];return A&&N==="xmlns"&&(k="xmlns",C=""),{prefix:k,local:C}}function be(N){if(N.strict||(N.attribName=N.attribName[N.looseCase]()),N.attribList.indexOf(N.attribName)!==-1||N.tag.attributes.hasOwnProperty(N.attribName)){N.attribName=N.attribValue="";return}if(N.opt.xmlns){var A=le(N.attribName,!0),G=A.prefix,j=A.local;if(G==="xmlns")if(j==="xml"&&N.attribValue!==f)X(N,"xml: prefix must be bound to "+f+`
Actual: `+N.attribValue);else if(j==="xmlns"&&N.attribValue!==g)X(N,"xmlns: prefix must be bound to "+g+`
Actual: `+N.attribValue);else{var k=N.tag,C=N.tags[N.tags.length-1]||N;k.ns===C.ns&&(k.ns=Object.create(C.ns)),k.ns[j]=N.attribValue}N.attribList.push([N.attribName,N.attribValue])}else N.tag.attributes[N.attribName]=N.attribValue,B(N,"onattribute",{name:N.attribName,value:N.attribValue});N.attribName=N.attribValue=""}function ee(N,A){if(N.opt.xmlns){var G=N.tag,j=le(N.tagName);G.prefix=j.prefix,G.local=j.local,G.uri=G.ns[j.prefix]||"",G.prefix&&!G.uri&&(X(N,"Unbound namespace prefix: "+JSON.stringify(N.tagName)),G.uri=j.prefix);var k=N.tags[N.tags.length-1]||N;G.ns&&k.ns!==G.ns&&Object.keys(G.ns).forEach(function($){B(N,"onopennamespace",{prefix:$,uri:G.ns[$]})});for(var C=0,R=N.attribList.length;C<R;C++){var b=N.attribList[C],z=b[0],S=b[1],h=le(z,!0),m=h.prefix,E=h.local,O=m===""?"":G.ns[m]||"",L={name:z,value:S,prefix:m,local:E,uri:O};m&&m!=="xmlns"&&!O&&(X(N,"Unbound namespace prefix: "+JSON.stringify(m)),L.uri=m),N.tag.attributes[z]=L,B(N,"onattribute",L)}N.attribList.length=0}N.tag.isSelfClosing=!!A,N.sawRoot=!0,N.tags.push(N.tag),B(N,"onopentag",N.tag),A||(!N.noscript&&N.tagName.toLowerCase()==="script"?N.state=P.SCRIPT:N.state=P.TEXT,N.tag=null,N.tagName=""),N.attribName=N.attribValue="",N.attribList.length=0}function F(N){if(!N.tagName){X(N,"Weird empty close tag."),N.textNode+="</>",N.state=P.TEXT;return}if(N.script){if(N.tagName!=="script"){N.script+="</"+N.tagName+">",N.tagName="",N.state=P.SCRIPT;return}B(N,"onscript",N.script),N.script=""}var A=N.tags.length,G=N.tagName;N.strict||(G=G[N.looseCase]());for(var j=G;A--;){var k=N.tags[A];if(k.name!==j)X(N,"Unexpected close tag");else break}if(A<0){X(N,"Unmatched closing tag: "+N.tagName),N.textNode+="</"+N.tagName+">",N.state=P.TEXT;return}N.tagName=G;for(var C=N.tags.length;C-- >A;){var R=N.tag=N.tags.pop();N.tagName=N.tag.name,B(N,"onclosetag",N.tagName);var b={};for(var z in R.ns)b[z]=R.ns[z];var S=N.tags[N.tags.length-1]||N;N.opt.xmlns&&R.ns!==S.ns&&Object.keys(R.ns).forEach(function(h){var m=R.ns[h];B(N,"onclosenamespace",{prefix:h,uri:m})})}A===0&&(N.closedRoot=!0),N.tagName=N.attribValue=N.attribName="",N.attribList.length=0,N.state=P.TEXT}function te(N){var A=N.entity,G=A.toLowerCase(),j,k="";return N.ENTITIES[A]?N.ENTITIES[A]:N.ENTITIES[G]?N.ENTITIES[G]:(A=G,A.charAt(0)==="#"&&(A.charAt(1)==="x"?(A=A.slice(2),j=parseInt(A,16),k=j.toString(16)):(A=A.slice(1),j=parseInt(A,10),k=j.toString(10))),A=A.replace(/^0+/,""),isNaN(j)||k.toLowerCase()!==A?(X(N,"Invalid character entity"),"&"+N.entity+";"):String.fromCodePoint(j))}function re(N,A){A==="<"?(N.state=P.OPEN_WAKA,N.startTagPosition=N.position):D(A)||(X(N,"Non-whitespace before first tag."),N.textNode=A,N.state=P.TEXT)}function Q(N,A){var G="";return A<N.length&&(G=N.charAt(A)),G}function q(N){var A=this;if(this.error)throw this.error;if(A.closed)return ne(A,"Cannot write after close. Assign an onready handler.");if(N===null)return me(A);typeof N=="object"&&(N=N.toString());for(var G=0,j="";j=Q(N,G++),A.c=j,!!j;)switch(A.trackPosition&&(A.position++,j===`
`?(A.line++,A.column=0):A.column++),A.state){case P.BEGIN:if(A.state=P.BEGIN_WHITESPACE,j==="\uFEFF")continue;re(A,j);continue;case P.BEGIN_WHITESPACE:re(A,j);continue;case P.TEXT:if(A.sawRoot&&!A.closedRoot){for(var k=G-1;j&&j!=="<"&&j!=="&";)j=Q(N,G++),j&&A.trackPosition&&(A.position++,j===`
`?(A.line++,A.column=0):A.column++);A.textNode+=N.substring(k,G-1)}j==="<"&&!(A.sawRoot&&A.closedRoot&&!A.strict)?(A.state=P.OPEN_WAKA,A.startTagPosition=A.position):(!D(j)&&(!A.sawRoot||A.closedRoot)&&X(A,"Text data outside of root node."),j==="&"?A.state=P.TEXT_ENTITY:A.textNode+=j);continue;case P.SCRIPT:j==="<"?A.state=P.SCRIPT_ENDING:A.script+=j;continue;case P.SCRIPT_ENDING:j==="/"?A.state=P.CLOSE_TAG:(A.script+="<"+j,A.state=P.SCRIPT);continue;case P.OPEN_WAKA:if(j==="!")A.state=P.SGML_DECL,A.sgmlDecl="";else if(!D(j))if(V(T,j))A.state=P.OPEN_TAG,A.tagName=j;else if(j==="/")A.state=P.CLOSE_TAG,A.tagName="";else if(j==="?")A.state=P.PROC_INST,A.procInstName=A.procInstBody="";else{if(X(A,"Unencoded <"),A.startTagPosition+1<A.position){var C=A.position-A.startTagPosition;j=new Array(C).join(" ")+j}A.textNode+="<"+j,A.state=P.TEXT}continue;case P.SGML_DECL:(A.sgmlDecl+j).toUpperCase()===d?(B(A,"onopencdata"),A.state=P.CDATA,A.sgmlDecl="",A.cdata=""):A.sgmlDecl+j==="--"?(A.state=P.COMMENT,A.comment="",A.sgmlDecl=""):(A.sgmlDecl+j).toUpperCase()===p?(A.state=P.DOCTYPE,(A.doctype||A.sawRoot)&&X(A,"Inappropriately located doctype declaration"),A.doctype="",A.sgmlDecl=""):j===">"?(B(A,"onsgmldeclaration",A.sgmlDecl),A.sgmlDecl="",A.state=P.TEXT):(M(j)&&(A.state=P.SGML_DECL_QUOTED),A.sgmlDecl+=j);continue;case P.SGML_DECL_QUOTED:j===A.q&&(A.state=P.SGML_DECL,A.q=""),A.sgmlDecl+=j;continue;case P.DOCTYPE:j===">"?(A.state=P.TEXT,B(A,"ondoctype",A.doctype),A.doctype=!0):(A.doctype+=j,j==="["?A.state=P.DOCTYPE_DTD:M(j)&&(A.state=P.DOCTYPE_QUOTED,A.q=j));continue;case P.DOCTYPE_QUOTED:A.doctype+=j,j===A.q&&(A.q="",A.state=P.DOCTYPE);continue;case P.DOCTYPE_DTD:A.doctype+=j,j==="]"?A.state=P.DOCTYPE:M(j)&&(A.state=P.DOCTYPE_DTD_QUOTED,A.q=j);continue;case P.DOCTYPE_DTD_QUOTED:A.doctype+=j,j===A.q&&(A.state=P.DOCTYPE_DTD,A.q="");continue;case P.COMMENT:j==="-"?A.state=P.COMMENT_ENDING:A.comment+=j;continue;case P.COMMENT_ENDING:j==="-"?(A.state=P.COMMENT_ENDED,A.comment=I(A.opt,A.comment),A.comment&&B(A,"oncomment",A.comment),A.comment=""):(A.comment+="-"+j,A.state=P.COMMENT);continue;case P.COMMENT_ENDED:j!==">"?(X(A,"Malformed comment"),A.comment+="--"+j,A.state=P.COMMENT):A.state=P.TEXT;continue;case P.CDATA:j==="]"?A.state=P.CDATA_ENDING:A.cdata+=j;continue;case P.CDATA_ENDING:j==="]"?A.state=P.CDATA_ENDING_2:(A.cdata+="]"+j,A.state=P.CDATA);continue;case P.CDATA_ENDING_2:j===">"?(A.cdata&&B(A,"oncdata",A.cdata),B(A,"onclosecdata"),A.cdata="",A.state=P.TEXT):j==="]"?A.cdata+="]":(A.cdata+="]]"+j,A.state=P.CDATA);continue;case P.PROC_INST:j==="?"?A.state=P.PROC_INST_ENDING:D(j)?A.state=P.PROC_INST_BODY:A.procInstName+=j;continue;case P.PROC_INST_BODY:if(!A.procInstBody&&D(j))continue;j==="?"?A.state=P.PROC_INST_ENDING:A.procInstBody+=j;continue;case P.PROC_INST_ENDING:j===">"?(B(A,"onprocessinginstruction",{name:A.procInstName,body:A.procInstBody}),A.procInstName=A.procInstBody="",A.state=P.TEXT):(A.procInstBody+="?"+j,A.state=P.PROC_INST_BODY);continue;case P.OPEN_TAG:V(w,j)?A.tagName+=j:(pe(A),j===">"?ee(A):j==="/"?A.state=P.OPEN_TAG_SLASH:(D(j)||X(A,"Invalid character in tag name"),A.state=P.ATTRIB));continue;case P.OPEN_TAG_SLASH:j===">"?(ee(A,!0),F(A)):(X(A,"Forward-slash in opening tag not followed by >"),A.state=P.ATTRIB);continue;case P.ATTRIB:if(D(j))continue;j===">"?ee(A):j==="/"?A.state=P.OPEN_TAG_SLASH:V(T,j)?(A.attribName=j,A.attribValue="",A.state=P.ATTRIB_NAME):X(A,"Invalid attribute name");continue;case P.ATTRIB_NAME:j==="="?A.state=P.ATTRIB_VALUE:j===">"?(X(A,"Attribute without value"),A.attribValue=A.attribName,be(A),ee(A)):D(j)?A.state=P.ATTRIB_NAME_SAW_WHITE:V(w,j)?A.attribName+=j:X(A,"Invalid attribute name");continue;case P.ATTRIB_NAME_SAW_WHITE:if(j==="=")A.state=P.ATTRIB_VALUE;else{if(D(j))continue;X(A,"Attribute without value"),A.tag.attributes[A.attribName]="",A.attribValue="",B(A,"onattribute",{name:A.attribName,value:""}),A.attribName="",j===">"?ee(A):V(T,j)?(A.attribName=j,A.state=P.ATTRIB_NAME):(X(A,"Invalid attribute name"),A.state=P.ATTRIB)}continue;case P.ATTRIB_VALUE:if(D(j))continue;M(j)?(A.q=j,A.state=P.ATTRIB_VALUE_QUOTED):(X(A,"Unquoted attribute value"),A.state=P.ATTRIB_VALUE_UNQUOTED,A.attribValue=j);continue;case P.ATTRIB_VALUE_QUOTED:if(j!==A.q){j==="&"?A.state=P.ATTRIB_VALUE_ENTITY_Q:A.attribValue+=j;continue}be(A),A.q="",A.state=P.ATTRIB_VALUE_CLOSED;continue;case P.ATTRIB_VALUE_CLOSED:D(j)?A.state=P.ATTRIB:j===">"?ee(A):j==="/"?A.state=P.OPEN_TAG_SLASH:V(T,j)?(X(A,"No whitespace between attributes"),A.attribName=j,A.attribValue="",A.state=P.ATTRIB_NAME):X(A,"Invalid attribute name");continue;case P.ATTRIB_VALUE_UNQUOTED:if(!J(j)){j==="&"?A.state=P.ATTRIB_VALUE_ENTITY_U:A.attribValue+=j;continue}be(A),j===">"?ee(A):A.state=P.ATTRIB;continue;case P.CLOSE_TAG:if(A.tagName)j===">"?F(A):V(w,j)?A.tagName+=j:A.script?(A.script+="</"+A.tagName,A.tagName="",A.state=P.SCRIPT):(D(j)||X(A,"Invalid tagname in closing tag"),A.state=P.CLOSE_TAG_SAW_WHITE);else{if(D(j))continue;W(T,j)?A.script?(A.script+="</"+j,A.state=P.SCRIPT):X(A,"Invalid tagname in closing tag."):A.tagName=j}continue;case P.CLOSE_TAG_SAW_WHITE:if(D(j))continue;j===">"?F(A):X(A,"Invalid characters in closing tag");continue;case P.TEXT_ENTITY:case P.ATTRIB_VALUE_ENTITY_Q:case P.ATTRIB_VALUE_ENTITY_U:var R,b;switch(A.state){case P.TEXT_ENTITY:R=P.TEXT,b="textNode";break;case P.ATTRIB_VALUE_ENTITY_Q:R=P.ATTRIB_VALUE_QUOTED,b="attribValue";break;case P.ATTRIB_VALUE_ENTITY_U:R=P.ATTRIB_VALUE_UNQUOTED,b="attribValue";break}j===";"?(A[b]+=te(A),A.entity="",A.state=R):V(A.entity.length?x:_,j)?A.entity+=j:(X(A,"Invalid character in entity name"),A[b]+="&"+A.entity+j,A.entity="",A.state=R);continue;default:throw new Error(A,"Unknown state: "+A.state)}return A.position>=A.bufferCheckPosition&&r(A),A}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var N=String.fromCharCode,A=Math.floor,G=function(){var j=16384,k=[],C,R,b=-1,z=arguments.length;if(!z)return"";for(var S="";++b<z;){var h=Number(arguments[b]);if(!isFinite(h)||h<0||h>1114111||A(h)!==h)throw RangeError("Invalid code point: "+h);h<=65535?k.push(h):(h-=65536,C=(h>>10)+55296,R=h%1024+56320,k.push(C,R)),(b+1===z||k.length>j)&&(S+=N.apply(null,k),k.length=0)}return S};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:G,configurable:!0,writable:!0}):String.fromCodePoint=G}()})(e)})(y0);var $f={isArray:function(e){return Array.isArray?Array.isArray(e):Object.prototype.toString.call(e)==="[object Array]"}},_U=$f.isArray,Uf={copyOptions:function(e){var t,o={};for(t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!_U(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},SU=y0,et=Uf,Ii=$f.isArray,ue,Ue;function AU(e){return ue=et.copyOptions(e),et.ensureFlagExists("ignoreDeclaration",ue),et.ensureFlagExists("ignoreInstruction",ue),et.ensureFlagExists("ignoreAttributes",ue),et.ensureFlagExists("ignoreText",ue),et.ensureFlagExists("ignoreComment",ue),et.ensureFlagExists("ignoreCdata",ue),et.ensureFlagExists("ignoreDoctype",ue),et.ensureFlagExists("compact",ue),et.ensureFlagExists("alwaysChildren",ue),et.ensureFlagExists("addParent",ue),et.ensureFlagExists("trim",ue),et.ensureFlagExists("nativeType",ue),et.ensureFlagExists("nativeTypeAttributes",ue),et.ensureFlagExists("sanitize",ue),et.ensureFlagExists("instructionHasAttributes",ue),et.ensureFlagExists("captureSpacesBetweenElements",ue),et.ensureAlwaysArrayExists(ue),et.ensureKeyExists("declaration",ue),et.ensureKeyExists("instruction",ue),et.ensureKeyExists("attributes",ue),et.ensureKeyExists("text",ue),et.ensureKeyExists("comment",ue),et.ensureKeyExists("cdata",ue),et.ensureKeyExists("doctype",ue),et.ensureKeyExists("type",ue),et.ensureKeyExists("name",ue),et.ensureKeyExists("elements",ue),et.ensureKeyExists("parent",ue),ue}function z0(e){var t=Number(e);if(!isNaN(t))return t;var o=e.toLowerCase();return o==="true"?!0:o==="false"?!1:e}function ws(e,t){var o;if(ue.compact){if(!Ue[ue[e+"Key"]]&&(Ii(ue.alwaysArray)?ue.alwaysArray.indexOf(ue[e+"Key"])!==-1:ue.alwaysArray)&&(Ue[ue[e+"Key"]]=[]),Ue[ue[e+"Key"]]&&!Ii(Ue[ue[e+"Key"]])&&(Ue[ue[e+"Key"]]=[Ue[ue[e+"Key"]]]),e+"Fn"in ue&&typeof t=="string"&&(t=ue[e+"Fn"](t,Ue)),e==="instruction"&&("instructionFn"in ue||"instructionNameFn"in ue)){for(o in t)if(t.hasOwnProperty(o))if("instructionFn"in ue)t[o]=ue.instructionFn(t[o],o,Ue);else{var i=t[o];delete t[o],t[ue.instructionNameFn(o,i,Ue)]=i}}Ii(Ue[ue[e+"Key"]])?Ue[ue[e+"Key"]].push(t):Ue[ue[e+"Key"]]=t}else{Ue[ue.elementsKey]||(Ue[ue.elementsKey]=[]);var r={};if(r[ue.typeKey]=e,e==="instruction"){for(o in t)if(t.hasOwnProperty(o))break;r[ue.nameKey]="instructionNameFn"in ue?ue.instructionNameFn(o,t,Ue):o,ue.instructionHasAttributes?(r[ue.attributesKey]=t[o][ue.attributesKey],"instructionFn"in ue&&(r[ue.attributesKey]=ue.instructionFn(r[ue.attributesKey],o,Ue))):("instructionFn"in ue&&(t[o]=ue.instructionFn(t[o],o,Ue)),r[ue.instructionKey]=t[o])}else e+"Fn"in ue&&(t=ue[e+"Fn"](t,Ue)),r[ue[e+"Key"]]=t;ue.addParent&&(r[ue.parentKey]=Ue),Ue[ue.elementsKey].push(r)}}function V0(e){if("attributesFn"in ue&&e&&(e=ue.attributesFn(e,Ue)),(ue.trim||"attributeValueFn"in ue||"attributeNameFn"in ue||ue.nativeTypeAttributes)&&e){var t;for(t in e)if(e.hasOwnProperty(t)&&(ue.trim&&(e[t]=e[t].trim()),ue.nativeTypeAttributes&&(e[t]=z0(e[t])),"attributeValueFn"in ue&&(e[t]=ue.attributeValueFn(e[t],t,Ue)),"attributeNameFn"in ue)){var o=e[t];delete e[t],e[ue.attributeNameFn(t,e[t],Ue)]=o}}return e}function NU(e){var t={};if(e.body&&(e.name.toLowerCase()==="xml"||ue.instructionHasAttributes)){for(var o=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,i;(i=o.exec(e.body))!==null;)t[i[1]]=i[2]||i[3]||i[4];t=V0(t)}if(e.name.toLowerCase()==="xml"){if(ue.ignoreDeclaration)return;Ue[ue.declarationKey]={},Object.keys(t).length&&(Ue[ue.declarationKey][ue.attributesKey]=t),ue.addParent&&(Ue[ue.declarationKey][ue.parentKey]=Ue)}else{if(ue.ignoreInstruction)return;ue.trim&&(e.body=e.body.trim());var r={};ue.instructionHasAttributes&&Object.keys(t).length?(r[e.name]={},r[e.name][ue.attributesKey]=t):r[e.name]=e.body,ws("instruction",r)}}function CU(e,t){var o;if(typeof e=="object"&&(t=e.attributes,e=e.name),t=V0(t),"elementNameFn"in ue&&(e=ue.elementNameFn(e,Ue)),ue.compact){if(o={},!ue.ignoreAttributes&&t&&Object.keys(t).length){o[ue.attributesKey]={};var i;for(i in t)t.hasOwnProperty(i)&&(o[ue.attributesKey][i]=t[i])}!(e in Ue)&&(Ii(ue.alwaysArray)?ue.alwaysArray.indexOf(e)!==-1:ue.alwaysArray)&&(Ue[e]=[]),Ue[e]&&!Ii(Ue[e])&&(Ue[e]=[Ue[e]]),Ii(Ue[e])?Ue[e].push(o):Ue[e]=o}else Ue[ue.elementsKey]||(Ue[ue.elementsKey]=[]),o={},o[ue.typeKey]="element",o[ue.nameKey]=e,!ue.ignoreAttributes&&t&&Object.keys(t).length&&(o[ue.attributesKey]=t),ue.alwaysChildren&&(o[ue.elementsKey]=[]),Ue[ue.elementsKey].push(o);o[ue.parentKey]=Ue,Ue=o}function TU(e){ue.ignoreText||!e.trim()&&!ue.captureSpacesBetweenElements||(ue.trim&&(e=e.trim()),ue.nativeType&&(e=z0(e)),ue.sanitize&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),ws("text",e))}function xU(e){ue.ignoreComment||(ue.trim&&(e=e.trim()),ws("comment",e))}function IU(e){var t=Ue[ue.parentKey];ue.addParent||delete Ue[ue.parentKey],Ue=t}function DU(e){ue.ignoreCdata||(ue.trim&&(e=e.trim()),ws("cdata",e))}function PU(e){ue.ignoreDoctype||(e=e.replace(/^ /,""),ue.trim&&(e=e.trim()),ws("doctype",e))}function kU(e){e.note=e}var H0=function(e,t){var o=SU.parser(!0,{}),i={};if(Ue=i,ue=AU(t),o.opt={strictEntities:!0},o.onopentag=CU,o.ontext=TU,o.oncomment=xU,o.onclosetag=IU,o.onerror=kU,o.oncdata=DU,o.ondoctype=PU,o.onprocessinginstruction=NU,o.write(e).close(),i[ue.elementsKey]){var r=i[ue.elementsKey];delete i[ue.elementsKey],i[ue.elementsKey]=r,delete i.text}return i},gv=Uf,OU=H0;function RU(e){var t=gv.copyOptions(e);return gv.ensureSpacesExists(t),t}var MU=function(e,t){var o,i,r,n;return o=RU(t),i=OU(e,o),n="compact"in o&&o.compact?"_parent":"parent","addParent"in o&&o.addParent?r=JSON.stringify(i,function(s,a){return s===n?"_":a},o.spaces):r=JSON.stringify(i,null,o.spaces),r.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},dt=Uf,FU=$f.isArray,Vt,Ht;function BU(e){var t=dt.copyOptions(e);return dt.ensureFlagExists("ignoreDeclaration",t),dt.ensureFlagExists("ignoreInstruction",t),dt.ensureFlagExists("ignoreAttributes",t),dt.ensureFlagExists("ignoreText",t),dt.ensureFlagExists("ignoreComment",t),dt.ensureFlagExists("ignoreCdata",t),dt.ensureFlagExists("ignoreDoctype",t),dt.ensureFlagExists("compact",t),dt.ensureFlagExists("indentText",t),dt.ensureFlagExists("indentCdata",t),dt.ensureFlagExists("indentAttributes",t),dt.ensureFlagExists("indentInstruction",t),dt.ensureFlagExists("fullTagEmptyElement",t),dt.ensureFlagExists("noQuotesForNativeAttributes",t),dt.ensureSpacesExists(t),typeof t.spaces=="number"&&(t.spaces=Array(t.spaces+1).join(" ")),dt.ensureKeyExists("declaration",t),dt.ensureKeyExists("instruction",t),dt.ensureKeyExists("attributes",t),dt.ensureKeyExists("text",t),dt.ensureKeyExists("comment",t),dt.ensureKeyExists("cdata",t),dt.ensureKeyExists("doctype",t),dt.ensureKeyExists("type",t),dt.ensureKeyExists("name",t),dt.ensureKeyExists("elements",t),t}function Oo(e,t,o){return(!o&&e.spaces?`
`:"")+Array(t+1).join(e.spaces)}function vl(e,t,o){if(t.ignoreAttributes)return"";"attributesFn"in t&&(e=t.attributesFn(e,Ht,Vt));var i,r,n,s,a=[];for(i in e)e.hasOwnProperty(i)&&e[i]!==null&&e[i]!==void 0&&(s=t.noQuotesForNativeAttributes&&typeof e[i]!="string"?"":'"',r=""+e[i],r=r.replace(/"/g,"&quot;"),n="attributeNameFn"in t?t.attributeNameFn(i,r,Ht,Vt):i,a.push(t.spaces&&t.indentAttributes?Oo(t,o+1,!1):" "),a.push(n+"="+s+("attributeValueFn"in t?t.attributeValueFn(r,i,Ht,Vt):r)+s));return e&&Object.keys(e).length&&t.spaces&&t.indentAttributes&&a.push(Oo(t,o,!1)),a.join("")}function W0(e,t,o){return Vt=e,Ht="xml",t.ignoreDeclaration?"":"<?xml"+vl(e[t.attributesKey],t,o)+"?>"}function Q0(e,t,o){if(t.ignoreInstruction)return"";var i;for(i in e)if(e.hasOwnProperty(i))break;var r="instructionNameFn"in t?t.instructionNameFn(i,e[i],Ht,Vt):i;if(typeof e[i]=="object")return Vt=e,Ht=r,"<?"+r+vl(e[i][t.attributesKey],t,o)+"?>";var n=e[i]?e[i]:"";return"instructionFn"in t&&(n=t.instructionFn(n,i,Ht,Vt)),"<?"+r+(n?" "+n:"")+"?>"}function G0(e,t){return t.ignoreComment?"":"<!--"+("commentFn"in t?t.commentFn(e,Ht,Vt):e)+"-->"}function K0(e,t){return t.ignoreCdata?"":"<![CDATA["+("cdataFn"in t?t.cdataFn(e,Ht,Vt):e.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function J0(e,t){return t.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in t?t.doctypeFn(e,Ht,Vt):e)+">"}function qf(e,t){return t.ignoreText?"":(e=""+e,e=e.replace(/&amp;/g,"&"),e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in t?t.textFn(e,Ht,Vt):e)}function LU(e,t){var o;if(e.elements&&e.elements.length)for(o=0;o<e.elements.length;++o)switch(e.elements[o][t.typeKey]){case"text":if(t.indentText)return!0;break;case"cdata":if(t.indentCdata)return!0;break;case"instruction":if(t.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function $U(e,t,o){Vt=e,Ht=e.name;var i=[],r="elementNameFn"in t?t.elementNameFn(e.name,e):e.name;i.push("<"+r),e[t.attributesKey]&&i.push(vl(e[t.attributesKey],t,o));var n=e[t.elementsKey]&&e[t.elementsKey].length||e[t.attributesKey]&&e[t.attributesKey]["xml:space"]==="preserve";return n||("fullTagEmptyElementFn"in t?n=t.fullTagEmptyElementFn(e.name,e):n=t.fullTagEmptyElement),n?(i.push(">"),e[t.elementsKey]&&e[t.elementsKey].length&&(i.push(Y0(e[t.elementsKey],t,o+1)),Vt=e,Ht=e.name),i.push(t.spaces&&LU(e,t)?`
`+Array(o+1).join(t.spaces):""),i.push("</"+r+">")):i.push("/>"),i.join("")}function Y0(e,t,o,i){return e.reduce(function(r,n){var s=Oo(t,o,i&&!r);switch(n.type){case"element":return r+s+$U(n,t,o);case"comment":return r+s+G0(n[t.commentKey],t);case"doctype":return r+s+J0(n[t.doctypeKey],t);case"cdata":return r+(t.indentCdata?s:"")+K0(n[t.cdataKey],t);case"text":return r+(t.indentText?s:"")+qf(n[t.textKey],t);case"instruction":var a={};return a[n[t.nameKey]]=n[t.attributesKey]?n:n[t.instructionKey],r+(t.indentInstruction?s:"")+Q0(a,t,o)}},"")}function X0(e,t,o){var i;for(i in e)if(e.hasOwnProperty(i))switch(i){case t.parentKey:case t.attributesKey:break;case t.textKey:if(t.indentText||o)return!0;break;case t.cdataKey:if(t.indentCdata||o)return!0;break;case t.instructionKey:if(t.indentInstruction||o)return!0;break;case t.doctypeKey:case t.commentKey:return!0;default:return!0}return!1}function UU(e,t,o,i,r){Vt=e,Ht=t;var n="elementNameFn"in o?o.elementNameFn(t,e):t;if(typeof e>"u"||e===null||e==="")return"fullTagEmptyElementFn"in o&&o.fullTagEmptyElementFn(t,e)||o.fullTagEmptyElement?"<"+n+"></"+n+">":"<"+n+"/>";var s=[];if(t){if(s.push("<"+n),typeof e!="object")return s.push(">"+qf(e,o)+"</"+n+">"),s.join("");e[o.attributesKey]&&s.push(vl(e[o.attributesKey],o,i));var a=X0(e,o,!0)||e[o.attributesKey]&&e[o.attributesKey]["xml:space"]==="preserve";if(a||("fullTagEmptyElementFn"in o?a=o.fullTagEmptyElementFn(t,e):a=o.fullTagEmptyElement),a)s.push(">");else return s.push("/>"),s.join("")}return s.push(Z0(e,o,i+1,!1)),Vt=e,Ht=t,t&&s.push((r?Oo(o,i,!1):"")+"</"+n+">"),s.join("")}function Z0(e,t,o,i){var r,n,s,a=[];for(n in e)if(e.hasOwnProperty(n))for(s=FU(e[n])?e[n]:[e[n]],r=0;r<s.length;++r){switch(n){case t.declarationKey:a.push(W0(s[r],t,o));break;case t.instructionKey:a.push((t.indentInstruction?Oo(t,o,i):"")+Q0(s[r],t,o));break;case t.attributesKey:case t.parentKey:break;case t.textKey:a.push((t.indentText?Oo(t,o,i):"")+qf(s[r],t));break;case t.cdataKey:a.push((t.indentCdata?Oo(t,o,i):"")+K0(s[r],t));break;case t.doctypeKey:a.push(Oo(t,o,i)+J0(s[r],t));break;case t.commentKey:a.push(Oo(t,o,i)+G0(s[r],t));break;default:a.push(Oo(t,o,i)+UU(s[r],n,t,o,X0(s[r],t)))}i=i&&!a.length}return a.join("")}var ew=function(e,t){t=BU(t);var o=[];return Vt=e,Ht="_root_",t.compact?o.push(Z0(e,t,0,!0)):(e[t.declarationKey]&&o.push(W0(e[t.declarationKey],t,0)),e[t.elementsKey]&&e[t.elementsKey].length&&o.push(Y0(e[t.elementsKey],t,0,!o.length))),o.join("")},qU=ew,jU=function(e,t){e instanceof Buffer&&(e=e.toString());var o=null;if(typeof e=="string")try{o=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else o=e;return qU(o,t)},zU=H0,VU=MU,HU=ew,WU=jU,tw={xml2js:zU,xml2json:VU,js2xml:HU,json2xml:WU};const jf=e=>{switch(e.type){case void 0:case"element":const t=new GU(e.name,e.attributes),o=e.elements||[];for(const i of o){const r=jf(i);r!==void 0&&t.push(r)}return t;case"text":return e.text;default:return}};class QU extends Be{}class GU extends ge{static fromXmlString(t){const o=tw.xml2js(t,{compact:!1});return jf(o)}constructor(t,o){super(t),o&&this.root.push(new QU(o))}push(t){this.root.push(t)}}class KU extends ge{constructor(t){super(""),this._attr=t}prepForXml(t){return{_attr:this._attr}}}class ow extends ge{constructor(t,o){super(t),o&&(this.root=o.root)}}const Wt=e=>{if(isNaN(e))throw new Error(`Invalid value '${e}' specified. Must be an integer.`);return Math.floor(e)},gl=e=>{const t=Wt(e);if(t<0)throw new Error(`Invalid value '${e}' specified. Must be a positive integer.`);return t},rw=(e,t)=>{const o=t*2;if(e.length!==o||isNaN(+`0x${e}`))throw new Error(`Invalid hex value '${e}'. Expected ${o} digit hex value`);return e},yv=e=>rw(e,1),zf=e=>{const t=e.slice(-2),o=e.substring(0,e.length-2);return`${Number(o)}${t}`},iw=e=>{const t=zf(e);if(parseFloat(t)<0)throw new Error(`Invalid value '${t}' specified. Expected a positive number.`);return t},qi=e=>{if(e==="auto")return e;const t=e.charAt(0)==="#"?e.substring(1):e;return rw(t,3)},Wo=e=>typeof e=="string"?zf(e):Wt(e),JU=e=>typeof e=="string"?iw(e):gl(e),$t=e=>typeof e=="string"?iw(e):gl(e),YU=e=>{const t=e.substring(0,e.length-1);return`${Number(t)}%`},XU=e=>typeof e=="number"?Wt(e):e.slice(-1)==="%"?YU(e):zf(e),ZU=gl,e6=gl,t6=e=>e.toISOString();class Ne extends ge{constructor(t,o=!0){super(t),o!==!0&&this.root.push(new gt({val:o}))}}class Wc extends ge{constructor(t,o){super(t),this.root.push(new gt({val:JU(o)}))}}class Jr extends ge{constructor(t,o){super(t),this.root.push(new gt({val:o}))}}class nw extends ge{constructor(t,o){super(t),this.root.push(new gt({val:o}))}}class o6 extends ge{constructor(t,o){super(t),this.root.push(new gt({val:o}))}}class kr extends ge{constructor(t,o){super(t),this.root.push(o)}}class r6 extends ge{constructor(t){super(t.name),t.attributes&&this.root.push(new tr(t.attributes))}}var wt=(e=>(e.START="start",e.CENTER="center",e.END="end",e.BOTH="both",e.MEDIUM_KASHIDA="mediumKashida",e.DISTRIBUTE="distribute",e.NUM_TAB="numTab",e.HIGH_KASHIDA="highKashida",e.LOW_KASHIDA="lowKashida",e.THAI_DISTRIBUTE="thaiDistribute",e.LEFT="left",e.RIGHT="right",e.JUSTIFIED="both",e))(wt||{});class i6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val"})}}class sw extends ge{constructor(t){super("w:jc"),this.root.push(new i6({val:t}))}}class it extends ge{constructor(t,{color:o,size:i,space:r,style:n}){super(t),this.root.push(new n6({style:n,color:o===void 0?void 0:qi(o),size:i===void 0?void 0:ZU(i),space:r===void 0?void 0:e6(r)}))}}class n6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}var yl=(e=>(e.SINGLE="single",e.DASH_DOT_STROKED="dashDotStroked",e.DASHED="dashed",e.DASH_SMALL_GAP="dashSmallGap",e.DOT_DASH="dotDash",e.DOT_DOT_DASH="dotDotDash",e.DOTTED="dotted",e.DOUBLE="double",e.DOUBLE_WAVE="doubleWave",e.INSET="inset",e.NIL="nil",e.NONE="none",e.OUTSET="outset",e.THICK="thick",e.THICK_THIN_LARGE_GAP="thickThinLargeGap",e.THICK_THIN_MEDIUM_GAP="thickThinMediumGap",e.THICK_THIN_SMALL_GAP="thickThinSmallGap",e.THIN_THICK_LARGE_GAP="thinThickLargeGap",e.THIN_THICK_MEDIUM_GAP="thinThickMediumGap",e.THIN_THICK_SMALL_GAP="thinThickSmallGap",e.THIN_THICK_THIN_LARGE_GAP="thinThickThinLargeGap",e.THIN_THICK_THIN_MEDIUM_GAP="thinThickThinMediumGap",e.THIN_THICK_THIN_SMALL_GAP="thinThickThinSmallGap",e.THREE_D_EMBOSS="threeDEmboss",e.THREE_D_ENGRAVE="threeDEngrave",e.TRIPLE="triple",e.WAVE="wave",e))(yl||{});class s6 extends er{constructor(t){super("w:pBdr"),t.top&&this.root.push(new it("w:top",t.top)),t.bottom&&this.root.push(new it("w:bottom",t.bottom)),t.left&&this.root.push(new it("w:left",t.left)),t.right&&this.root.push(new it("w:right",t.right))}}class a6 extends ge{constructor(){super("w:pBdr");const t=new it("w:bottom",{color:"auto",space:1,style:yl.SINGLE,size:6});this.root.push(t)}}class l6 extends ge{constructor({start:t,end:o,left:i,right:r,hanging:n,firstLine:s}){super("w:ind"),this.root.push(new tr({start:{key:"w:start",value:t===void 0?void 0:Wo(t)},end:{key:"w:end",value:o===void 0?void 0:Wo(o)},left:{key:"w:left",value:i===void 0?void 0:Wo(i)},right:{key:"w:right",value:r===void 0?void 0:Wo(r)},hanging:{key:"w:hanging",value:n===void 0?void 0:$t(n)},firstLine:{key:"w:firstLine",value:s===void 0?void 0:$t(s)}}))}}let c6=class extends ge{constructor(){super("w:br")}};class Vf extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Qc extends ge{constructor(t){super("w:fldChar"),this.root.push(new Vf({type:"begin",dirty:t}))}}class Gc extends ge{constructor(t){super("w:fldChar"),this.root.push(new Vf({type:"separate",dirty:t}))}}class Kc extends ge{constructor(t){super("w:fldChar"),this.root.push(new Vf({type:"end",dirty:t}))}}var ji=(e=>(e.DEFAULT="default",e.PRESERVE="preserve",e))(ji||{});class ts extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{space:"xml:space"})}}class u6 extends ge{constructor(){super("w:instrText"),this.root.push(new ts({space:ji.PRESERVE})),this.root.push("PAGE")}}class d6 extends ge{constructor(){super("w:instrText"),this.root.push(new ts({space:ji.PRESERVE})),this.root.push("NUMPAGES")}}class f6 extends ge{constructor(){super("w:instrText"),this.root.push(new ts({space:ji.PRESERVE})),this.root.push("SECTIONPAGES")}}class h6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class bl extends ge{constructor({fill:t,color:o,type:i}){super("w:shd"),this.root.push(new h6({fill:t===void 0?void 0:qi(t),color:o===void 0?void 0:qi(o),type:i}))}}class p6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}class m6 extends ge{constructor(t){super("w:em"),this.root.push(new gt({val:t}))}}class v6 extends m6{constructor(t="dot"){super(t)}}class g6 extends ge{constructor(t){super("w:spacing"),this.root.push(new gt({val:Wo(t)}))}}class y6 extends ge{constructor(t){super("w:color"),this.root.push(new gt({val:qi(t)}))}}class b6 extends ge{constructor(t){super("w:highlight"),this.root.push(new gt({val:t}))}}class w6 extends ge{constructor(t){super("w:highlightCs"),this.root.push(new gt({val:t}))}}const E6=e=>new r6({name:"w:lang",attributes:{value:{key:"w:val",value:e.value},eastAsia:{key:"w:eastAsia",value:e.eastAsia},bidirectional:{key:"w:bidi",value:e.bidirectional}}});class bv extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Jc extends ge{constructor(t,o){if(super("w:rFonts"),typeof t=="string"){const i=t;this.root.push(new bv({ascii:i,cs:i,eastAsia:i,hAnsi:i,hint:o}))}else{const i=t;this.root.push(new bv(i))}}}let aw=class extends ge{constructor(t){super("w:vertAlign"),this.root.push(new gt({val:t}))}};class _6 extends aw{constructor(){super("superscript")}}class S6 extends aw{constructor(){super("subscript")}}var lw=(e=>(e.SINGLE="single",e.WORDS="words",e.DOUBLE="double",e.THICK="thick",e.DOTTED="dotted",e.DOTTEDHEAVY="dottedHeavy",e.DASH="dash",e.DASHEDHEAVY="dashedHeavy",e.DASHLONG="dashLong",e.DASHLONGHEAVY="dashLongHeavy",e.DOTDASH="dotDash",e.DASHDOTHEAVY="dashDotHeavy",e.DOTDOTDASH="dotDotDash",e.DASHDOTDOTHEAVY="dashDotDotHeavy",e.WAVE="wave",e.WAVYHEAVY="wavyHeavy",e.WAVYDOUBLE="wavyDouble",e.NONE="none",e))(lw||{});class A6 extends ge{constructor(t="single",o){super("w:u"),this.root.push(new gt({val:t,color:o===void 0?void 0:qi(o)}))}}class sn extends er{constructor(t){if(super("w:rPr"),!t)return;t.noProof!==void 0&&this.push(new Ne("w:noProof",t.noProof)),t.bold!==void 0&&this.push(new Ne("w:b",t.bold)),(t.boldComplexScript===void 0&&t.bold!==void 0||t.boldComplexScript)&&this.push(new Ne("w:bCs",t.boldComplexScript??t.bold)),t.italics!==void 0&&this.push(new Ne("w:i",t.italics)),(t.italicsComplexScript===void 0&&t.italics!==void 0||t.italicsComplexScript)&&this.push(new Ne("w:iCs",t.italicsComplexScript??t.italics)),t.underline&&this.push(new A6(t.underline.type,t.underline.color)),t.effect&&this.push(new Jr("w:effect",t.effect)),t.emphasisMark&&this.push(new v6(t.emphasisMark.type)),t.color&&this.push(new y6(t.color)),t.kern&&this.push(new Wc("w:kern",t.kern)),t.position&&this.push(new Jr("w:position",t.position)),t.size!==void 0&&this.push(new Wc("w:sz",t.size));const o=t.sizeComplexScript===void 0||t.sizeComplexScript===!0?t.size:t.sizeComplexScript;o&&this.push(new Wc("w:szCs",o)),t.rightToLeft!==void 0&&this.push(new Ne("w:rtl",t.rightToLeft)),t.smallCaps!==void 0?this.push(new Ne("w:smallCaps",t.smallCaps)):t.allCaps!==void 0&&this.push(new Ne("w:caps",t.allCaps)),t.strike!==void 0&&this.push(new Ne("w:strike",t.strike)),t.doubleStrike!==void 0&&this.push(new Ne("w:dstrike",t.doubleStrike)),t.subScript&&this.push(new S6),t.superScript&&this.push(new _6),t.style&&this.push(new Jr("w:rStyle",t.style)),t.font&&(typeof t.font=="string"?this.push(new Jc(t.font)):"name"in t.font?this.push(new Jc(t.font.name,t.font.hint)):this.push(new Jc(t.font))),t.highlight&&this.push(new b6(t.highlight));const i=t.highlightComplexScript===void 0||t.highlightComplexScript===!0?t.highlight:t.highlightComplexScript;i&&this.push(new w6(i)),t.characterSpacing&&this.push(new g6(t.characterSpacing)),t.emboss!==void 0&&this.push(new Ne("w:emboss",t.emboss)),t.imprint!==void 0&&this.push(new Ne("w:imprint",t.imprint)),t.shading&&this.push(new bl(t.shading)),t.revision&&this.push(new N6(t.revision)),t.border&&this.push(new it("w:bdr",t.border)),t.snapToGrid&&this.push(new Ne("w:snapToGrid",t.snapToGrid)),t.vanish&&this.push(new Ne("w:vanish",t.vanish)),t.specVanish&&this.push(new Ne("w:specVanish",t.vanish)),t.scale!==void 0&&this.push(new nw("w:w",t.scale)),t.language&&this.push(E6(t.language)),t.math&&this.push(new Ne("w:oMath",t.math))}push(t){this.root.push(t)}}class N6 extends ge{constructor(t){super("w:rPrChange"),this.root.push(new p6({id:t.id,author:t.author,date:t.date})),this.addChildElement(new sn(t))}}class ud extends ge{constructor(t){return super("w:t"),typeof t=="string"?(this.root.push(new ts({space:ji.PRESERVE})),this.root.push(t),this):(this.root.push(new ts({space:t.space??ji.DEFAULT})),this.root.push(t.text),this)}}class wl extends ge{constructor(t){if(super("w:r"),we(this,"properties"),this.properties=new sn(t),this.root.push(this.properties),t.break)for(let o=0;o<t.break;o++)this.root.push(new c6);if(t.children)for(const o of t.children){if(typeof o=="string"){switch(o){case"CURRENT":this.root.push(new Qc),this.root.push(new u6),this.root.push(new Gc),this.root.push(new Kc);break;case"TOTAL_PAGES":this.root.push(new Qc),this.root.push(new d6),this.root.push(new Gc),this.root.push(new Kc);break;case"TOTAL_PAGES_IN_SECTION":this.root.push(new Qc),this.root.push(new f6),this.root.push(new Gc),this.root.push(new Kc);break;default:this.root.push(new ud(o));break}continue}this.root.push(o)}else t.text&&this.root.push(new ud(t.text))}}class qr extends wl{constructor(t){if(typeof t=="string")return super({}),this.root.push(new ud(t)),this;super(t)}}let C6="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",T6=(e=21)=>{let t="",o=e;for(;o--;)t+=C6[Math.random()*64|0];return t};const po=e=>Math.floor(e*72*20),Hf=(e=0)=>{let t=e;return()=>++t},x6=()=>Hf(),I6=()=>Hf(1),D6=()=>Hf(),P6=()=>T6().toLowerCase();class k6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class O6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class R6 extends ge{constructor({id:t,initials:o,author:i,date:r=new Date,children:n}){super("w:comment"),this.root.push(new k6({id:t,initials:o,author:i,date:r.toISOString()}));for(const s of n)this.root.push(s)}}class M6 extends ge{constructor({children:t}){super("w:comments"),this.root.push(new O6({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const o of t)this.root.push(new R6(o))}}class F6 extends ge{constructor(){super("w:pageBreakBefore")}}var Ta=(e=>(e.AT_LEAST="atLeast",e.EXACTLY="exactly",e.EXACT="exact",e.AUTO="auto",e))(Ta||{});class B6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class L6 extends ge{constructor(t){super("w:spacing"),this.root.push(new B6(t))}}var xn=(e=>(e.HEADING_1="Heading1",e.HEADING_2="Heading2",e.HEADING_3="Heading3",e.HEADING_4="Heading4",e.HEADING_5="Heading5",e.HEADING_6="Heading6",e.TITLE="Title",e))(xn||{});let zs=class extends ge{constructor(t){super("w:pStyle"),this.root.push(new gt({val:t}))}};class $6 extends ge{constructor(t){super("w:tabs");for(const o of t)this.root.push(new q6(o))}}var dd=(e=>(e.LEFT="left",e.RIGHT="right",e.CENTER="center",e.BAR="bar",e.CLEAR="clear",e.DECIMAL="decimal",e.END="end",e.NUM="num",e.START="start",e))(dd||{});class U6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class q6 extends ge{constructor({type:t,position:o,leader:i}){super("w:tab"),this.root.push(new U6({val:t,pos:o,leader:i}))}}class wv extends ge{constructor(t,o){super("w:numPr"),this.root.push(new j6(o)),this.root.push(new z6(t))}}class j6 extends ge{constructor(t){if(super("w:ilvl"),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new gt({val:t}))}}class z6 extends ge{constructor(t){super("w:numId"),this.root.push(new gt({val:typeof t=="string"?`{${t}}`:t}))}}class cw extends ge{constructor(){super(...arguments),we(this,"fileChild",Symbol())}}class V6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}var uw=(e=>(e.EXTERNAL="External",e))(uw||{});class H6 extends ge{constructor(t,o,i,r){super("Relationship"),this.root.push(new V6({id:t,type:o,target:i,targetMode:r}))}}class W6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Q6 extends ge{constructor(t,o,i){super("w:hyperlink"),we(this,"linkId"),this.linkId=o;const r={history:1,anchor:i||void 0,id:i?void 0:`rId${this.linkId}`},n=new W6(r);this.root.push(n),t.forEach(s=>{this.root.push(s)})}}class G6 extends ge{constructor(t){super("w:externalHyperlink"),this.options=t}}class K6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class J6 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{id:"w:id"})}}class Y6{constructor(t){we(this,"bookmarkUniqueNumericId",D6()),we(this,"start"),we(this,"children"),we(this,"end");const o=this.bookmarkUniqueNumericId();this.start=new X6(t.id,o),this.children=t.children,this.end=new Z6(o)}}class X6 extends ge{constructor(t,o){super("w:bookmarkStart");const i=new K6({name:t,id:o});this.root.push(i)}}class Z6 extends ge{constructor(t){super("w:bookmarkEnd");const o=new J6({id:t});this.root.push(o)}}class e4 extends ge{constructor(t){super("w:outlineLvl"),this.level=t,this.root.push(new gt({val:t}))}}class t4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{verticalAlign:"w:val"})}}class dw extends ge{constructor(t){super("w:vAlign"),this.root.push(new t4({verticalAlign:t}))}}var Di=(e=>(e.DEFAULT="default",e.FIRST="first",e.EVEN="even",e))(Di||{});class o4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{type:"w:type",id:"r:id"})}}var fd=(e=>(e.HEADER="w:headerReference",e.FOOTER="w:footerReference",e))(fd||{});class Yc extends ge{constructor(t,o){super(t),this.root.push(new o4({type:o.type||"default",id:`rId${o.id}`}))}}class r4 extends ge{constructor({space:t,count:o,separate:i,equalWidth:r,children:n}){super("w:cols"),this.root.push(new tr({space:{key:"w:space",value:t===void 0?void 0:$t(t)},count:{key:"w:num",value:o===void 0?void 0:Wt(o)},separate:{key:"w:sep",value:i},equalWidth:{key:"w:equalWidth",value:r}})),!r&&n&&n.forEach(s=>this.addChildElement(s))}}class i4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class n4 extends ge{constructor(t,o,i){super("w:docGrid"),this.root.push(new i4({type:i,linePitch:Wt(t),charSpace:o?Wt(o):void 0}))}}class s4 extends ge{constructor({countBy:t,start:o,restart:i,distance:r}){super("w:lnNumType"),this.root.push(new tr({countBy:{key:"w:countBy",value:t===void 0?void 0:Wt(t)},start:{key:"w:start",value:o===void 0?void 0:Wt(o)},restart:{key:"w:restart",value:i},distance:{key:"w:distance",value:r===void 0?void 0:$t(r)}}))}}class Ev extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class a4 extends er{constructor(t){if(super("w:pgBorders"),!t)return this;t.pageBorders?this.root.push(new Ev({display:t.pageBorders.display,offsetFrom:t.pageBorders.offsetFrom,zOrder:t.pageBorders.zOrder})):this.root.push(new Ev({})),t.pageBorderTop&&this.root.push(new it("w:top",t.pageBorderTop)),t.pageBorderLeft&&this.root.push(new it("w:left",t.pageBorderLeft)),t.pageBorderBottom&&this.root.push(new it("w:bottom",t.pageBorderBottom)),t.pageBorderRight&&this.root.push(new it("w:right",t.pageBorderRight))}}class l4 extends ge{constructor(t,o,i,r,n,s,a){super("w:pgMar"),this.root.push(new tr({top:{key:"w:top",value:Wo(t)},right:{key:"w:right",value:$t(o)},bottom:{key:"w:bottom",value:Wo(i)},left:{key:"w:left",value:$t(r)},header:{key:"w:header",value:$t(n)},footer:{key:"w:footer",value:$t(s)},gutter:{key:"w:gutter",value:$t(a)}}))}}class c4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class u4 extends ge{constructor({start:t,formatType:o,separator:i}){super("w:pgNumType"),this.root.push(new c4({start:t===void 0?void 0:Wt(t),formatType:o,separator:i}))}}var fw=(e=>(e.PORTRAIT="portrait",e.LANDSCAPE="landscape",e))(fw||{});class d4 extends ge{constructor(t,o,i){super("w:pgSz");const r=i==="landscape",n=$t(t),s=$t(o);this.root.push(new tr({width:{key:"w:w",value:r?s:n},height:{key:"w:h",value:r?n:s},orientation:{key:"w:orient",value:i}}))}}class f4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val"})}}class h4 extends ge{constructor(t){super("w:textDirection"),this.root.push(new f4({val:t}))}}class p4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val"})}}class m4 extends ge{constructor(t){super("w:type"),this.root.push(new p4({val:t}))}}const Or={TOP:"1in",RIGHT:"1in",BOTTOM:"1in",LEFT:"1in",HEADER:708,FOOTER:708,GUTTER:0},Xc={WIDTH:11906,HEIGHT:16838,ORIENTATION:fw.PORTRAIT};class v4 extends ge{constructor({page:{size:{width:t=Xc.WIDTH,height:o=Xc.HEIGHT,orientation:i=Xc.ORIENTATION}={},margin:{top:r=Or.TOP,right:n=Or.RIGHT,bottom:s=Or.BOTTOM,left:a=Or.LEFT,header:l=Or.HEADER,footer:c=Or.FOOTER,gutter:u=Or.GUTTER}={},pageNumbers:d={},borders:p,textDirection:f}={},grid:{linePitch:g=360,charSpace:y,type:T}={},headerWrapperGroup:w={},footerWrapperGroup:_={},lineNumbers:x,titlePage:D,verticalAlign:M,column:J,type:V}={}){super("w:sectPr"),this.addHeaderFooterGroup(fd.HEADER,w),this.addHeaderFooterGroup(fd.FOOTER,_),V&&this.root.push(new m4(V)),this.root.push(new d4(t,o,i)),this.root.push(new l4(r,n,s,a,l,c,u)),p&&this.root.push(new a4(p)),x&&this.root.push(new s4(x)),this.root.push(new u4(d)),J&&this.root.push(new r4(J)),M&&this.root.push(new dw(M)),D!==void 0&&this.root.push(new Ne("w:titlePg",D)),f&&this.root.push(new h4(f)),this.root.push(new n4(g,y,T))}addHeaderFooterGroup(t,o){o.default&&this.root.push(new Yc(t,{type:Di.DEFAULT,id:o.default.View.ReferenceId})),o.first&&this.root.push(new Yc(t,{type:Di.FIRST,id:o.first.View.ReferenceId})),o.even&&this.root.push(new Yc(t,{type:Di.EVEN,id:o.even.View.ReferenceId}))}}class g4 extends ge{constructor(){super("w:body"),we(this,"sections",[])}addSection(t){const o=this.sections.pop();this.root.push(this.createSectionParagraph(o)),this.sections.push(new v4(t))}prepForXml(t){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(t)}push(t){this.root.push(t)}createSectionParagraph(t){const o=new lt({}),i=new zi({});return i.push(t),o.addChildElement(i),o}}class Es extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class y4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class b4 extends ge{constructor(t){super("w:background"),this.root.push(new y4({color:t.color===void 0?void 0:qi(t.color),themeColor:t.themeColor,themeShade:t.themeShade===void 0?void 0:yv(t.themeShade),themeTint:t.themeTint===void 0?void 0:yv(t.themeTint)}))}}class w4 extends ge{constructor(t){super("w:document"),we(this,"body"),this.root.push(new Es({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new g4,t.background&&this.root.push(new b4(t.background)),this.root.push(this.body)}add(t){return this.body.push(t),this}get Body(){return this.body}}class E4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{xmlns:"xmlns"})}}class _s extends ge{constructor(){super("Relationships"),this.root.push(new E4({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(t,o,i,r){const n=new H6(`rId${t}`,o,i,r);return this.root.push(n),n}get RelationshipCount(){return this.root.length-1}}class hw{constructor(t){we(this,"document"),we(this,"relationships"),this.document=new w4(t),this.relationships=new _s}get View(){return this.document}get Relationships(){return this.relationships}}class _4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val"})}}class S4 extends ge{constructor(){super("w:wordWrap"),this.root.push(new _4({val:0}))}}class A4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{anchorLock:"w:anchorLock",dropCap:"w:dropCap",width:"w:w",height:"w:h",x:"w:x",y:"w:y",anchorHorizontal:"w:hAnchor",anchorVertical:"w:vAnchor",spaceHorizontal:"w:hSpace",spaceVertical:"w:vSpace",rule:"w:hRule",alignmentX:"w:xAlign",alignmentY:"w:yAlign",lines:"w:lines",wrap:"w:wrap"})}}class N4 extends ge{constructor(t){var o,i;super("w:framePr"),this.root.push(new A4({anchorLock:t.anchorLock,dropCap:t.dropCap,width:t.width,height:t.height,x:t.position?t.position.x:void 0,y:t.position?t.position.y:void 0,anchorHorizontal:t.anchor.horizontal,anchorVertical:t.anchor.vertical,spaceHorizontal:(o=t.space)==null?void 0:o.horizontal,spaceVertical:(i=t.space)==null?void 0:i.vertical,rule:t.rule,alignmentX:t.alignment?t.alignment.x:void 0,alignmentY:t.alignment?t.alignment.y:void 0,lines:t.lines,wrap:t.wrap}))}}class zi extends er{constructor(t){if(super("w:pPr"),we(this,"numberingReferences",[]),!t)return this;t.heading&&this.push(new zs(t.heading)),t.bullet&&this.push(new zs("ListParagraph")),t.numbering&&!t.style&&!t.heading&&(t.numbering.custom||this.push(new zs("ListParagraph"))),t.style&&this.push(new zs(t.style)),t.keepNext!==void 0&&this.push(new Ne("w:keepNext",t.keepNext)),t.keepLines!==void 0&&this.push(new Ne("w:keepLines",t.keepLines)),t.pageBreakBefore&&this.push(new F6),t.frame&&this.push(new N4(t.frame)),t.widowControl!==void 0&&this.push(new Ne("w:widowControl",t.widowControl)),t.bullet&&this.push(new wv(1,t.bullet.level)),t.numbering&&(this.numberingReferences.push({reference:t.numbering.reference,instance:t.numbering.instance??0}),this.push(new wv(`${t.numbering.reference}-${t.numbering.instance??0}`,t.numbering.level))),t.border&&this.push(new s6(t.border)),t.thematicBreak&&this.push(new a6),t.shading&&this.push(new bl(t.shading)),t.wordWrap&&this.push(new S4);const o=[...t.rightTabStop?[{type:dd.RIGHT,position:t.rightTabStop}]:[],...t.tabStops?t.tabStops:[],...t.leftTabStop?[{type:dd.LEFT,position:t.leftTabStop}]:[]];o.length>0&&this.push(new $6(o)),t.bidirectional!==void 0&&this.push(new Ne("w:bidi",t.bidirectional)),t.spacing&&this.push(new L6(t.spacing)),t.indent&&this.push(new l6(t.indent)),t.contextualSpacing!==void 0&&this.push(new Ne("w:contextualSpacing",t.contextualSpacing)),t.alignment&&this.push(new sw(t.alignment)),t.outlineLevel!==void 0&&this.push(new e4(t.outlineLevel)),t.suppressLineNumbers!==void 0&&this.push(new Ne("w:suppressLineNumbers",t.suppressLineNumbers)),t.autoSpaceEastAsianText!==void 0&&this.push(new Ne("w:autoSpaceDN",t.autoSpaceEastAsianText))}push(t){this.root.push(t)}prepForXml(t){if(t.viewWrapper instanceof hw)for(const o of this.numberingReferences)t.file.Numbering.createConcreteNumberingInstance(o.reference,o.instance);return super.prepForXml(t)}}class lt extends cw{constructor(t){if(super("w:p"),we(this,"properties"),typeof t=="string")return this.properties=new zi({}),this.root.push(this.properties),this.root.push(new qr(t)),this;if(this.properties=new zi(t),this.root.push(this.properties),t.text&&this.root.push(new qr(t.text)),t.children)for(const o of t.children){if(o instanceof Y6){this.root.push(o.start);for(const i of o.children)this.root.push(i);this.root.push(o.end);continue}this.root.push(o)}}prepForXml(t){for(const o of this.root)if(o instanceof G6){const i=this.root.indexOf(o),r=new Q6(o.options.children,P6());t.viewWrapper.Relationships.createRelationship(r.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",o.options.link,uw.EXTERNAL),this.root[i]=r}return super.prepForXml(t)}addRunToFront(t){return this.root.splice(1,0,t),this}}class C4 extends ge{constructor(t){super("w:tblGrid");for(const o of t)this.root.push(new T4(o))}}class T4 extends ge{constructor(t){super("w:gridCol"),t!==void 0&&this.root.push(new tr({width:{key:"w:w",value:$t(t)}}))}}var go=(e=>(e.AUTO="auto",e.DXA="dxa",e.NIL="nil",e.PERCENTAGE="pct",e))(go||{});class Wr extends ge{constructor(t,{type:o="auto",size:i}){super(t);let r=i;o==="pct"&&typeof i=="number"&&(r=`${i}%`),this.root.push(new tr({type:{key:"w:type",value:o},size:{key:"w:w",value:XU(r)}}))}}var Wf=(e=>(e.TABLE="w:tblCellMar",e.TABLE_CELL="w:tcMar",e))(Wf||{});class pw extends er{constructor(t,{marginUnitType:o=go.DXA,top:i,left:r,bottom:n,right:s}){super(t),i!==void 0&&this.root.push(new Wr("w:top",{type:o,size:i})),r!==void 0&&this.root.push(new Wr("w:left",{type:o,size:r})),n!==void 0&&this.root.push(new Wr("w:bottom",{type:o,size:n})),s!==void 0&&this.root.push(new Wr("w:right",{type:o,size:s}))}}class x4 extends er{constructor(t){super("w:tcBorders"),t.top&&this.root.push(new it("w:top",t.top)),t.start&&this.root.push(new it("w:start",t.start)),t.left&&this.root.push(new it("w:left",t.left)),t.bottom&&this.root.push(new it("w:bottom",t.bottom)),t.end&&this.root.push(new it("w:end",t.end)),t.right&&this.root.push(new it("w:right",t.right))}}class I4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val"})}}class D4 extends ge{constructor(t){super("w:gridSpan"),this.root.push(new I4({val:Wt(t)}))}}var Qf=(e=>(e.CONTINUE="continue",e.RESTART="restart",e))(Qf||{});class P4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val"})}}class _v extends ge{constructor(t){super("w:vMerge"),this.root.push(new P4({val:t}))}}class k4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val"})}}class O4 extends ge{constructor(t){super("w:textDirection"),this.root.push(new k4({val:t}))}}class R4 extends er{constructor(t){super("w:tcPr"),t.width&&this.root.push(new Wr("w:tcW",t.width)),t.columnSpan&&this.root.push(new D4(t.columnSpan)),t.verticalMerge?this.root.push(new _v(t.verticalMerge)):t.rowSpan&&t.rowSpan>1&&this.root.push(new _v(Qf.RESTART)),t.borders&&this.root.push(new x4(t.borders)),t.shading&&this.root.push(new bl(t.shading)),t.margins&&this.root.push(new pw(Wf.TABLE_CELL,t.margins)),t.textDirection&&this.root.push(new O4(t.textDirection)),t.verticalAlign&&this.root.push(new dw(t.verticalAlign))}}class Io extends ge{constructor(t){super("w:tc"),this.options=t,this.root.push(new R4(t));for(const o of t.children)this.root.push(o)}prepForXml(t){return this.root[this.root.length-1]instanceof lt||this.root.push(new lt({})),super.prepForXml(t)}}const di={style:yl.NONE,size:0,color:"auto"},fi={style:yl.SINGLE,size:4,color:"auto"};class mw extends ge{constructor(t){super("w:tblBorders"),t.top?this.root.push(new it("w:top",t.top)):this.root.push(new it("w:top",fi)),t.left?this.root.push(new it("w:left",t.left)):this.root.push(new it("w:left",fi)),t.bottom?this.root.push(new it("w:bottom",t.bottom)):this.root.push(new it("w:bottom",fi)),t.right?this.root.push(new it("w:right",t.right)):this.root.push(new it("w:right",fi)),t.insideHorizontal?this.root.push(new it("w:insideH",t.insideHorizontal)):this.root.push(new it("w:insideH",fi)),t.insideVertical?this.root.push(new it("w:insideV",t.insideVertical)):this.root.push(new it("w:insideV",fi))}}we(mw,"NONE",{top:di,bottom:di,left:di,right:di,insideHorizontal:di,insideVertical:di});class M4 extends ge{constructor({horizontalAnchor:t,verticalAnchor:o,absoluteHorizontalPosition:i,relativeHorizontalPosition:r,absoluteVerticalPosition:n,relativeVerticalPosition:s,bottomFromText:a,topFromText:l,leftFromText:c,rightFromText:u,overlap:d}){super("w:tblpPr"),this.root.push(new tr({leftFromText:{key:"w:leftFromText",value:c===void 0?void 0:$t(c)},rightFromText:{key:"w:rightFromText",value:u===void 0?void 0:$t(u)},topFromText:{key:"w:topFromText",value:l===void 0?void 0:$t(l)},bottomFromText:{key:"w:bottomFromText",value:a===void 0?void 0:$t(a)},absoluteHorizontalPosition:{key:"w:tblpX",value:i===void 0?void 0:Wo(i)},absoluteVerticalPosition:{key:"w:tblpY",value:n===void 0?void 0:Wo(n)},horizontalAnchor:{key:"w:horzAnchor",value:t===void 0?void 0:t},relativeHorizontalPosition:{key:"w:tblpXSpec",value:r},relativeVerticalPosition:{key:"w:tblpYSpec",value:s},verticalAnchor:{key:"w:vertAnchor",value:o}})),d&&this.root.push(new o6("w:tblOverlap",d))}}class F4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{type:"w:type"})}}class B4 extends ge{constructor(t){super("w:tblLayout"),this.root.push(new F4({type:t}))}}class L4 extends er{constructor(t){super("w:tblPr"),t.style&&this.root.push(new Jr("w:tblStyle",t.style)),t.float&&this.root.push(new M4(t.float)),t.visuallyRightToLeft!==void 0&&this.root.push(new Ne("w:bidiVisual",t.visuallyRightToLeft)),t.width&&this.root.push(new Wr("w:tblW",t.width)),t.alignment&&this.root.push(new sw(t.alignment)),t.indent&&this.root.push(new Wr("w:tblInd",t.indent)),t.borders&&this.root.push(new mw(t.borders)),t.shading&&this.root.push(new bl(t.shading)),t.layout&&this.root.push(new B4(t.layout)),t.cellMargin&&this.root.push(new pw(Wf.TABLE,t.cellMargin))}}class $4 extends cw{constructor({rows:t,width:o,columnWidths:i=Array(Math.max(...t.map(p=>p.CellCount))).fill(100),margins:r,indent:n,float:s,layout:a,style:l,borders:c,alignment:u,visuallyRightToLeft:d}){super("w:tbl"),this.root.push(new L4({borders:c??{},width:o??{size:100},indent:n,float:s,layout:a,style:l,alignment:u,cellMargin:r,visuallyRightToLeft:d})),this.root.push(new C4(i));for(const p of t)this.root.push(p);t.forEach((p,f)=>{if(f===t.length-1)return;let g=0;p.cells.forEach(y=>{if(y.options.rowSpan&&y.options.rowSpan>1){const T=new Io({rowSpan:y.options.rowSpan-1,columnSpan:y.options.columnSpan,borders:y.options.borders,children:[],verticalMerge:Qf.CONTINUE});t[f+1].addCellToColumnIndex(T,g)}g+=y.options.columnSpan||1})})}}class U4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{value:"w:val",rule:"w:hRule"})}}class q4 extends ge{constructor(t,o){super("w:trHeight"),this.root.push(new U4({value:$t(t),rule:o}))}}class j4 extends er{constructor(t){super("w:trPr"),t.cantSplit!==void 0&&this.root.push(new Ne("w:cantSplit",t.cantSplit)),t.tableHeader!==void 0&&this.root.push(new Ne("w:tblHeader",t.tableHeader)),t.height&&this.root.push(new q4(t.height.value,t.height.rule))}}class Vs extends ge{constructor(t){super("w:tr"),this.options=t,this.root.push(new j4(t));for(const o of t.children)this.root.push(o)}get CellCount(){return this.options.children.length}get cells(){return this.root.filter(t=>t instanceof Io)}addCellToIndex(t,o){this.root.splice(o+1,0,t)}addCellToColumnIndex(t,o){const i=this.columnIndexToRootIndex(o,!0);this.addCellToIndex(t,i-1)}rootIndexToColumnIndex(t){if(t<1||t>=this.root.length)throw new Error(`cell 'rootIndex' should between 1 to ${this.root.length-1}`);let o=0;for(let i=1;i<t;i++){const r=this.root[i];o+=r.options.columnSpan||1}return o}columnIndexToRootIndex(t,o=!1){if(t<0)throw new Error("cell 'columnIndex' should not less than zero");let i=0,r=1;for(;i<=t;){if(r>=this.root.length){if(o)return this.root.length;throw new Error(`cell 'columnIndex' should not great than ${i-1}`)}const n=this.root[r];r+=1,i+=n&&n.options.columnSpan||1}return r-1}}class z4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class V4 extends ge{constructor(){super("Properties"),this.root.push(new z4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class H4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{xmlns:"xmlns"})}}class W4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Rr extends ge{constructor(t,o){super("Default"),this.root.push(new W4({contentType:t,extension:o}))}}class Q4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class mo extends ge{constructor(t,o){super("Override"),this.root.push(new Q4({contentType:t,partName:o}))}}class G4 extends ge{constructor(){super("Types"),this.root.push(new H4({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Rr("image/png","png")),this.root.push(new Rr("image/jpeg","jpeg")),this.root.push(new Rr("image/jpeg","jpg")),this.root.push(new Rr("image/bmp","bmp")),this.root.push(new Rr("image/gif","gif")),this.root.push(new Rr("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Rr("application/xml","xml")),this.root.push(new mo("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new mo("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new mo("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new mo("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new mo("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new mo("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new mo("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new mo("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new mo("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml"))}addFooter(t){this.root.push(new mo("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${t}.xml`))}addHeader(t){this.root.push(new mo("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${t}.xml`))}}class K4 extends ge{constructor(t){super("cp:coreProperties"),this.root.push(new Es({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),t.title&&this.root.push(new kr("dc:title",t.title)),t.subject&&this.root.push(new kr("dc:subject",t.subject)),t.creator&&this.root.push(new kr("dc:creator",t.creator)),t.keywords&&this.root.push(new kr("cp:keywords",t.keywords)),t.description&&this.root.push(new kr("dc:description",t.description)),t.lastModifiedBy&&this.root.push(new kr("cp:lastModifiedBy",t.lastModifiedBy)),t.revision&&this.root.push(new kr("cp:revision",String(t.revision))),this.root.push(new Sv("dcterms:created")),this.root.push(new Sv("dcterms:modified"))}}class Sv extends ge{constructor(t){super(t),this.root.push(new Es({type:"dcterms:W3CDTF"})),this.root.push(t6(new Date))}}class J4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Y4 extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class X4 extends ge{constructor(t,o){super("property"),this.root.push(new Y4({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t.toString(),name:o.name})),this.root.push(new Z4(o.value))}}class Z4 extends ge{constructor(t){super("vt:lpwstr"),this.root.push(t)}}class eq extends ge{constructor(t){super("Properties"),we(this,"nextId"),we(this,"properties",[]),this.root.push(new J4({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const o of t)this.addCustomProperty(o)}prepForXml(t){return this.properties.forEach(o=>this.root.push(o)),super.prepForXml(t)}addCustomProperty(t){this.properties.push(new X4(this.nextId++,t))}}class tq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let oq=class extends ow{constructor(t,o){super("w:ftr",o),we(this,"refId"),this.refId=t,o||this.root.push(new tq({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class rq{constructor(t,o,i){we(this,"footer"),we(this,"relationships"),this.media=t,this.footer=new oq(o,i),this.relationships=new _s}add(t){this.footer.add(t)}addChildElement(t){this.footer.addChildElement(t)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class iq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class nq extends ge{constructor(){super("w:footnoteRef")}}class sq extends wl{constructor(){super({style:"FootnoteReference"}),this.root.push(new nq)}}var hd=(e=>(e.SEPERATOR="separator",e.CONTINUATION_SEPERATOR="continuationSeparator",e))(hd||{});class Zc extends ge{constructor(t){super("w:footnote"),this.root.push(new iq({type:t.type,id:t.id}));for(let o=0;o<t.children.length;o++){const i=t.children[o];o===0&&i.addRunToFront(new sq),this.root.push(i)}}}class aq extends ge{constructor(){super("w:continuationSeparator")}}class lq extends wl{constructor(){super({}),this.root.push(new aq)}}class cq extends ge{constructor(){super("w:separator")}}class uq extends wl{constructor(){super({}),this.root.push(new cq)}}class dq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class fq extends ge{constructor(){super("w:footnotes"),this.root.push(new dq({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new Zc({id:-1,type:hd.SEPERATOR,children:[new lt({spacing:{after:0,line:240,lineRule:Ta.AUTO},children:[new uq]})]});this.root.push(t);const o=new Zc({id:0,type:hd.CONTINUATION_SEPERATOR,children:[new lt({spacing:{after:0,line:240,lineRule:Ta.AUTO},children:[new lq]})]});this.root.push(o)}createFootNote(t,o){const i=new Zc({id:t,children:o});this.root.push(i)}}class hq{constructor(){we(this,"footnotess"),we(this,"relationships"),this.footnotess=new fq,this.relationships=new _s}get View(){return this.footnotess}get Relationships(){return this.relationships}}class pq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let mq=class extends ow{constructor(t,o){super("w:hdr",o),we(this,"refId"),this.refId=t,o||this.root.push(new pq({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(t){this.root.push(t)}};class vq{constructor(t,o,i){we(this,"header"),we(this,"relationships"),this.media=t,this.header=new mq(o,i),this.relationships=new _s}add(t){return this.header.add(t),this}addChildElement(t){this.header.addChildElement(t)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class gq{constructor(){we(this,"map"),this.map=new Map}addImage(t,o){this.map.set(t,o)}get Array(){return Array.from(this.map.values())}}var xo=(e=>(e.DECIMAL="decimal",e.UPPER_ROMAN="upperRoman",e.LOWER_ROMAN="lowerRoman",e.UPPER_LETTER="upperLetter",e.LOWER_LETTER="lowerLetter",e.ORDINAL="ordinal",e.CARDINAL_TEXT="cardinalText",e.ORDINAL_TEXT="ordinalText",e.HEX="hex",e.CHICAGO="chicago",e.IDEOGRAPH__DIGITAL="ideographDigital",e.JAPANESE_COUNTING="japaneseCounting",e.AIUEO="aiueo",e.IROHA="iroha",e.DECIMAL_FULL_WIDTH="decimalFullWidth",e.DECIMAL_HALF_WIDTH="decimalHalfWidth",e.JAPANESE_LEGAL="japaneseLegal",e.JAPANESE_DIGITAL_TEN_THOUSAND="japaneseDigitalTenThousand",e.DECIMAL_ENCLOSED_CIRCLE="decimalEnclosedCircle",e.DECIMAL_FULL_WIDTH2="decimalFullWidth2",e.AIUEO_FULL_WIDTH="aiueoFullWidth",e.IROHA_FULL_WIDTH="irohaFullWidth",e.DECIMAL_ZERO="decimalZero",e.BULLET="bullet",e.GANADA="ganada",e.CHOSUNG="chosung",e.DECIMAL_ENCLOSED_FULLSTOP="decimalEnclosedFullstop",e.DECIMAL_ENCLOSED_PARENTHESES="decimalEnclosedParen",e.DECIMAL_ENCLOSED_CIRCLE_CHINESE="decimalEnclosedCircleChinese",e.IDEOGRAPH_ENCLOSED_CIRCLE="ideographEnclosedCircle",e.IDEOGRAPH_TRADITIONAL="ideographTraditional",e.IDEOGRAPH_ZODIAC="ideographZodiac",e.IDEOGRAPH_ZODIAC_TRADITIONAL="ideographZodiacTraditional",e.TAIWANESE_COUNTING="taiwaneseCounting",e.IDEOGRAPH_LEGAL_TRADITIONAL="ideographLegalTraditional",e.TAIWANESE_COUNTING_THOUSAND="taiwaneseCountingThousand",e.TAIWANESE_DIGITAL="taiwaneseDigital",e.CHINESE_COUNTING="chineseCounting",e.CHINESE_LEGAL_SIMPLIFIED="chineseLegalSimplified",e.CHINESE_COUNTING_THOUSAND="chineseCountingThousand",e.KOREAN_DIGITAL="koreanDigital",e.KOREAN_COUNTING="koreanCounting",e.KOREAN_LEGAL="koreanLegal",e.KOREAN_DIGITAL2="koreanDigital2",e.VIETNAMESE_COUNTING="vietnameseCounting",e.RUSSIAN_LOWER="russianLower",e.RUSSIAN_UPPER="russianUpper",e.NONE="none",e.NUMBER_IN_DASH="numberInDash",e.HEBREW1="hebrew1",e.HEBREW2="hebrew2",e.ARABIC_ALPHA="arabicAlpha",e.ARABIC_ABJAD="arabicAbjad",e.HINDI_VOWELS="hindiVowels",e.HINDI_CONSONANTS="hindiConsonants",e.HINDI_NUMBERS="hindiNumbers",e.HINDI_COUNTING="hindiCounting",e.THAI_LETTERS="thaiLetters",e.THAI_NUMBERS="thaiNumbers",e.THAI_COUNTING="thaiCounting",e.BAHT_TEXT="bahtText",e.DOLLAR_TEXT="dollarText",e.CUSTOM="custom",e))(xo||{});class yq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class bq extends ge{constructor(t){super("w:numFmt"),this.root.push(new gt({val:t}))}}class wq extends ge{constructor(t){super("w:lvlText"),this.root.push(new gt({val:t}))}}class Eq extends ge{constructor(t){super("w:lvlJc"),this.root.push(new gt({val:t}))}}class _q extends ge{constructor(t){super("w:suff"),this.root.push(new gt({val:t}))}}class Sq extends ge{constructor(){super("w:isLgl")}}class Aq extends ge{constructor({level:t,format:o,text:i,alignment:r=wt.START,start:n=1,style:s,suffix:a,isLegalNumberingStyle:l}){if(super("w:lvl"),we(this,"paragraphProperties"),we(this,"runProperties"),this.root.push(new nw("w:start",Wt(n))),o&&this.root.push(new bq(o)),a&&this.root.push(new _q(a)),l&&this.root.push(new Sq),i&&this.root.push(new wq(i)),this.root.push(new Eq(r)),this.paragraphProperties=new zi(s&&s.paragraph),this.runProperties=new sn(s&&s.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),t>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new yq({ilvl:Wt(t),tentative:1}))}}class Nq extends Aq{}class Cq extends ge{constructor(t){super("w:multiLevelType"),this.root.push(new gt({val:t}))}}class Tq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class Av extends ge{constructor(t,o){super("w:abstractNum"),we(this,"id"),this.root.push(new Tq({abstractNumId:Wt(t),restartNumberingAfterBreak:0})),this.root.push(new Cq("hybridMultilevel")),this.id=t;for(const i of o)this.root.push(new Nq(i))}}class xq extends ge{constructor(t){super("w:abstractNumId"),this.root.push(new gt({val:t}))}}class Iq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{numId:"w:numId"})}}class Nv extends ge{constructor(t){if(super("w:num"),we(this,"numId"),we(this,"reference"),we(this,"instance"),this.numId=t.numId,this.reference=t.reference,this.instance=t.instance,this.root.push(new Iq({numId:Wt(t.numId)})),this.root.push(new xq(Wt(t.abstractNumId))),t.overrideLevels&&t.overrideLevels.length)for(const o of t.overrideLevels)this.root.push(new Pq(o.num,o.start))}}class Dq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{ilvl:"w:ilvl"})}}class Pq extends ge{constructor(t,o){super("w:lvlOverride"),this.root.push(new Dq({ilvl:t})),o!==void 0&&this.root.push(new Oq(o))}}class kq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val"})}}class Oq extends ge{constructor(t){super("w:startOverride"),this.root.push(new kq({val:t}))}}class Rq extends ge{constructor(t){super("w:numbering"),we(this,"abstractNumberingMap",new Map),we(this,"concreteNumberingMap",new Map),we(this,"referenceConfigMap",new Map),we(this,"abstractNumUniqueNumericId",x6()),we(this,"concreteNumUniqueNumericId",I6()),this.root.push(new Es({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const o=new Av(this.abstractNumUniqueNumericId(),[{level:0,format:xo.BULLET,text:"●",alignment:wt.LEFT,style:{paragraph:{indent:{left:po(.5),hanging:po(.25)}}}},{level:1,format:xo.BULLET,text:"○",alignment:wt.LEFT,style:{paragraph:{indent:{left:po(1),hanging:po(.25)}}}},{level:2,format:xo.BULLET,text:"■",alignment:wt.LEFT,style:{paragraph:{indent:{left:2160,hanging:po(.25)}}}},{level:3,format:xo.BULLET,text:"●",alignment:wt.LEFT,style:{paragraph:{indent:{left:2880,hanging:po(.25)}}}},{level:4,format:xo.BULLET,text:"○",alignment:wt.LEFT,style:{paragraph:{indent:{left:3600,hanging:po(.25)}}}},{level:5,format:xo.BULLET,text:"■",alignment:wt.LEFT,style:{paragraph:{indent:{left:4320,hanging:po(.25)}}}},{level:6,format:xo.BULLET,text:"●",alignment:wt.LEFT,style:{paragraph:{indent:{left:5040,hanging:po(.25)}}}},{level:7,format:xo.BULLET,text:"●",alignment:wt.LEFT,style:{paragraph:{indent:{left:5760,hanging:po(.25)}}}},{level:8,format:xo.BULLET,text:"●",alignment:wt.LEFT,style:{paragraph:{indent:{left:6480,hanging:po(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new Nv({numId:1,abstractNumId:o.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",o);for(const i of t.config)this.abstractNumberingMap.set(i.reference,new Av(this.abstractNumUniqueNumericId(),i.levels)),this.referenceConfigMap.set(i.reference,i.levels)}prepForXml(t){for(const o of this.abstractNumberingMap.values())this.root.push(o);for(const o of this.concreteNumberingMap.values())this.root.push(o);return super.prepForXml(t)}createConcreteNumberingInstance(t,o){const i=this.abstractNumberingMap.get(t);if(!i)return;const r=`${t}-${o}`;if(this.concreteNumberingMap.has(r))return;const n=this.referenceConfigMap.get(t),s=n&&n[0].start,a={numId:this.concreteNumUniqueNumericId(),abstractNumId:i.id,reference:t,instance:o,overrideLevel:s&&Number.isInteger(s)?{num:0,start:s}:{num:0,start:1}};this.concreteNumberingMap.set(r,new Nv(a))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class Mq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class Fq extends ge{constructor(t){super("w:compatSetting"),this.root.push(new Mq({version:t,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Bq extends ge{constructor(t){super("w:compat"),t.version&&this.root.push(new Fq(t.version)),t.useSingleBorderforContiguousCells&&this.root.push(new Ne("w:useSingleBorderforContiguousCells",t.useSingleBorderforContiguousCells)),t.wordPerfectJustification&&this.root.push(new Ne("w:wpJustification",t.wordPerfectJustification)),t.noTabStopForHangingIndent&&this.root.push(new Ne("w:noTabHangInd",t.noTabStopForHangingIndent)),t.noLeading&&this.root.push(new Ne("w:noLeading",t.noLeading)),t.spaceForUnderline&&this.root.push(new Ne("w:spaceForUL",t.spaceForUnderline)),t.noColumnBalance&&this.root.push(new Ne("w:noColumnBalance",t.noColumnBalance)),t.balanceSingleByteDoubleByteWidth&&this.root.push(new Ne("w:balanceSingleByteDoubleByteWidth",t.balanceSingleByteDoubleByteWidth)),t.noExtraLineSpacing&&this.root.push(new Ne("w:noExtraLineSpacing",t.noExtraLineSpacing)),t.doNotLeaveBackslashAlone&&this.root.push(new Ne("w:doNotLeaveBackslashAlone",t.doNotLeaveBackslashAlone)),t.underlineTrailingSpaces&&this.root.push(new Ne("w:ulTrailSpace",t.underlineTrailingSpaces)),t.doNotExpandShiftReturn&&this.root.push(new Ne("w:doNotExpandShiftReturn",t.doNotExpandShiftReturn)),t.spacingInWholePoints&&this.root.push(new Ne("w:spacingInWholePoints",t.spacingInWholePoints)),t.lineWrapLikeWord6&&this.root.push(new Ne("w:lineWrapLikeWord6",t.lineWrapLikeWord6)),t.printBodyTextBeforeHeader&&this.root.push(new Ne("w:printBodyTextBeforeHeader",t.printBodyTextBeforeHeader)),t.printColorsBlack&&this.root.push(new Ne("w:printColBlack",t.printColorsBlack)),t.spaceWidth&&this.root.push(new Ne("w:wpSpaceWidth",t.spaceWidth)),t.showBreaksInFrames&&this.root.push(new Ne("w:showBreaksInFrames",t.showBreaksInFrames)),t.subFontBySize&&this.root.push(new Ne("w:subFontBySize",t.subFontBySize)),t.suppressBottomSpacing&&this.root.push(new Ne("w:suppressBottomSpacing",t.suppressBottomSpacing)),t.suppressTopSpacing&&this.root.push(new Ne("w:suppressTopSpacing",t.suppressTopSpacing)),t.suppressSpacingAtTopOfPage&&this.root.push(new Ne("w:suppressSpacingAtTopOfPage",t.suppressSpacingAtTopOfPage)),t.suppressTopSpacingWP&&this.root.push(new Ne("w:suppressTopSpacingWP",t.suppressTopSpacingWP)),t.suppressSpBfAfterPgBrk&&this.root.push(new Ne("w:suppressSpBfAfterPgBrk",t.suppressSpBfAfterPgBrk)),t.swapBordersFacingPages&&this.root.push(new Ne("w:swapBordersFacingPages",t.swapBordersFacingPages)),t.convertMailMergeEsc&&this.root.push(new Ne("w:convMailMergeEsc",t.convertMailMergeEsc)),t.truncateFontHeightsLikeWP6&&this.root.push(new Ne("w:truncateFontHeightsLikeWP6",t.truncateFontHeightsLikeWP6)),t.macWordSmallCaps&&this.root.push(new Ne("w:mwSmallCaps",t.macWordSmallCaps)),t.usePrinterMetrics&&this.root.push(new Ne("w:usePrinterMetrics",t.usePrinterMetrics)),t.doNotSuppressParagraphBorders&&this.root.push(new Ne("w:doNotSuppressParagraphBorders",t.doNotSuppressParagraphBorders)),t.wrapTrailSpaces&&this.root.push(new Ne("w:wrapTrailSpaces",t.wrapTrailSpaces)),t.footnoteLayoutLikeWW8&&this.root.push(new Ne("w:footnoteLayoutLikeWW8",t.footnoteLayoutLikeWW8)),t.shapeLayoutLikeWW8&&this.root.push(new Ne("w:shapeLayoutLikeWW8",t.shapeLayoutLikeWW8)),t.alignTablesRowByRow&&this.root.push(new Ne("w:alignTablesRowByRow",t.alignTablesRowByRow)),t.forgetLastTabAlignment&&this.root.push(new Ne("w:forgetLastTabAlignment",t.forgetLastTabAlignment)),t.adjustLineHeightInTable&&this.root.push(new Ne("w:adjustLineHeightInTable",t.adjustLineHeightInTable)),t.autoSpaceLikeWord95&&this.root.push(new Ne("w:autoSpaceLikeWord95",t.autoSpaceLikeWord95)),t.noSpaceRaiseLower&&this.root.push(new Ne("w:noSpaceRaiseLower",t.noSpaceRaiseLower)),t.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Ne("w:doNotUseHTMLParagraphAutoSpacing",t.doNotUseHTMLParagraphAutoSpacing)),t.layoutRawTableWidth&&this.root.push(new Ne("w:layoutRawTableWidth",t.layoutRawTableWidth)),t.layoutTableRowsApart&&this.root.push(new Ne("w:layoutTableRowsApart",t.layoutTableRowsApart)),t.useWord97LineBreakRules&&this.root.push(new Ne("w:useWord97LineBreakRules",t.useWord97LineBreakRules)),t.doNotBreakWrappedTables&&this.root.push(new Ne("w:doNotBreakWrappedTables",t.doNotBreakWrappedTables)),t.doNotSnapToGridInCell&&this.root.push(new Ne("w:doNotSnapToGridInCell",t.doNotSnapToGridInCell)),t.selectFieldWithFirstOrLastCharacter&&this.root.push(new Ne("w:selectFldWithFirstOrLastChar",t.selectFieldWithFirstOrLastCharacter)),t.applyBreakingRules&&this.root.push(new Ne("w:applyBreakingRules",t.applyBreakingRules)),t.doNotWrapTextWithPunctuation&&this.root.push(new Ne("w:doNotWrapTextWithPunct",t.doNotWrapTextWithPunctuation)),t.doNotUseEastAsianBreakRules&&this.root.push(new Ne("w:doNotUseEastAsianBreakRules",t.doNotUseEastAsianBreakRules)),t.useWord2002TableStyleRules&&this.root.push(new Ne("w:useWord2002TableStyleRules",t.useWord2002TableStyleRules)),t.growAutofit&&this.root.push(new Ne("w:growAutofit",t.growAutofit)),t.useFELayout&&this.root.push(new Ne("w:useFELayout",t.useFELayout)),t.useNormalStyleForList&&this.root.push(new Ne("w:useNormalStyleForList",t.useNormalStyleForList)),t.doNotUseIndentAsNumberingTabStop&&this.root.push(new Ne("w:doNotUseIndentAsNumberingTabStop",t.doNotUseIndentAsNumberingTabStop)),t.useAlternateEastAsianLineBreakRules&&this.root.push(new Ne("w:useAltKinsokuLineBreakRules",t.useAlternateEastAsianLineBreakRules)),t.allowSpaceOfSameStyleInTable&&this.root.push(new Ne("w:allowSpaceOfSameStyleInTable",t.allowSpaceOfSameStyleInTable)),t.doNotSuppressIndentation&&this.root.push(new Ne("w:doNotSuppressIndentation",t.doNotSuppressIndentation)),t.doNotAutofitConstrainedTables&&this.root.push(new Ne("w:doNotAutofitConstrainedTables",t.doNotAutofitConstrainedTables)),t.autofitToFirstFixedWidthCell&&this.root.push(new Ne("w:autofitToFirstFixedWidthCell",t.autofitToFirstFixedWidthCell)),t.underlineTabInNumberingList&&this.root.push(new Ne("w:underlineTabInNumList",t.underlineTabInNumberingList)),t.displayHangulFixedWidth&&this.root.push(new Ne("w:displayHangulFixedWidth",t.displayHangulFixedWidth)),t.splitPgBreakAndParaMark&&this.root.push(new Ne("w:splitPgBreakAndParaMark",t.splitPgBreakAndParaMark)),t.doNotVerticallyAlignCellWithSp&&this.root.push(new Ne("w:doNotVertAlignCellWithSp",t.doNotVerticallyAlignCellWithSp)),t.doNotBreakConstrainedForcedTable&&this.root.push(new Ne("w:doNotBreakConstrainedForcedTable",t.doNotBreakConstrainedForcedTable)),t.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Ne("w:doNotVertAlignInTxbx",t.ignoreVerticalAlignmentInTextboxes)),t.useAnsiKerningPairs&&this.root.push(new Ne("w:useAnsiKerningPairs",t.useAnsiKerningPairs)),t.cachedColumnBalance&&this.root.push(new Ne("w:cachedColBalance",t.cachedColumnBalance))}}class Lq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class $q extends ge{constructor(t){var o;super("w:settings"),this.root.push(new Lq({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Ne("w:displayBackgroundShape",!0)),t.trackRevisions!==void 0&&this.root.push(new Ne("w:trackRevisions",t.trackRevisions)),t.evenAndOddHeaders!==void 0&&this.root.push(new Ne("w:evenAndOddHeaders",t.evenAndOddHeaders)),t.updateFields!==void 0&&this.root.push(new Ne("w:updateFields",t.updateFields)),this.root.push(new Bq({...t.compatibility??{},version:((o=t.compatibility)==null?void 0:o.version)??t.compatibilityModeVersion??15}))}}class vw extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{val:"w:val"})}}class Uq extends ge{constructor(t){super("w:name"),this.root.push(new vw({val:t}))}}class qq extends ge{constructor(t){super("w:uiPriority"),this.root.push(new vw({val:Wt(t)}))}}class jq extends Be{constructor(){super(...arguments),we(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class gw extends ge{constructor(t,o){super("w:style"),this.root.push(new jq(t)),o.name&&this.root.push(new Uq(o.name)),o.basedOn&&this.root.push(new Jr("w:basedOn",o.basedOn)),o.next&&this.root.push(new Jr("w:next",o.next)),o.link&&this.root.push(new Jr("w:link",o.link)),o.uiPriority!==void 0&&this.root.push(new qq(o.uiPriority)),o.semiHidden!==void 0&&this.root.push(new Ne("w:semiHidden",o.semiHidden)),o.unhideWhenUsed!==void 0&&this.root.push(new Ne("w:unhideWhenUsed",o.unhideWhenUsed)),o.quickFormat!==void 0&&this.root.push(new Ne("w:qFormat",o.quickFormat))}}class El extends gw{constructor(t){super({type:"paragraph",styleId:t.id},t),we(this,"paragraphProperties"),we(this,"runProperties"),this.paragraphProperties=new zi(t.paragraph),this.runProperties=new sn(t.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class _l extends gw{constructor(t){super({type:"character",styleId:t.id},{uiPriority:99,unhideWhenUsed:!0,...t}),we(this,"runProperties"),this.runProperties=new sn(t.run),this.root.push(this.runProperties)}}class Cr extends El{constructor(t){super({basedOn:"Normal",next:"Normal",quickFormat:!0,...t})}}class zq extends Cr{constructor(t){super({id:"Title",name:"Title",...t})}}class Vq extends Cr{constructor(t){super({id:"Heading1",name:"Heading 1",...t})}}class Hq extends Cr{constructor(t){super({id:"Heading2",name:"Heading 2",...t})}}class Wq extends Cr{constructor(t){super({id:"Heading3",name:"Heading 3",...t})}}class Qq extends Cr{constructor(t){super({id:"Heading4",name:"Heading 4",...t})}}class Gq extends Cr{constructor(t){super({id:"Heading5",name:"Heading 5",...t})}}class Kq extends Cr{constructor(t){super({id:"Heading6",name:"Heading 6",...t})}}class Jq extends Cr{constructor(t){super({id:"Strong",name:"Strong",...t})}}class Yq extends El{constructor(t){super({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0,...t})}}class Xq extends El{constructor(t){super({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:Ta.AUTO}},run:{size:20},...t})}}class Zq extends _l{constructor(t){super({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0},...t})}}class e8 extends _l{constructor(t){super({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20},...t})}}class t8 extends _l{constructor(t){super({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:lw.SINGLE}},...t})}}class pd extends ge{constructor(t){if(super("w:styles"),t.initialStyles&&this.root.push(t.initialStyles),t.importedStyles)for(const o of t.importedStyles)this.root.push(o);if(t.paragraphStyles)for(const o of t.paragraphStyles)this.root.push(new El(o));if(t.characterStyles)for(const o of t.characterStyles)this.root.push(new _l(o))}}class o8 extends ge{constructor(t){super("w:pPrDefault"),this.root.push(new zi(t))}}class r8 extends ge{constructor(t){super("w:rPrDefault"),this.root.push(new sn(t))}}class i8 extends ge{constructor(t){super("w:docDefaults"),we(this,"runPropertiesDefaults"),we(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new r8(t.run),this.paragraphPropertiesDefaults=new o8(t.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class n8{newInstance(t){const o=tw.xml2js(t,{compact:!1});let i;for(const s of o.elements||[])s.name==="w:styles"&&(i=s);if(i===void 0)throw new Error("can not find styles element");const r=i.elements||[];return new pd({initialStyles:new KU(i.attributes),importedStyles:r.map(s=>jf(s))})}}class Cv{newInstance(t={}){return{initialStyles:new Es({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new i8(t.document??{}),new zq({run:{size:56},...t.title}),new Vq({run:{color:"2E74B5",size:32},...t.heading1}),new Hq({run:{color:"2E74B5",size:26},...t.heading2}),new Wq({run:{color:"1F4D78",size:24},...t.heading3}),new Qq({run:{color:"2E74B5",italics:!0},...t.heading4}),new Gq({run:{color:"2E74B5"},...t.heading5}),new Kq({run:{color:"1F4D78"},...t.heading6}),new Jq({run:{bold:!0},...t.strong}),new Yq(t.listParagraph||{}),new t8(t.hyperlink||{}),new Zq(t.footnoteReference||{}),new Xq(t.footnoteText||{}),new e8(t.footnoteTextChar||{})]}}}class s8{constructor(t){we(this,"currentRelationshipId",1),we(this,"documentWrapper"),we(this,"headers",[]),we(this,"footers",[]),we(this,"coreProperties"),we(this,"numbering"),we(this,"media"),we(this,"fileRelationships"),we(this,"footnotesWrapper"),we(this,"settings"),we(this,"contentTypes"),we(this,"customProperties"),we(this,"appProperties"),we(this,"styles"),we(this,"comments");var o,i;if(this.coreProperties=new K4({...t,creator:t.creator??"Un-named",revision:t.revision??1,lastModifiedBy:t.lastModifiedBy??"Un-named"}),this.numbering=new Rq(t.numbering?t.numbering:{config:[]}),this.comments=new M6(t.comments??{children:[]}),this.fileRelationships=new _s,this.customProperties=new eq(t.customProperties??[]),this.appProperties=new V4,this.footnotesWrapper=new hq,this.contentTypes=new G4,this.documentWrapper=new hw({background:t.background}),this.settings=new $q({compatibilityModeVersion:t.compatabilityModeVersion,compatibility:t.compatibility,evenAndOddHeaders:!!t.evenAndOddHeaderAndFooters,trackRevisions:(o=t.features)==null?void 0:o.trackRevisions,updateFields:(i=t.features)==null?void 0:i.updateFields}),this.media=new gq,t.externalStyles){const r=new n8;this.styles=r.newInstance(t.externalStyles)}else if(t.styles){const n=new Cv().newInstance(t.styles.default);this.styles=new pd({...n,...t.styles})}else{const r=new Cv;this.styles=new pd(r.newInstance())}this.addDefaultRelationships();for(const r of t.sections)this.addSection(r);if(t.footnotes)for(const r in t.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(r),t.footnotes[r].children)}addSection({headers:t={},footers:o={},children:i,properties:r}){this.documentWrapper.View.Body.addSection({...r,headerWrapperGroup:{default:t.default?this.createHeader(t.default):void 0,first:t.first?this.createHeader(t.first):void 0,even:t.even?this.createHeader(t.even):void 0},footerWrapperGroup:{default:o.default?this.createFooter(o.default):void 0,first:o.first?this.createFooter(o.first):void 0,even:o.even?this.createFooter(o.even):void 0}});for(const n of i)this.documentWrapper.View.add(n)}createHeader(t){const o=new vq(this.media,this.currentRelationshipId++);for(const i of t.options.children)o.add(i);return this.addHeaderToDocument(o),o}createFooter(t){const o=new rq(this.media,this.currentRelationshipId++);for(const i of t.options.children)o.add(i);return this.addFooterToDocument(o),o}addHeaderToDocument(t,o=Di.DEFAULT){this.headers.push({header:t,type:o}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(t,o=Di.DEFAULT){this.footers.push({footer:t,type:o}),this.documentWrapper.Relationships.createRelationship(t.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(t=>t.header)}get Footers(){return this.footers.map(t=>t.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}}function Hs(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yw={exports:{}};(function(e,t){(function(o){e.exports=o()})(function(){return function o(i,r,n){function s(c,u){if(!r[c]){if(!i[c]){var d=typeof Hs=="function"&&Hs;if(!u&&d)return d(c,!0);if(a)return a(c,!0);var p=new Error("Cannot find module '"+c+"'");throw p.code="MODULE_NOT_FOUND",p}var f=r[c]={exports:{}};i[c][0].call(f.exports,function(g){var y=i[c][1][g];return s(y||g)},f,f.exports,o,i,r,n)}return r[c].exports}for(var a=typeof Hs=="function"&&Hs,l=0;l<n.length;l++)s(n[l]);return s}({1:[function(o,i,r){var n=o("./utils"),s=o("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(l){for(var c,u,d,p,f,g,y,T=[],w=0,_=l.length,x=_,D=n.getTypeOf(l)!=="string";w<l.length;)x=_-w,d=D?(c=l[w++],u=w<_?l[w++]:0,w<_?l[w++]:0):(c=l.charCodeAt(w++),u=w<_?l.charCodeAt(w++):0,w<_?l.charCodeAt(w++):0),p=c>>2,f=(3&c)<<4|u>>4,g=1<x?(15&u)<<2|d>>6:64,y=2<x?63&d:64,T.push(a.charAt(p)+a.charAt(f)+a.charAt(g)+a.charAt(y));return T.join("")},r.decode=function(l){var c,u,d,p,f,g,y=0,T=0,w="data:";if(l.substr(0,w.length)===w)throw new Error("Invalid base64 input, it looks like a data url.");var _,x=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&x--,l.charAt(l.length-2)===a.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=s.uint8array?new Uint8Array(0|x):new Array(0|x);y<l.length;)c=a.indexOf(l.charAt(y++))<<2|(p=a.indexOf(l.charAt(y++)))>>4,u=(15&p)<<4|(f=a.indexOf(l.charAt(y++)))>>2,d=(3&f)<<6|(g=a.indexOf(l.charAt(y++))),_[T++]=c,f!==64&&(_[T++]=u),g!==64&&(_[T++]=d);return _}},{"./support":30,"./utils":32}],2:[function(o,i,r){var n=o("./external"),s=o("./stream/DataWorker"),a=o("./stream/Crc32Probe"),l=o("./stream/DataLengthProbe");function c(u,d,p,f,g){this.compressedSize=u,this.uncompressedSize=d,this.crc32=p,this.compression=f,this.compressedContent=g}c.prototype={getContentWorker:function(){var u=new s(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return u.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),u},getCompressedWorker:function(){return new s(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(u,d,p){return u.pipe(new a).pipe(new l("uncompressedSize")).pipe(d.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},i.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,i,r){var n=o("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,i,r){var n=o("./utils"),s=function(){for(var a,l=[],c=0;c<256;c++){a=c;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;l[c]=a}return l}();i.exports=function(a,l){return a!==void 0&&a.length?n.getTypeOf(a)!=="string"?function(c,u,d,p){var f=s,g=p+d;c^=-1;for(var y=p;y<g;y++)c=c>>>8^f[255&(c^u[y])];return-1^c}(0|l,a,a.length,0):function(c,u,d,p){var f=s,g=p+d;c^=-1;for(var y=p;y<g;y++)c=c>>>8^f[255&(c^u.charCodeAt(y))];return-1^c}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(o,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(o,i,r){var n=null;n=typeof Promise<"u"?Promise:o("lie"),i.exports={Promise:n}},{lie:37}],7:[function(o,i,r){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=o("pako"),a=o("./utils"),l=o("./stream/GenericWorker"),c=n?"uint8array":"array";function u(d,p){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=p,this.meta={}}r.magic="\b\0",a.inherits(u,l),u.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(c,d.data),!1)},u.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(p){d.push({data:p,meta:d.meta})}},r.compressWorker=function(d){return new u("Deflate",d)},r.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,i,r){function n(f,g){var y,T="";for(y=0;y<g;y++)T+=String.fromCharCode(255&f),f>>>=8;return T}function s(f,g,y,T,w,_){var x,D,M=f.file,J=f.compression,V=_!==c.utf8encode,W=a.transformTo("string",_(M.name)),P=a.transformTo("string",c.utf8encode(M.name)),ie=M.comment,fe=a.transformTo("string",_(ie)),B=a.transformTo("string",c.utf8encode(ie)),Z=P.length!==M.name.length,I=B.length!==ie.length,ne="",me="",X="",pe=M.dir,le=M.date,be={crc32:0,compressedSize:0,uncompressedSize:0};g&&!y||(be.crc32=f.crc32,be.compressedSize=f.compressedSize,be.uncompressedSize=f.uncompressedSize);var ee=0;g&&(ee|=8),V||!Z&&!I||(ee|=2048);var F=0,te=0;pe&&(F|=16),w==="UNIX"?(te=798,F|=function(Q,q){var N=Q;return Q||(N=q?16893:33204),(65535&N)<<16}(M.unixPermissions,pe)):(te=20,F|=function(Q){return 63&(Q||0)}(M.dosPermissions)),x=le.getUTCHours(),x<<=6,x|=le.getUTCMinutes(),x<<=5,x|=le.getUTCSeconds()/2,D=le.getUTCFullYear()-1980,D<<=4,D|=le.getUTCMonth()+1,D<<=5,D|=le.getUTCDate(),Z&&(me=n(1,1)+n(u(W),4)+P,ne+="up"+n(me.length,2)+me),I&&(X=n(1,1)+n(u(fe),4)+B,ne+="uc"+n(X.length,2)+X);var re="";return re+=`
\0`,re+=n(ee,2),re+=J.magic,re+=n(x,2),re+=n(D,2),re+=n(be.crc32,4),re+=n(be.compressedSize,4),re+=n(be.uncompressedSize,4),re+=n(W.length,2),re+=n(ne.length,2),{fileRecord:d.LOCAL_FILE_HEADER+re+W+ne,dirRecord:d.CENTRAL_FILE_HEADER+n(te,2)+re+n(fe.length,2)+"\0\0\0\0"+n(F,4)+n(T,4)+W+ne+fe}}var a=o("../utils"),l=o("../stream/GenericWorker"),c=o("../utf8"),u=o("../crc32"),d=o("../signature");function p(f,g,y,T){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=y,this.encodeFileName=T,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(p,l),p.prototype.push=function(f){var g=f.meta.percent||0,y=this.entriesCount,T=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:y?(g+100*(y-T-1))/y:100}}))},p.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var g=this.streamFiles&&!f.file.dir;if(g){var y=s(f,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(f){this.accumulate=!1;var g=this.streamFiles&&!f.file.dir,y=s(f,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),g)this.push({data:function(T){return d.DATA_DESCRIPTOR+n(T.crc32,4)+n(T.compressedSize,4)+n(T.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var f=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var y=this.bytesWritten-f,T=function(w,_,x,D,M){var J=a.transformTo("string",M(D));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(w,2)+n(w,2)+n(_,4)+n(x,4)+n(J.length,2)+J}(this.dirRecords.length,y,f,this.zipComment,this.encodeFileName);this.push({data:T,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(f){this._sources.push(f);var g=this;return f.on("data",function(y){g.processChunk(y)}),f.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),f.on("error",function(y){g.error(y)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(f){var g=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var y=0;y<g.length;y++)try{g[y].error(f)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,g=0;g<f.length;g++)f[g].lock()},i.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,i,r){var n=o("../compressions"),s=o("./ZipFileWorker");r.generateWorker=function(a,l,c){var u=new s(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{a.forEach(function(p,f){d++;var g=function(_,x){var D=_||x,M=n[D];if(!M)throw new Error(D+" is not a valid compression method !");return M}(f.options.compression,l.compression),y=f.options.compressionOptions||l.compressionOptions||{},T=f.dir,w=f.date;f._compressWorker(g,y).withStreamInfo("file",{name:p,dir:T,date:w,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(u)}),u.entriesCount=d}catch(p){u.error(p)}return u}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,i,r){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new n;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(n.prototype=o("./object")).loadAsync=o("./load"),n.support=o("./support"),n.defaults=o("./defaults"),n.version="3.10.1",n.loadAsync=function(s,a){return new n().loadAsync(s,a)},n.external=o("./external"),i.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,i,r){var n=o("./utils"),s=o("./external"),a=o("./utf8"),l=o("./zipEntries"),c=o("./stream/Crc32Probe"),u=o("./nodejsUtils");function d(p){return new s.Promise(function(f,g){var y=p.decompressed.getContentWorker().pipe(new c);y.on("error",function(T){g(T)}).on("end",function(){y.streamInfo.crc32!==p.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}i.exports=function(p,f){var g=this;return f=n.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),u.isNode&&u.isStream(p)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",p,!0,f.optimizedBinaryString,f.base64).then(function(y){var T=new l(f);return T.load(y),T}).then(function(y){var T=[s.Promise.resolve(y)],w=y.files;if(f.checkCRC32)for(var _=0;_<w.length;_++)T.push(d(w[_]));return s.Promise.all(T)}).then(function(y){for(var T=y.shift(),w=T.files,_=0;_<w.length;_++){var x=w[_],D=x.fileNameStr,M=n.resolve(x.fileNameStr);g.file(M,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:f.createFolders}),x.dir||(g.file(M).unsafeOriginalName=D)}return T.zipComment.length&&(g.comment=T.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,i,r){var n=o("../utils"),s=o("../stream/GenericWorker");function a(l,c){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}n.inherits(a,s),a.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(u){c.push({data:u,meta:{percent:0}})}).on("error",function(u){c.isPaused?this.generatedError=u:c.error(u)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,i,r){var n=o("readable-stream").Readable;function s(a,l,c){n.call(this,l),this._helper=a;var u=this;a.on("data",function(d,p){u.push(d)||u._helper.pause(),c&&c(p)}).on("error",function(d){u.emit("error",d)}).on("end",function(){u.push(null)})}o("../utils").inherits(s,n),s.prototype._read=function(){this._helper.resume()},i.exports=s},{"../utils":32,"readable-stream":16}],14:[function(o,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,s);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,s)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var s=new Buffer(n);return s.fill(0),s},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(o,i,r){function n(M,J,V){var W,P=a.getTypeOf(J),ie=a.extend(V||{},u);ie.date=ie.date||new Date,ie.compression!==null&&(ie.compression=ie.compression.toUpperCase()),typeof ie.unixPermissions=="string"&&(ie.unixPermissions=parseInt(ie.unixPermissions,8)),ie.unixPermissions&&16384&ie.unixPermissions&&(ie.dir=!0),ie.dosPermissions&&16&ie.dosPermissions&&(ie.dir=!0),ie.dir&&(M=w(M)),ie.createFolders&&(W=T(M))&&_.call(this,W,!0);var fe=P==="string"&&ie.binary===!1&&ie.base64===!1;V&&V.binary!==void 0||(ie.binary=!fe),(J instanceof d&&J.uncompressedSize===0||ie.dir||!J||J.length===0)&&(ie.base64=!1,ie.binary=!0,J="",ie.compression="STORE",P="string");var B=null;B=J instanceof d||J instanceof l?J:g.isNode&&g.isStream(J)?new y(M,J):a.prepareContent(M,J,ie.binary,ie.optimizedBinaryString,ie.base64);var Z=new p(M,B,ie);this.files[M]=Z}var s=o("./utf8"),a=o("./utils"),l=o("./stream/GenericWorker"),c=o("./stream/StreamHelper"),u=o("./defaults"),d=o("./compressedObject"),p=o("./zipObject"),f=o("./generate"),g=o("./nodejsUtils"),y=o("./nodejs/NodejsStreamInputAdapter"),T=function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var J=M.lastIndexOf("/");return 0<J?M.substring(0,J):""},w=function(M){return M.slice(-1)!=="/"&&(M+="/"),M},_=function(M,J){return J=J!==void 0?J:u.createFolders,M=w(M),this.files[M]||n.call(this,M,null,{dir:!0,createFolders:J}),this.files[M]};function x(M){return Object.prototype.toString.call(M)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var J,V,W;for(J in this.files)W=this.files[J],(V=J.slice(this.root.length,J.length))&&J.slice(0,this.root.length)===this.root&&M(V,W)},filter:function(M){var J=[];return this.forEach(function(V,W){M(V,W)&&J.push(W)}),J},file:function(M,J,V){if(arguments.length!==1)return M=this.root+M,n.call(this,M,J,V),this;if(x(M)){var W=M;return this.filter(function(ie,fe){return!fe.dir&&W.test(ie)})}var P=this.files[this.root+M];return P&&!P.dir?P:null},folder:function(M){if(!M)return this;if(x(M))return this.filter(function(P,ie){return ie.dir&&M.test(P)});var J=this.root+M,V=_.call(this,J),W=this.clone();return W.root=V.name,W},remove:function(M){M=this.root+M;var J=this.files[M];if(J||(M.slice(-1)!=="/"&&(M+="/"),J=this.files[M]),J&&!J.dir)delete this.files[M];else for(var V=this.filter(function(P,ie){return ie.name.slice(0,M.length)===M}),W=0;W<V.length;W++)delete this.files[V[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var J,V={};try{if((V=a.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");a.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var W=V.comment||this.comment||"";J=f.generateWorker(this,V,W)}catch(P){(J=new l("error")).error(P)}return new c(J,V.type||"string",V.mimeType)},generateAsync:function(M,J){return this.generateInternalStream(M).accumulate(J)},generateNodeStream:function(M,J){return(M=M||{}).type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream(J)}};i.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,i,r){i.exports=o("stream")},{stream:void 0}],17:[function(o,i,r){var n=o("./DataReader");function s(a){n.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}o("../utils").inherits(s,n),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===c&&this.data[p+2]===u&&this.data[p+3]===d)return p-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),c=a.charCodeAt(1),u=a.charCodeAt(2),d=a.charCodeAt(3),p=this.readData(4);return l===p[0]&&c===p[1]&&u===p[2]&&d===p[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./DataReader":18}],18:[function(o,i,r){var n=o("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,c=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=a,c},readString:function(a){return n.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},i.exports=s},{"../utils":32}],19:[function(o,i,r){var n=o("./Uint8ArrayReader");function s(a){n.call(this,a)}o("../utils").inherits(s,n),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,i,r){var n=o("./DataReader");function s(a){n.call(this,a)}o("../utils").inherits(s,n),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./DataReader":18}],21:[function(o,i,r){var n=o("./ArrayReader");function s(a){n.call(this,a)}o("../utils").inherits(s,n),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},i.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(o,i,r){var n=o("../utils"),s=o("../support"),a=o("./ArrayReader"),l=o("./StringReader"),c=o("./NodeBufferReader"),u=o("./Uint8ArrayReader");i.exports=function(d){var p=n.getTypeOf(d);return n.checkSupport(p),p!=="string"||s.uint8array?p==="nodebuffer"?new c(d):s.uint8array?new u(n.transformTo("uint8array",d)):new a(n.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,i,r){var n=o("./GenericWorker"),s=o("../utils");function a(l){n.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,n),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},i.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(o,i,r){var n=o("./GenericWorker"),s=o("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}o("../utils").inherits(a,n),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,i,r){var n=o("../utils"),s=o("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}n.inherits(a,s),a.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}s.prototype.processChunk.call(this,l)},i.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(o,i,r){var n=o("../utils"),s=o("./GenericWorker");function a(l){s.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(u){c.dataIsReady=!0,c.data=u,c.max=u&&u.length||0,c.type=n.getTypeOf(u),c.isPaused||c._tickAndRepeat()},function(u){c.error(u)})}n.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(o,i,r){function n(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},i.exports=n},{}],29:[function(o,i,r){var n=o("../utils"),s=o("./ConvertWorker"),a=o("./GenericWorker"),l=o("../base64"),c=o("../support"),u=o("../external"),d=null;if(c.nodestream)try{d=o("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(g,y){return new u.Promise(function(T,w){var _=[],x=g._internalType,D=g._outputType,M=g._mimeType;g.on("data",function(J,V){_.push(J),y&&y(V)}).on("error",function(J){_=[],w(J)}).on("end",function(){try{var J=function(V,W,P){switch(V){case"blob":return n.newBlob(n.transformTo("arraybuffer",W),P);case"base64":return l.encode(W);default:return n.transformTo(V,W)}}(D,function(V,W){var P,ie=0,fe=null,B=0;for(P=0;P<W.length;P++)B+=W[P].length;switch(V){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(fe=new Uint8Array(B),P=0;P<W.length;P++)fe.set(W[P],ie),ie+=W[P].length;return fe;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+V+"'")}}(x,_),M);T(J)}catch(V){w(V)}_=[]}).resume()})}function f(g,y,T){var w=y;switch(y){case"blob":case"arraybuffer":w="uint8array";break;case"base64":w="string"}try{this._internalType=w,this._outputType=y,this._mimeType=T,n.checkSupport(w),this._worker=g.pipe(new s(w)),g.lock()}catch(_){this._worker=new a("error"),this._worker.error(_)}}f.prototype={accumulate:function(g){return p(this,g)},on:function(g,y){var T=this;return g==="data"?this._worker.on(g,function(w){y.call(T,w.data,w.meta)}):this._worker.on(g,function(){n.delay(y,arguments,T)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},g)}},i.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(n),r.blob=s.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!o("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(o,i,r){for(var n=o("./utils"),s=o("./support"),a=o("./nodejsUtils"),l=o("./stream/GenericWorker"),c=new Array(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}r.utf8encode=function(f){return s.nodebuffer?a.newBufferFrom(f,"utf-8"):function(g){var y,T,w,_,x,D=g.length,M=0;for(_=0;_<D;_++)(64512&(T=g.charCodeAt(_)))==55296&&_+1<D&&(64512&(w=g.charCodeAt(_+1)))==56320&&(T=65536+(T-55296<<10)+(w-56320),_++),M+=T<128?1:T<2048?2:T<65536?3:4;for(y=s.uint8array?new Uint8Array(M):new Array(M),_=x=0;x<M;_++)(64512&(T=g.charCodeAt(_)))==55296&&_+1<D&&(64512&(w=g.charCodeAt(_+1)))==56320&&(T=65536+(T-55296<<10)+(w-56320),_++),T<128?y[x++]=T:(T<2048?y[x++]=192|T>>>6:(T<65536?y[x++]=224|T>>>12:(y[x++]=240|T>>>18,y[x++]=128|T>>>12&63),y[x++]=128|T>>>6&63),y[x++]=128|63&T);return y}(f)},r.utf8decode=function(f){return s.nodebuffer?n.transformTo("nodebuffer",f).toString("utf-8"):function(g){var y,T,w,_,x=g.length,D=new Array(2*x);for(y=T=0;y<x;)if((w=g[y++])<128)D[T++]=w;else if(4<(_=c[w]))D[T++]=65533,y+=_-1;else{for(w&=_===2?31:_===3?15:7;1<_&&y<x;)w=w<<6|63&g[y++],_--;1<_?D[T++]=65533:w<65536?D[T++]=w:(w-=65536,D[T++]=55296|w>>10&1023,D[T++]=56320|1023&w)}return D.length!==T&&(D.subarray?D=D.subarray(0,T):D.length=T),n.applyFromCharCode(D)}(f=n.transformTo(s.uint8array?"uint8array":"array",f))},n.inherits(d,l),d.prototype.processChunk=function(f){var g=n.transformTo(s.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=g;(g=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),g.set(y,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var T=function(_,x){var D;for((x=x||_.length)>_.length&&(x=_.length),D=x-1;0<=D&&(192&_[D])==128;)D--;return D<0||D===0?x:D+c[_[D]]>x?D:x}(g),w=g;T!==g.length&&(s.uint8array?(w=g.subarray(0,T),this.leftOver=g.subarray(T,g.length)):(w=g.slice(0,T),this.leftOver=g.slice(T,g.length))),this.push({data:r.utf8decode(w),meta:f.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=d,n.inherits(p,l),p.prototype.processChunk=function(f){this.push({data:r.utf8encode(f.data),meta:f.meta})},r.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,i,r){var n=o("./support"),s=o("./base64"),a=o("./nodejsUtils"),l=o("./external");function c(y){return y}function u(y,T){for(var w=0;w<y.length;++w)T[w]=255&y.charCodeAt(w);return T}o("setimmediate"),r.newBlob=function(y,T){r.checkSupport("blob");try{return new Blob([y],{type:T})}catch{try{var w=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return w.append(y),w.getBlob(T)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(y,T,w){var _=[],x=0,D=y.length;if(D<=w)return String.fromCharCode.apply(null,y);for(;x<D;)T==="array"||T==="nodebuffer"?_.push(String.fromCharCode.apply(null,y.slice(x,Math.min(x+w,D)))):_.push(String.fromCharCode.apply(null,y.subarray(x,Math.min(x+w,D)))),x+=w;return _.join("")},stringifyByChar:function(y){for(var T="",w=0;w<y.length;w++)T+=String.fromCharCode(y[w]);return T},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function p(y){var T=65536,w=r.getTypeOf(y),_=!0;if(w==="uint8array"?_=d.applyCanBeUsed.uint8array:w==="nodebuffer"&&(_=d.applyCanBeUsed.nodebuffer),_)for(;1<T;)try{return d.stringifyByChunk(y,w,T)}catch{T=Math.floor(T/2)}return d.stringifyByChar(y)}function f(y,T){for(var w=0;w<y.length;w++)T[w]=y[w];return T}r.applyFromCharCode=p;var g={};g.string={string:c,array:function(y){return u(y,new Array(y.length))},arraybuffer:function(y){return g.string.uint8array(y).buffer},uint8array:function(y){return u(y,new Uint8Array(y.length))},nodebuffer:function(y){return u(y,a.allocBuffer(y.length))}},g.array={string:p,array:c,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(y)}},g.arraybuffer={string:function(y){return p(new Uint8Array(y))},array:function(y){return f(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:c,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return a.newBufferFrom(new Uint8Array(y))}},g.uint8array={string:p,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:c,nodebuffer:function(y){return a.newBufferFrom(y)}},g.nodebuffer={string:p,array:function(y){return f(y,new Array(y.length))},arraybuffer:function(y){return g.nodebuffer.uint8array(y).buffer},uint8array:function(y){return f(y,new Uint8Array(y.length))},nodebuffer:c},r.transformTo=function(y,T){if(T=T||"",!y)return T;r.checkSupport(y);var w=r.getTypeOf(T);return g[w][y](T)},r.resolve=function(y){for(var T=y.split("/"),w=[],_=0;_<T.length;_++){var x=T[_];x==="."||x===""&&_!==0&&_!==T.length-1||(x===".."?w.pop():w.push(x))}return w.join("/")},r.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":n.nodebuffer&&a.isBuffer(y)?"nodebuffer":n.uint8array&&y instanceof Uint8Array?"uint8array":n.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(y){if(!n[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(y){var T,w,_="";for(w=0;w<(y||"").length;w++)_+="\\x"+((T=y.charCodeAt(w))<16?"0":"")+T.toString(16).toUpperCase();return _},r.delay=function(y,T,w){setImmediate(function(){y.apply(w||null,T||[])})},r.inherits=function(y,T){function w(){}w.prototype=T.prototype,y.prototype=new w},r.extend=function(){var y,T,w={};for(y=0;y<arguments.length;y++)for(T in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],T)&&w[T]===void 0&&(w[T]=arguments[y][T]);return w},r.prepareContent=function(y,T,w,_,x){return l.Promise.resolve(T).then(function(D){return n.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new l.Promise(function(M,J){var V=new FileReader;V.onload=function(W){M(W.target.result)},V.onerror=function(W){J(W.target.error)},V.readAsArrayBuffer(D)}):D}).then(function(D){var M=r.getTypeOf(D);return M?(M==="arraybuffer"?D=r.transformTo("uint8array",D):M==="string"&&(x?D=s.decode(D):w&&_!==!0&&(D=function(J){return u(J,n.uint8array?new Uint8Array(J.length):new Array(J.length))}(D))),D):l.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(o,i,r){var n=o("./reader/readerFor"),s=o("./utils"),a=o("./signature"),l=o("./zipEntry"),c=o("./support");function u(d){this.files=[],this.loadOptions=d}u.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(p)+", expected "+s.pretty(d)+")")}},isSignature:function(d,p){var f=this.reader.index;this.reader.setIndex(d);var g=this.reader.readString(4)===p;return this.reader.setIndex(f),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),p=c.uint8array?"uint8array":"array",f=s.transformTo(p,d);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,p,f,g=this.zip64EndOfCentralSize-44;0<g;)d=this.reader.readInt(2),p=this.reader.readInt(4),f=this.reader.readData(p),this.zip64ExtensibleData[d]={id:d,length:p,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,p;for(d=0;d<this.files.length;d++)p=this.files[d],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var p=d;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var g=p-f;if(0<g)this.isSignature(p,a.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(d){this.reader=n(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(o,i,r){var n=o("./reader/readerFor"),s=o("./utils"),a=o("./compressedObject"),l=o("./crc32"),c=o("./utf8"),u=o("./compressions"),d=o("./support");function p(f,g){this.options=f,this.loadOptions=g}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var g,y;if(f.skip(22),this.fileNameLength=f.readInt(2),y=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(T){for(var w in u)if(Object.prototype.hasOwnProperty.call(u,w)&&u[w].magic===T)return u[w];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,g,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var g=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(g),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var g,y,T,w=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<w;)g=f.readInt(2),y=f.readInt(2),T=f.readData(y),this.extraFields[g]={id:g,length:y,value:T};f.setIndex(w)},handleUTF8:function(){var f=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var y=s.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var T=this.findExtraFieldUnicodeComment();if(T!==null)this.fileCommentStr=T;else{var w=s.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(w)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var g=n(f.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:c.utf8decode(g.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var g=n(f.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:c.utf8decode(g.readData(f.length-5))}return null}},i.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,i,r){function n(g,y,T){this.name=g,this.dir=T.dir,this.date=T.date,this.comment=T.comment,this.unixPermissions=T.unixPermissions,this.dosPermissions=T.dosPermissions,this._data=y,this._dataBinary=T.binary,this.options={compression:T.compression,compressionOptions:T.compressionOptions}}var s=o("./stream/StreamHelper"),a=o("./stream/DataWorker"),l=o("./utf8"),c=o("./compressedObject"),u=o("./stream/GenericWorker");n.prototype={internalStream:function(g){var y=null,T="string";try{if(!g)throw new Error("No output type specified.");var w=(T=g.toLowerCase())==="string"||T==="text";T!=="binarystring"&&T!=="text"||(T="string"),y=this._decompressWorker();var _=!this._dataBinary;_&&!w&&(y=y.pipe(new l.Utf8EncodeWorker)),!_&&w&&(y=y.pipe(new l.Utf8DecodeWorker))}catch(x){(y=new u("error")).error(x)}return new s(y,T,"")},async:function(g,y){return this.internalStream(g).accumulate(y)},nodeStream:function(g,y){return this.internalStream(g||"nodebuffer").toNodejsStream(y)},_compressWorker:function(g,y){if(this._data instanceof c&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var T=this._decompressWorker();return this._dataBinary||(T=T.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(T,g,y)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof u?this._data:new a(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<d.length;f++)n.prototype[d[f]]=p;i.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,i,r){(function(n){var s,a,l=n.MutationObserver||n.WebKitMutationObserver;if(l){var c=0,u=new l(g),d=n.document.createTextNode("");u.observe(d,{characterData:!0}),s=function(){d.data=c=++c%2}}else if(n.setImmediate||n.MessageChannel===void 0)s="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var y=n.document.createElement("script");y.onreadystatechange=function(){g(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},n.document.documentElement.appendChild(y)}:function(){setTimeout(g,0)};else{var p=new n.MessageChannel;p.port1.onmessage=g,s=function(){p.port2.postMessage(0)}}var f=[];function g(){var y,T;a=!0;for(var w=f.length;w;){for(T=f,f=[],y=-1;++y<w;)T[y]();w=f.length}a=!1}i.exports=function(y){f.push(y)!==1||a||s()}}).call(this,typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,i,r){var n=o("immediate");function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];function d(w){if(typeof w!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,w!==s&&y(this,w)}function p(w,_,x){this.promise=w,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function f(w,_,x){n(function(){var D;try{D=_(x)}catch(M){return a.reject(w,M)}D===w?a.reject(w,new TypeError("Cannot resolve promise with itself")):a.resolve(w,D)})}function g(w){var _=w&&w.then;if(w&&(typeof w=="object"||typeof w=="function")&&typeof _=="function")return function(){_.apply(w,arguments)}}function y(w,_){var x=!1;function D(V){x||(x=!0,a.reject(w,V))}function M(V){x||(x=!0,a.resolve(w,V))}var J=T(function(){_(M,D)});J.status==="error"&&D(J.value)}function T(w,_){var x={};try{x.value=w(_),x.status="success"}catch(D){x.status="error",x.value=D}return x}(i.exports=d).prototype.finally=function(w){if(typeof w!="function")return this;var _=this.constructor;return this.then(function(x){return _.resolve(w()).then(function(){return x})},function(x){return _.resolve(w()).then(function(){throw x})})},d.prototype.catch=function(w){return this.then(null,w)},d.prototype.then=function(w,_){if(typeof w!="function"&&this.state===c||typeof _!="function"&&this.state===l)return this;var x=new this.constructor(s);return this.state!==u?f(x,this.state===c?w:_,this.outcome):this.queue.push(new p(x,w,_)),x},p.prototype.callFulfilled=function(w){a.resolve(this.promise,w)},p.prototype.otherCallFulfilled=function(w){f(this.promise,this.onFulfilled,w)},p.prototype.callRejected=function(w){a.reject(this.promise,w)},p.prototype.otherCallRejected=function(w){f(this.promise,this.onRejected,w)},a.resolve=function(w,_){var x=T(g,_);if(x.status==="error")return a.reject(w,x.value);var D=x.value;if(D)y(w,D);else{w.state=c,w.outcome=_;for(var M=-1,J=w.queue.length;++M<J;)w.queue[M].callFulfilled(_)}return w},a.reject=function(w,_){w.state=l,w.outcome=_;for(var x=-1,D=w.queue.length;++x<D;)w.queue[x].callRejected(_);return w},d.resolve=function(w){return w instanceof this?w:a.resolve(new this(s),w)},d.reject=function(w){var _=new this(s);return a.reject(_,w)},d.all=function(w){var _=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=w.length,D=!1;if(!x)return this.resolve([]);for(var M=new Array(x),J=0,V=-1,W=new this(s);++V<x;)P(w[V],V);return W;function P(ie,fe){_.resolve(ie).then(function(B){M[fe]=B,++J!==x||D||(D=!0,a.resolve(W,M))},function(B){D||(D=!0,a.reject(W,B))})}},d.race=function(w){var _=this;if(Object.prototype.toString.call(w)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=w.length,D=!1;if(!x)return this.resolve([]);for(var M=-1,J=new this(s);++M<x;)V=w[M],_.resolve(V).then(function(W){D||(D=!0,a.resolve(J,W))},function(W){D||(D=!0,a.reject(J,W))});var V;return J}},{immediate:36}],38:[function(o,i,r){var n={};(0,o("./lib/utils/common").assign)(n,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),i.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,i,r){var n=o("./zlib/deflate"),s=o("./utils/common"),a=o("./utils/strings"),l=o("./zlib/messages"),c=o("./zlib/zstream"),u=Object.prototype.toString,d=0,p=-1,f=0,g=8;function y(w){if(!(this instanceof y))return new y(w);this.options=s.assign({level:p,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},w||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=n.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(x!==d)throw new Error(l[x]);if(_.header&&n.deflateSetHeader(this.strm,_.header),_.dictionary){var D;if(D=typeof _.dictionary=="string"?a.string2buf(_.dictionary):u.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(x=n.deflateSetDictionary(this.strm,D))!==d)throw new Error(l[x]);this._dict_set=!0}}function T(w,_){var x=new y(_);if(x.push(w,!0),x.err)throw x.msg||l[x.err];return x.result}y.prototype.push=function(w,_){var x,D,M=this.strm,J=this.options.chunkSize;if(this.ended)return!1;D=_===~~_?_:_===!0?4:0,typeof w=="string"?M.input=a.string2buf(w):u.call(w)==="[object ArrayBuffer]"?M.input=new Uint8Array(w):M.input=w,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new s.Buf8(J),M.next_out=0,M.avail_out=J),(x=n.deflate(M,D))!==1&&x!==d)return this.onEnd(x),!(this.ended=!0);M.avail_out!==0&&(M.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(M.output,M.next_out))):this.onData(s.shrinkBuf(M.output,M.next_out)))}while((0<M.avail_in||M.avail_out===0)&&x!==1);return D===4?(x=n.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d):D!==2||(this.onEnd(d),!(M.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},r.Deflate=y,r.deflate=T,r.deflateRaw=function(w,_){return(_=_||{}).raw=!0,T(w,_)},r.gzip=function(w,_){return(_=_||{}).gzip=!0,T(w,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,i,r){var n=o("./zlib/inflate"),s=o("./utils/common"),a=o("./utils/strings"),l=o("./zlib/constants"),c=o("./zlib/messages"),u=o("./zlib/zstream"),d=o("./zlib/gzheader"),p=Object.prototype.toString;function f(y){if(!(this instanceof f))return new f(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var T=this.options;T.raw&&0<=T.windowBits&&T.windowBits<16&&(T.windowBits=-T.windowBits,T.windowBits===0&&(T.windowBits=-15)),!(0<=T.windowBits&&T.windowBits<16)||y&&y.windowBits||(T.windowBits+=32),15<T.windowBits&&T.windowBits<48&&!(15&T.windowBits)&&(T.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var w=n.inflateInit2(this.strm,T.windowBits);if(w!==l.Z_OK)throw new Error(c[w]);this.header=new d,n.inflateGetHeader(this.strm,this.header)}function g(y,T){var w=new f(T);if(w.push(y,!0),w.err)throw w.msg||c[w.err];return w.result}f.prototype.push=function(y,T){var w,_,x,D,M,J,V=this.strm,W=this.options.chunkSize,P=this.options.dictionary,ie=!1;if(this.ended)return!1;_=T===~~T?T:T===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof y=="string"?V.input=a.binstring2buf(y):p.call(y)==="[object ArrayBuffer]"?V.input=new Uint8Array(y):V.input=y,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new s.Buf8(W),V.next_out=0,V.avail_out=W),(w=n.inflate(V,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(J=typeof P=="string"?a.string2buf(P):p.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,w=n.inflateSetDictionary(this.strm,J)),w===l.Z_BUF_ERROR&&ie===!0&&(w=l.Z_OK,ie=!1),w!==l.Z_STREAM_END&&w!==l.Z_OK)return this.onEnd(w),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&w!==l.Z_STREAM_END&&(V.avail_in!==0||_!==l.Z_FINISH&&_!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=a.utf8border(V.output,V.next_out),D=V.next_out-x,M=a.buf2string(V.output,x),V.next_out=D,V.avail_out=W-D,D&&s.arraySet(V.output,V.output,x,D,0),this.onData(M)):this.onData(s.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(ie=!0)}while((0<V.avail_in||V.avail_out===0)&&w!==l.Z_STREAM_END);return w===l.Z_STREAM_END&&(_=l.Z_FINISH),_===l.Z_FINISH?(w=n.inflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===l.Z_OK):_!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(V.avail_out=0))},f.prototype.onData=function(y){this.chunks.push(y)},f.prototype.onEnd=function(y){y===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},r.Inflate=f,r.inflate=g,r.inflateRaw=function(y,T){return(T=T||{}).raw=!0,g(y,T)},r.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,i,r){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var u=c.shift();if(u){if(typeof u!="object")throw new TypeError(u+"must be non-object");for(var d in u)u.hasOwnProperty(d)&&(l[d]=u[d])}}return l},r.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var s={arraySet:function(l,c,u,d,p){if(c.subarray&&l.subarray)l.set(c.subarray(u,u+d),p);else for(var f=0;f<d;f++)l[p+f]=c[u+f]},flattenChunks:function(l){var c,u,d,p,f,g;for(c=d=0,u=l.length;c<u;c++)d+=l[c].length;for(g=new Uint8Array(d),c=p=0,u=l.length;c<u;c++)f=l[c],g.set(f,p),p+=f.length;return g}},a={arraySet:function(l,c,u,d,p){for(var f=0;f<d;f++)l[p+f]=c[u+f]},flattenChunks:function(l){return[].concat.apply([],l)}};r.setTyped=function(l){l?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},{}],42:[function(o,i,r){var n=o("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new n.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(d,p){if(p<65537&&(d.subarray&&a||!d.subarray&&s))return String.fromCharCode.apply(null,n.shrinkBuf(d,p));for(var f="",g=0;g<p;g++)f+=String.fromCharCode(d[g]);return f}l[254]=l[254]=1,r.string2buf=function(d){var p,f,g,y,T,w=d.length,_=0;for(y=0;y<w;y++)(64512&(f=d.charCodeAt(y)))==55296&&y+1<w&&(64512&(g=d.charCodeAt(y+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),y++),_+=f<128?1:f<2048?2:f<65536?3:4;for(p=new n.Buf8(_),y=T=0;T<_;y++)(64512&(f=d.charCodeAt(y)))==55296&&y+1<w&&(64512&(g=d.charCodeAt(y+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),y++),f<128?p[T++]=f:(f<2048?p[T++]=192|f>>>6:(f<65536?p[T++]=224|f>>>12:(p[T++]=240|f>>>18,p[T++]=128|f>>>12&63),p[T++]=128|f>>>6&63),p[T++]=128|63&f);return p},r.buf2binstring=function(d){return u(d,d.length)},r.binstring2buf=function(d){for(var p=new n.Buf8(d.length),f=0,g=p.length;f<g;f++)p[f]=d.charCodeAt(f);return p},r.buf2string=function(d,p){var f,g,y,T,w=p||d.length,_=new Array(2*w);for(f=g=0;f<w;)if((y=d[f++])<128)_[g++]=y;else if(4<(T=l[y]))_[g++]=65533,f+=T-1;else{for(y&=T===2?31:T===3?15:7;1<T&&f<w;)y=y<<6|63&d[f++],T--;1<T?_[g++]=65533:y<65536?_[g++]=y:(y-=65536,_[g++]=55296|y>>10&1023,_[g++]=56320|1023&y)}return u(_,g)},r.utf8border=function(d,p){var f;for((p=p||d.length)>d.length&&(p=d.length),f=p-1;0<=f&&(192&d[f])==128;)f--;return f<0||f===0?p:f+l[d[f]]>p?f:p}},{"./common":41}],43:[function(o,i,r){i.exports=function(n,s,a,l){for(var c=65535&n|0,u=n>>>16&65535|0,d=0;a!==0;){for(a-=d=2e3<a?2e3:a;u=u+(c=c+s[l++]|0)|0,--d;);c%=65521,u%=65521}return c|u<<16|0}},{}],44:[function(o,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,i,r){var n=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var c=0;c<8;c++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();i.exports=function(s,a,l,c){var u=n,d=c+l;s^=-1;for(var p=c;p<d;p++)s=s>>>8^u[255&(s^a[p])];return-1^s}},{}],46:[function(o,i,r){var n,s=o("../utils/common"),a=o("./trees"),l=o("./adler32"),c=o("./crc32"),u=o("./messages"),d=0,p=4,f=0,g=-2,y=-1,T=4,w=2,_=8,x=9,D=286,M=30,J=19,V=2*D+1,W=15,P=3,ie=258,fe=ie+P+1,B=42,Z=113,I=1,ne=2,me=3,X=4;function pe(b,z){return b.msg=u[z],z}function le(b){return(b<<1)-(4<b?9:0)}function be(b){for(var z=b.length;0<=--z;)b[z]=0}function ee(b){var z=b.state,S=z.pending;S>b.avail_out&&(S=b.avail_out),S!==0&&(s.arraySet(b.output,z.pending_buf,z.pending_out,S,b.next_out),b.next_out+=S,z.pending_out+=S,b.total_out+=S,b.avail_out-=S,z.pending-=S,z.pending===0&&(z.pending_out=0))}function F(b,z){a._tr_flush_block(b,0<=b.block_start?b.block_start:-1,b.strstart-b.block_start,z),b.block_start=b.strstart,ee(b.strm)}function te(b,z){b.pending_buf[b.pending++]=z}function re(b,z){b.pending_buf[b.pending++]=z>>>8&255,b.pending_buf[b.pending++]=255&z}function Q(b,z){var S,h,m=b.max_chain_length,E=b.strstart,O=b.prev_length,L=b.nice_match,$=b.strstart>b.w_size-fe?b.strstart-(b.w_size-fe):0,oe=b.window,ae=b.w_mask,se=b.prev,Ee=b.strstart+ie,xe=oe[E+O-1],Ie=oe[E+O];b.prev_length>=b.good_match&&(m>>=2),L>b.lookahead&&(L=b.lookahead);do if(oe[(S=z)+O]===Ie&&oe[S+O-1]===xe&&oe[S]===oe[E]&&oe[++S]===oe[E+1]){E+=2,S++;do;while(oe[++E]===oe[++S]&&oe[++E]===oe[++S]&&oe[++E]===oe[++S]&&oe[++E]===oe[++S]&&oe[++E]===oe[++S]&&oe[++E]===oe[++S]&&oe[++E]===oe[++S]&&oe[++E]===oe[++S]&&E<Ee);if(h=ie-(Ee-E),E=Ee-ie,O<h){if(b.match_start=z,L<=(O=h))break;xe=oe[E+O-1],Ie=oe[E+O]}}while((z=se[z&ae])>$&&--m!=0);return O<=b.lookahead?O:b.lookahead}function q(b){var z,S,h,m,E,O,L,$,oe,ae,se=b.w_size;do{if(m=b.window_size-b.lookahead-b.strstart,b.strstart>=se+(se-fe)){for(s.arraySet(b.window,b.window,se,se,0),b.match_start-=se,b.strstart-=se,b.block_start-=se,z=S=b.hash_size;h=b.head[--z],b.head[z]=se<=h?h-se:0,--S;);for(z=S=se;h=b.prev[--z],b.prev[z]=se<=h?h-se:0,--S;);m+=se}if(b.strm.avail_in===0)break;if(O=b.strm,L=b.window,$=b.strstart+b.lookahead,oe=m,ae=void 0,ae=O.avail_in,oe<ae&&(ae=oe),S=ae===0?0:(O.avail_in-=ae,s.arraySet(L,O.input,O.next_in,ae,$),O.state.wrap===1?O.adler=l(O.adler,L,ae,$):O.state.wrap===2&&(O.adler=c(O.adler,L,ae,$)),O.next_in+=ae,O.total_in+=ae,ae),b.lookahead+=S,b.lookahead+b.insert>=P)for(E=b.strstart-b.insert,b.ins_h=b.window[E],b.ins_h=(b.ins_h<<b.hash_shift^b.window[E+1])&b.hash_mask;b.insert&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[E+P-1])&b.hash_mask,b.prev[E&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=E,E++,b.insert--,!(b.lookahead+b.insert<P)););}while(b.lookahead<fe&&b.strm.avail_in!==0)}function N(b,z){for(var S,h;;){if(b.lookahead<fe){if(q(b),b.lookahead<fe&&z===d)return I;if(b.lookahead===0)break}if(S=0,b.lookahead>=P&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+P-1])&b.hash_mask,S=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),S!==0&&b.strstart-S<=b.w_size-fe&&(b.match_length=Q(b,S)),b.match_length>=P)if(h=a._tr_tally(b,b.strstart-b.match_start,b.match_length-P),b.lookahead-=b.match_length,b.match_length<=b.max_lazy_match&&b.lookahead>=P){for(b.match_length--;b.strstart++,b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+P-1])&b.hash_mask,S=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart,--b.match_length!=0;);b.strstart++}else b.strstart+=b.match_length,b.match_length=0,b.ins_h=b.window[b.strstart],b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+1])&b.hash_mask;else h=a._tr_tally(b,0,b.window[b.strstart]),b.lookahead--,b.strstart++;if(h&&(F(b,!1),b.strm.avail_out===0))return I}return b.insert=b.strstart<P-1?b.strstart:P-1,z===p?(F(b,!0),b.strm.avail_out===0?me:X):b.last_lit&&(F(b,!1),b.strm.avail_out===0)?I:ne}function A(b,z){for(var S,h,m;;){if(b.lookahead<fe){if(q(b),b.lookahead<fe&&z===d)return I;if(b.lookahead===0)break}if(S=0,b.lookahead>=P&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+P-1])&b.hash_mask,S=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),b.prev_length=b.match_length,b.prev_match=b.match_start,b.match_length=P-1,S!==0&&b.prev_length<b.max_lazy_match&&b.strstart-S<=b.w_size-fe&&(b.match_length=Q(b,S),b.match_length<=5&&(b.strategy===1||b.match_length===P&&4096<b.strstart-b.match_start)&&(b.match_length=P-1)),b.prev_length>=P&&b.match_length<=b.prev_length){for(m=b.strstart+b.lookahead-P,h=a._tr_tally(b,b.strstart-1-b.prev_match,b.prev_length-P),b.lookahead-=b.prev_length-1,b.prev_length-=2;++b.strstart<=m&&(b.ins_h=(b.ins_h<<b.hash_shift^b.window[b.strstart+P-1])&b.hash_mask,S=b.prev[b.strstart&b.w_mask]=b.head[b.ins_h],b.head[b.ins_h]=b.strstart),--b.prev_length!=0;);if(b.match_available=0,b.match_length=P-1,b.strstart++,h&&(F(b,!1),b.strm.avail_out===0))return I}else if(b.match_available){if((h=a._tr_tally(b,0,b.window[b.strstart-1]))&&F(b,!1),b.strstart++,b.lookahead--,b.strm.avail_out===0)return I}else b.match_available=1,b.strstart++,b.lookahead--}return b.match_available&&(h=a._tr_tally(b,0,b.window[b.strstart-1]),b.match_available=0),b.insert=b.strstart<P-1?b.strstart:P-1,z===p?(F(b,!0),b.strm.avail_out===0?me:X):b.last_lit&&(F(b,!1),b.strm.avail_out===0)?I:ne}function G(b,z,S,h,m){this.good_length=b,this.max_lazy=z,this.nice_length=S,this.max_chain=h,this.func=m}function j(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*V),this.dyn_dtree=new s.Buf16(2*(2*M+1)),this.bl_tree=new s.Buf16(2*(2*J+1)),be(this.dyn_ltree),be(this.dyn_dtree),be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(W+1),this.heap=new s.Buf16(2*D+1),be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*D+1),be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(b){var z;return b&&b.state?(b.total_in=b.total_out=0,b.data_type=w,(z=b.state).pending=0,z.pending_out=0,z.wrap<0&&(z.wrap=-z.wrap),z.status=z.wrap?B:Z,b.adler=z.wrap===2?0:1,z.last_flush=d,a._tr_init(z),f):pe(b,g)}function C(b){var z=k(b);return z===f&&function(S){S.window_size=2*S.w_size,be(S.head),S.max_lazy_match=n[S.level].max_lazy,S.good_match=n[S.level].good_length,S.nice_match=n[S.level].nice_length,S.max_chain_length=n[S.level].max_chain,S.strstart=0,S.block_start=0,S.lookahead=0,S.insert=0,S.match_length=S.prev_length=P-1,S.match_available=0,S.ins_h=0}(b.state),z}function R(b,z,S,h,m,E){if(!b)return g;var O=1;if(z===y&&(z=6),h<0?(O=0,h=-h):15<h&&(O=2,h-=16),m<1||x<m||S!==_||h<8||15<h||z<0||9<z||E<0||T<E)return pe(b,g);h===8&&(h=9);var L=new j;return(b.state=L).strm=b,L.wrap=O,L.gzhead=null,L.w_bits=h,L.w_size=1<<L.w_bits,L.w_mask=L.w_size-1,L.hash_bits=m+7,L.hash_size=1<<L.hash_bits,L.hash_mask=L.hash_size-1,L.hash_shift=~~((L.hash_bits+P-1)/P),L.window=new s.Buf8(2*L.w_size),L.head=new s.Buf16(L.hash_size),L.prev=new s.Buf16(L.w_size),L.lit_bufsize=1<<m+6,L.pending_buf_size=4*L.lit_bufsize,L.pending_buf=new s.Buf8(L.pending_buf_size),L.d_buf=1*L.lit_bufsize,L.l_buf=3*L.lit_bufsize,L.level=z,L.strategy=E,L.method=S,C(b)}n=[new G(0,0,0,0,function(b,z){var S=65535;for(S>b.pending_buf_size-5&&(S=b.pending_buf_size-5);;){if(b.lookahead<=1){if(q(b),b.lookahead===0&&z===d)return I;if(b.lookahead===0)break}b.strstart+=b.lookahead,b.lookahead=0;var h=b.block_start+S;if((b.strstart===0||b.strstart>=h)&&(b.lookahead=b.strstart-h,b.strstart=h,F(b,!1),b.strm.avail_out===0)||b.strstart-b.block_start>=b.w_size-fe&&(F(b,!1),b.strm.avail_out===0))return I}return b.insert=0,z===p?(F(b,!0),b.strm.avail_out===0?me:X):(b.strstart>b.block_start&&(F(b,!1),b.strm.avail_out),I)}),new G(4,4,8,4,N),new G(4,5,16,8,N),new G(4,6,32,32,N),new G(4,4,16,16,A),new G(8,16,32,32,A),new G(8,16,128,128,A),new G(8,32,128,256,A),new G(32,128,258,1024,A),new G(32,258,258,4096,A)],r.deflateInit=function(b,z){return R(b,z,_,15,8,0)},r.deflateInit2=R,r.deflateReset=C,r.deflateResetKeep=k,r.deflateSetHeader=function(b,z){return b&&b.state?b.state.wrap!==2?g:(b.state.gzhead=z,f):g},r.deflate=function(b,z){var S,h,m,E;if(!b||!b.state||5<z||z<0)return b?pe(b,g):g;if(h=b.state,!b.output||!b.input&&b.avail_in!==0||h.status===666&&z!==p)return pe(b,b.avail_out===0?-5:g);if(h.strm=b,S=h.last_flush,h.last_flush=z,h.status===B)if(h.wrap===2)b.adler=0,te(h,31),te(h,139),te(h,8),h.gzhead?(te(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),te(h,255&h.gzhead.time),te(h,h.gzhead.time>>8&255),te(h,h.gzhead.time>>16&255),te(h,h.gzhead.time>>24&255),te(h,h.level===9?2:2<=h.strategy||h.level<2?4:0),te(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(te(h,255&h.gzhead.extra.length),te(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(b.adler=c(b.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=69):(te(h,0),te(h,0),te(h,0),te(h,0),te(h,0),te(h,h.level===9?2:2<=h.strategy||h.level<2?4:0),te(h,3),h.status=Z);else{var O=_+(h.w_bits-8<<4)<<8;O|=(2<=h.strategy||h.level<2?0:h.level<6?1:h.level===6?2:3)<<6,h.strstart!==0&&(O|=32),O+=31-O%31,h.status=Z,re(h,O),h.strstart!==0&&(re(h,b.adler>>>16),re(h,65535&b.adler)),b.adler=1}if(h.status===69)if(h.gzhead.extra){for(m=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>m&&(b.adler=c(b.adler,h.pending_buf,h.pending-m,m)),ee(b),m=h.pending,h.pending!==h.pending_buf_size));)te(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>m&&(b.adler=c(b.adler,h.pending_buf,h.pending-m,m)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=73)}else h.status=73;if(h.status===73)if(h.gzhead.name){m=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>m&&(b.adler=c(b.adler,h.pending_buf,h.pending-m,m)),ee(b),m=h.pending,h.pending===h.pending_buf_size)){E=1;break}E=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,te(h,E)}while(E!==0);h.gzhead.hcrc&&h.pending>m&&(b.adler=c(b.adler,h.pending_buf,h.pending-m,m)),E===0&&(h.gzindex=0,h.status=91)}else h.status=91;if(h.status===91)if(h.gzhead.comment){m=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>m&&(b.adler=c(b.adler,h.pending_buf,h.pending-m,m)),ee(b),m=h.pending,h.pending===h.pending_buf_size)){E=1;break}E=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,te(h,E)}while(E!==0);h.gzhead.hcrc&&h.pending>m&&(b.adler=c(b.adler,h.pending_buf,h.pending-m,m)),E===0&&(h.status=103)}else h.status=103;if(h.status===103&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&ee(b),h.pending+2<=h.pending_buf_size&&(te(h,255&b.adler),te(h,b.adler>>8&255),b.adler=0,h.status=Z)):h.status=Z),h.pending!==0){if(ee(b),b.avail_out===0)return h.last_flush=-1,f}else if(b.avail_in===0&&le(z)<=le(S)&&z!==p)return pe(b,-5);if(h.status===666&&b.avail_in!==0)return pe(b,-5);if(b.avail_in!==0||h.lookahead!==0||z!==d&&h.status!==666){var L=h.strategy===2?function($,oe){for(var ae;;){if($.lookahead===0&&(q($),$.lookahead===0)){if(oe===d)return I;break}if($.match_length=0,ae=a._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,ae&&(F($,!1),$.strm.avail_out===0))return I}return $.insert=0,oe===p?(F($,!0),$.strm.avail_out===0?me:X):$.last_lit&&(F($,!1),$.strm.avail_out===0)?I:ne}(h,z):h.strategy===3?function($,oe){for(var ae,se,Ee,xe,Ie=$.window;;){if($.lookahead<=ie){if(q($),$.lookahead<=ie&&oe===d)return I;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=P&&0<$.strstart&&(se=Ie[Ee=$.strstart-1])===Ie[++Ee]&&se===Ie[++Ee]&&se===Ie[++Ee]){xe=$.strstart+ie;do;while(se===Ie[++Ee]&&se===Ie[++Ee]&&se===Ie[++Ee]&&se===Ie[++Ee]&&se===Ie[++Ee]&&se===Ie[++Ee]&&se===Ie[++Ee]&&se===Ie[++Ee]&&Ee<xe);$.match_length=ie-(xe-Ee),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=P?(ae=a._tr_tally($,1,$.match_length-P),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(ae=a._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),ae&&(F($,!1),$.strm.avail_out===0))return I}return $.insert=0,oe===p?(F($,!0),$.strm.avail_out===0?me:X):$.last_lit&&(F($,!1),$.strm.avail_out===0)?I:ne}(h,z):n[h.level].func(h,z);if(L!==me&&L!==X||(h.status=666),L===I||L===me)return b.avail_out===0&&(h.last_flush=-1),f;if(L===ne&&(z===1?a._tr_align(h):z!==5&&(a._tr_stored_block(h,0,0,!1),z===3&&(be(h.head),h.lookahead===0&&(h.strstart=0,h.block_start=0,h.insert=0))),ee(b),b.avail_out===0))return h.last_flush=-1,f}return z!==p?f:h.wrap<=0?1:(h.wrap===2?(te(h,255&b.adler),te(h,b.adler>>8&255),te(h,b.adler>>16&255),te(h,b.adler>>24&255),te(h,255&b.total_in),te(h,b.total_in>>8&255),te(h,b.total_in>>16&255),te(h,b.total_in>>24&255)):(re(h,b.adler>>>16),re(h,65535&b.adler)),ee(b),0<h.wrap&&(h.wrap=-h.wrap),h.pending!==0?f:1)},r.deflateEnd=function(b){var z;return b&&b.state?(z=b.state.status)!==B&&z!==69&&z!==73&&z!==91&&z!==103&&z!==Z&&z!==666?pe(b,g):(b.state=null,z===Z?pe(b,-3):f):g},r.deflateSetDictionary=function(b,z){var S,h,m,E,O,L,$,oe,ae=z.length;if(!b||!b.state||(E=(S=b.state).wrap)===2||E===1&&S.status!==B||S.lookahead)return g;for(E===1&&(b.adler=l(b.adler,z,ae,0)),S.wrap=0,ae>=S.w_size&&(E===0&&(be(S.head),S.strstart=0,S.block_start=0,S.insert=0),oe=new s.Buf8(S.w_size),s.arraySet(oe,z,ae-S.w_size,S.w_size,0),z=oe,ae=S.w_size),O=b.avail_in,L=b.next_in,$=b.input,b.avail_in=ae,b.next_in=0,b.input=z,q(S);S.lookahead>=P;){for(h=S.strstart,m=S.lookahead-(P-1);S.ins_h=(S.ins_h<<S.hash_shift^S.window[h+P-1])&S.hash_mask,S.prev[h&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=h,h++,--m;);S.strstart=h,S.lookahead=P-1,q(S)}return S.strstart+=S.lookahead,S.block_start=S.strstart,S.insert=S.lookahead,S.lookahead=0,S.match_length=S.prev_length=P-1,S.match_available=0,b.next_in=L,b.input=$,b.avail_in=O,S.wrap=E,f},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,i,r){i.exports=function(n,s){var a,l,c,u,d,p,f,g,y,T,w,_,x,D,M,J,V,W,P,ie,fe,B,Z,I,ne;a=n.state,l=n.next_in,I=n.input,c=l+(n.avail_in-5),u=n.next_out,ne=n.output,d=u-(s-n.avail_out),p=u+(n.avail_out-257),f=a.dmax,g=a.wsize,y=a.whave,T=a.wnext,w=a.window,_=a.hold,x=a.bits,D=a.lencode,M=a.distcode,J=(1<<a.lenbits)-1,V=(1<<a.distbits)-1;e:do{x<15&&(_+=I[l++]<<x,x+=8,_+=I[l++]<<x,x+=8),W=D[_&J];t:for(;;){if(_>>>=P=W>>>24,x-=P,(P=W>>>16&255)===0)ne[u++]=65535&W;else{if(!(16&P)){if(!(64&P)){W=D[(65535&W)+(_&(1<<P)-1)];continue t}if(32&P){a.mode=12;break e}n.msg="invalid literal/length code",a.mode=30;break e}ie=65535&W,(P&=15)&&(x<P&&(_+=I[l++]<<x,x+=8),ie+=_&(1<<P)-1,_>>>=P,x-=P),x<15&&(_+=I[l++]<<x,x+=8,_+=I[l++]<<x,x+=8),W=M[_&V];o:for(;;){if(_>>>=P=W>>>24,x-=P,!(16&(P=W>>>16&255))){if(!(64&P)){W=M[(65535&W)+(_&(1<<P)-1)];continue o}n.msg="invalid distance code",a.mode=30;break e}if(fe=65535&W,x<(P&=15)&&(_+=I[l++]<<x,(x+=8)<P&&(_+=I[l++]<<x,x+=8)),f<(fe+=_&(1<<P)-1)){n.msg="invalid distance too far back",a.mode=30;break e}if(_>>>=P,x-=P,(P=u-d)<fe){if(y<(P=fe-P)&&a.sane){n.msg="invalid distance too far back",a.mode=30;break e}if(Z=w,(B=0)===T){if(B+=g-P,P<ie){for(ie-=P;ne[u++]=w[B++],--P;);B=u-fe,Z=ne}}else if(T<P){if(B+=g+T-P,(P-=T)<ie){for(ie-=P;ne[u++]=w[B++],--P;);if(B=0,T<ie){for(ie-=P=T;ne[u++]=w[B++],--P;);B=u-fe,Z=ne}}}else if(B+=T-P,P<ie){for(ie-=P;ne[u++]=w[B++],--P;);B=u-fe,Z=ne}for(;2<ie;)ne[u++]=Z[B++],ne[u++]=Z[B++],ne[u++]=Z[B++],ie-=3;ie&&(ne[u++]=Z[B++],1<ie&&(ne[u++]=Z[B++]))}else{for(B=u-fe;ne[u++]=ne[B++],ne[u++]=ne[B++],ne[u++]=ne[B++],2<(ie-=3););ie&&(ne[u++]=ne[B++],1<ie&&(ne[u++]=ne[B++]))}break}}break}}while(l<c&&u<p);l-=ie=x>>3,_&=(1<<(x-=ie<<3))-1,n.next_in=l,n.next_out=u,n.avail_in=l<c?c-l+5:5-(l-c),n.avail_out=u<p?p-u+257:257-(u-p),a.hold=_,a.bits=x}},{}],49:[function(o,i,r){var n=o("../utils/common"),s=o("./adler32"),a=o("./crc32"),l=o("./inffast"),c=o("./inftrees"),u=1,d=2,p=0,f=-2,g=1,y=852,T=592;function w(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(B){var Z;return B&&B.state?(Z=B.state,B.total_in=B.total_out=Z.total=0,B.msg="",Z.wrap&&(B.adler=1&Z.wrap),Z.mode=g,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new n.Buf32(y),Z.distcode=Z.distdyn=new n.Buf32(T),Z.sane=1,Z.back=-1,p):f}function D(B){var Z;return B&&B.state?((Z=B.state).wsize=0,Z.whave=0,Z.wnext=0,x(B)):f}function M(B,Z){var I,ne;return B&&B.state?(ne=B.state,Z<0?(I=0,Z=-Z):(I=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?f:(ne.window!==null&&ne.wbits!==Z&&(ne.window=null),ne.wrap=I,ne.wbits=Z,D(B))):f}function J(B,Z){var I,ne;return B?(ne=new _,(B.state=ne).window=null,(I=M(B,Z))!==p&&(B.state=null),I):f}var V,W,P=!0;function ie(B){if(P){var Z;for(V=new n.Buf32(512),W=new n.Buf32(32),Z=0;Z<144;)B.lens[Z++]=8;for(;Z<256;)B.lens[Z++]=9;for(;Z<280;)B.lens[Z++]=7;for(;Z<288;)B.lens[Z++]=8;for(c(u,B.lens,0,288,V,0,B.work,{bits:9}),Z=0;Z<32;)B.lens[Z++]=5;c(d,B.lens,0,32,W,0,B.work,{bits:5}),P=!1}B.lencode=V,B.lenbits=9,B.distcode=W,B.distbits=5}function fe(B,Z,I,ne){var me,X=B.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new n.Buf8(X.wsize)),ne>=X.wsize?(n.arraySet(X.window,Z,I-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(ne<(me=X.wsize-X.wnext)&&(me=ne),n.arraySet(X.window,Z,I-ne,me,X.wnext),(ne-=me)?(n.arraySet(X.window,Z,I-ne,ne,0),X.wnext=ne,X.whave=X.wsize):(X.wnext+=me,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=me))),0}r.inflateReset=D,r.inflateReset2=M,r.inflateResetKeep=x,r.inflateInit=function(B){return J(B,15)},r.inflateInit2=J,r.inflate=function(B,Z){var I,ne,me,X,pe,le,be,ee,F,te,re,Q,q,N,A,G,j,k,C,R,b,z,S,h,m=0,E=new n.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return f;(I=B.state).mode===12&&(I.mode=13),pe=B.next_out,me=B.output,be=B.avail_out,X=B.next_in,ne=B.input,le=B.avail_in,ee=I.hold,F=I.bits,te=le,re=be,z=p;e:for(;;)switch(I.mode){case g:if(I.wrap===0){I.mode=13;break}for(;F<16;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}if(2&I.wrap&&ee===35615){E[I.check=0]=255&ee,E[1]=ee>>>8&255,I.check=a(I.check,E,2,0),F=ee=0,I.mode=2;break}if(I.flags=0,I.head&&(I.head.done=!1),!(1&I.wrap)||(((255&ee)<<8)+(ee>>8))%31){B.msg="incorrect header check",I.mode=30;break}if((15&ee)!=8){B.msg="unknown compression method",I.mode=30;break}if(F-=4,b=8+(15&(ee>>>=4)),I.wbits===0)I.wbits=b;else if(b>I.wbits){B.msg="invalid window size",I.mode=30;break}I.dmax=1<<b,B.adler=I.check=1,I.mode=512&ee?10:12,F=ee=0;break;case 2:for(;F<16;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}if(I.flags=ee,(255&I.flags)!=8){B.msg="unknown compression method",I.mode=30;break}if(57344&I.flags){B.msg="unknown header flags set",I.mode=30;break}I.head&&(I.head.text=ee>>8&1),512&I.flags&&(E[0]=255&ee,E[1]=ee>>>8&255,I.check=a(I.check,E,2,0)),F=ee=0,I.mode=3;case 3:for(;F<32;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}I.head&&(I.head.time=ee),512&I.flags&&(E[0]=255&ee,E[1]=ee>>>8&255,E[2]=ee>>>16&255,E[3]=ee>>>24&255,I.check=a(I.check,E,4,0)),F=ee=0,I.mode=4;case 4:for(;F<16;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}I.head&&(I.head.xflags=255&ee,I.head.os=ee>>8),512&I.flags&&(E[0]=255&ee,E[1]=ee>>>8&255,I.check=a(I.check,E,2,0)),F=ee=0,I.mode=5;case 5:if(1024&I.flags){for(;F<16;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}I.length=ee,I.head&&(I.head.extra_len=ee),512&I.flags&&(E[0]=255&ee,E[1]=ee>>>8&255,I.check=a(I.check,E,2,0)),F=ee=0}else I.head&&(I.head.extra=null);I.mode=6;case 6:if(1024&I.flags&&(le<(Q=I.length)&&(Q=le),Q&&(I.head&&(b=I.head.extra_len-I.length,I.head.extra||(I.head.extra=new Array(I.head.extra_len)),n.arraySet(I.head.extra,ne,X,Q,b)),512&I.flags&&(I.check=a(I.check,ne,Q,X)),le-=Q,X+=Q,I.length-=Q),I.length))break e;I.length=0,I.mode=7;case 7:if(2048&I.flags){if(le===0)break e;for(Q=0;b=ne[X+Q++],I.head&&b&&I.length<65536&&(I.head.name+=String.fromCharCode(b)),b&&Q<le;);if(512&I.flags&&(I.check=a(I.check,ne,Q,X)),le-=Q,X+=Q,b)break e}else I.head&&(I.head.name=null);I.length=0,I.mode=8;case 8:if(4096&I.flags){if(le===0)break e;for(Q=0;b=ne[X+Q++],I.head&&b&&I.length<65536&&(I.head.comment+=String.fromCharCode(b)),b&&Q<le;);if(512&I.flags&&(I.check=a(I.check,ne,Q,X)),le-=Q,X+=Q,b)break e}else I.head&&(I.head.comment=null);I.mode=9;case 9:if(512&I.flags){for(;F<16;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}if(ee!==(65535&I.check)){B.msg="header crc mismatch",I.mode=30;break}F=ee=0}I.head&&(I.head.hcrc=I.flags>>9&1,I.head.done=!0),B.adler=I.check=0,I.mode=12;break;case 10:for(;F<32;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}B.adler=I.check=w(ee),F=ee=0,I.mode=11;case 11:if(I.havedict===0)return B.next_out=pe,B.avail_out=be,B.next_in=X,B.avail_in=le,I.hold=ee,I.bits=F,2;B.adler=I.check=1,I.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(I.last){ee>>>=7&F,F-=7&F,I.mode=27;break}for(;F<3;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}switch(I.last=1&ee,F-=1,3&(ee>>>=1)){case 0:I.mode=14;break;case 1:if(ie(I),I.mode=20,Z!==6)break;ee>>>=2,F-=2;break e;case 2:I.mode=17;break;case 3:B.msg="invalid block type",I.mode=30}ee>>>=2,F-=2;break;case 14:for(ee>>>=7&F,F-=7&F;F<32;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}if((65535&ee)!=(ee>>>16^65535)){B.msg="invalid stored block lengths",I.mode=30;break}if(I.length=65535&ee,F=ee=0,I.mode=15,Z===6)break e;case 15:I.mode=16;case 16:if(Q=I.length){if(le<Q&&(Q=le),be<Q&&(Q=be),Q===0)break e;n.arraySet(me,ne,X,Q,pe),le-=Q,X+=Q,be-=Q,pe+=Q,I.length-=Q;break}I.mode=12;break;case 17:for(;F<14;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}if(I.nlen=257+(31&ee),ee>>>=5,F-=5,I.ndist=1+(31&ee),ee>>>=5,F-=5,I.ncode=4+(15&ee),ee>>>=4,F-=4,286<I.nlen||30<I.ndist){B.msg="too many length or distance symbols",I.mode=30;break}I.have=0,I.mode=18;case 18:for(;I.have<I.ncode;){for(;F<3;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}I.lens[O[I.have++]]=7&ee,ee>>>=3,F-=3}for(;I.have<19;)I.lens[O[I.have++]]=0;if(I.lencode=I.lendyn,I.lenbits=7,S={bits:I.lenbits},z=c(0,I.lens,0,19,I.lencode,0,I.work,S),I.lenbits=S.bits,z){B.msg="invalid code lengths set",I.mode=30;break}I.have=0,I.mode=19;case 19:for(;I.have<I.nlen+I.ndist;){for(;G=(m=I.lencode[ee&(1<<I.lenbits)-1])>>>16&255,j=65535&m,!((A=m>>>24)<=F);){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}if(j<16)ee>>>=A,F-=A,I.lens[I.have++]=j;else{if(j===16){for(h=A+2;F<h;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}if(ee>>>=A,F-=A,I.have===0){B.msg="invalid bit length repeat",I.mode=30;break}b=I.lens[I.have-1],Q=3+(3&ee),ee>>>=2,F-=2}else if(j===17){for(h=A+3;F<h;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}F-=A,b=0,Q=3+(7&(ee>>>=A)),ee>>>=3,F-=3}else{for(h=A+7;F<h;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}F-=A,b=0,Q=11+(127&(ee>>>=A)),ee>>>=7,F-=7}if(I.have+Q>I.nlen+I.ndist){B.msg="invalid bit length repeat",I.mode=30;break}for(;Q--;)I.lens[I.have++]=b}}if(I.mode===30)break;if(I.lens[256]===0){B.msg="invalid code -- missing end-of-block",I.mode=30;break}if(I.lenbits=9,S={bits:I.lenbits},z=c(u,I.lens,0,I.nlen,I.lencode,0,I.work,S),I.lenbits=S.bits,z){B.msg="invalid literal/lengths set",I.mode=30;break}if(I.distbits=6,I.distcode=I.distdyn,S={bits:I.distbits},z=c(d,I.lens,I.nlen,I.ndist,I.distcode,0,I.work,S),I.distbits=S.bits,z){B.msg="invalid distances set",I.mode=30;break}if(I.mode=20,Z===6)break e;case 20:I.mode=21;case 21:if(6<=le&&258<=be){B.next_out=pe,B.avail_out=be,B.next_in=X,B.avail_in=le,I.hold=ee,I.bits=F,l(B,re),pe=B.next_out,me=B.output,be=B.avail_out,X=B.next_in,ne=B.input,le=B.avail_in,ee=I.hold,F=I.bits,I.mode===12&&(I.back=-1);break}for(I.back=0;G=(m=I.lencode[ee&(1<<I.lenbits)-1])>>>16&255,j=65535&m,!((A=m>>>24)<=F);){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}if(G&&!(240&G)){for(k=A,C=G,R=j;G=(m=I.lencode[R+((ee&(1<<k+C)-1)>>k)])>>>16&255,j=65535&m,!(k+(A=m>>>24)<=F);){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}ee>>>=k,F-=k,I.back+=k}if(ee>>>=A,F-=A,I.back+=A,I.length=j,G===0){I.mode=26;break}if(32&G){I.back=-1,I.mode=12;break}if(64&G){B.msg="invalid literal/length code",I.mode=30;break}I.extra=15&G,I.mode=22;case 22:if(I.extra){for(h=I.extra;F<h;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}I.length+=ee&(1<<I.extra)-1,ee>>>=I.extra,F-=I.extra,I.back+=I.extra}I.was=I.length,I.mode=23;case 23:for(;G=(m=I.distcode[ee&(1<<I.distbits)-1])>>>16&255,j=65535&m,!((A=m>>>24)<=F);){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}if(!(240&G)){for(k=A,C=G,R=j;G=(m=I.distcode[R+((ee&(1<<k+C)-1)>>k)])>>>16&255,j=65535&m,!(k+(A=m>>>24)<=F);){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}ee>>>=k,F-=k,I.back+=k}if(ee>>>=A,F-=A,I.back+=A,64&G){B.msg="invalid distance code",I.mode=30;break}I.offset=j,I.extra=15&G,I.mode=24;case 24:if(I.extra){for(h=I.extra;F<h;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}I.offset+=ee&(1<<I.extra)-1,ee>>>=I.extra,F-=I.extra,I.back+=I.extra}if(I.offset>I.dmax){B.msg="invalid distance too far back",I.mode=30;break}I.mode=25;case 25:if(be===0)break e;if(Q=re-be,I.offset>Q){if((Q=I.offset-Q)>I.whave&&I.sane){B.msg="invalid distance too far back",I.mode=30;break}q=Q>I.wnext?(Q-=I.wnext,I.wsize-Q):I.wnext-Q,Q>I.length&&(Q=I.length),N=I.window}else N=me,q=pe-I.offset,Q=I.length;for(be<Q&&(Q=be),be-=Q,I.length-=Q;me[pe++]=N[q++],--Q;);I.length===0&&(I.mode=21);break;case 26:if(be===0)break e;me[pe++]=I.length,be--,I.mode=21;break;case 27:if(I.wrap){for(;F<32;){if(le===0)break e;le--,ee|=ne[X++]<<F,F+=8}if(re-=be,B.total_out+=re,I.total+=re,re&&(B.adler=I.check=I.flags?a(I.check,me,re,pe-re):s(I.check,me,re,pe-re)),re=be,(I.flags?ee:w(ee))!==I.check){B.msg="incorrect data check",I.mode=30;break}F=ee=0}I.mode=28;case 28:if(I.wrap&&I.flags){for(;F<32;){if(le===0)break e;le--,ee+=ne[X++]<<F,F+=8}if(ee!==(4294967295&I.total)){B.msg="incorrect length check",I.mode=30;break}F=ee=0}I.mode=29;case 29:z=1;break e;case 30:z=-3;break e;case 31:return-4;case 32:default:return f}return B.next_out=pe,B.avail_out=be,B.next_in=X,B.avail_in=le,I.hold=ee,I.bits=F,(I.wsize||re!==B.avail_out&&I.mode<30&&(I.mode<27||Z!==4))&&fe(B,B.output,B.next_out,re-B.avail_out)?(I.mode=31,-4):(te-=B.avail_in,re-=B.avail_out,B.total_in+=te,B.total_out+=re,I.total+=re,I.wrap&&re&&(B.adler=I.check=I.flags?a(I.check,me,re,B.next_out-re):s(I.check,me,re,B.next_out-re)),B.data_type=I.bits+(I.last?64:0)+(I.mode===12?128:0)+(I.mode===20||I.mode===15?256:0),(te==0&&re===0||Z===4)&&z===p&&(z=-5),z)},r.inflateEnd=function(B){if(!B||!B.state)return f;var Z=B.state;return Z.window&&(Z.window=null),B.state=null,p},r.inflateGetHeader=function(B,Z){var I;return B&&B.state&&2&(I=B.state).wrap?((I.head=Z).done=!1,p):f},r.inflateSetDictionary=function(B,Z){var I,ne=Z.length;return B&&B.state?(I=B.state).wrap!==0&&I.mode!==11?f:I.mode===11&&s(1,Z,ne,0)!==I.check?-3:fe(B,Z,ne,ne)?(I.mode=31,-4):(I.havedict=1,p):f},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,i,r){var n=o("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(u,d,p,f,g,y,T,w){var _,x,D,M,J,V,W,P,ie,fe=w.bits,B=0,Z=0,I=0,ne=0,me=0,X=0,pe=0,le=0,be=0,ee=0,F=null,te=0,re=new n.Buf16(16),Q=new n.Buf16(16),q=null,N=0;for(B=0;B<=15;B++)re[B]=0;for(Z=0;Z<f;Z++)re[d[p+Z]]++;for(me=fe,ne=15;1<=ne&&re[ne]===0;ne--);if(ne<me&&(me=ne),ne===0)return g[y++]=20971520,g[y++]=20971520,w.bits=1,0;for(I=1;I<ne&&re[I]===0;I++);for(me<I&&(me=I),B=le=1;B<=15;B++)if(le<<=1,(le-=re[B])<0)return-1;if(0<le&&(u===0||ne!==1))return-1;for(Q[1]=0,B=1;B<15;B++)Q[B+1]=Q[B]+re[B];for(Z=0;Z<f;Z++)d[p+Z]!==0&&(T[Q[d[p+Z]]++]=Z);if(V=u===0?(F=q=T,19):u===1?(F=s,te-=257,q=a,N-=257,256):(F=l,q=c,-1),B=I,J=y,pe=Z=ee=0,D=-1,M=(be=1<<(X=me))-1,u===1&&852<be||u===2&&592<be)return 1;for(;;){for(W=B-pe,ie=T[Z]<V?(P=0,T[Z]):T[Z]>V?(P=q[N+T[Z]],F[te+T[Z]]):(P=96,0),_=1<<B-pe,I=x=1<<X;g[J+(ee>>pe)+(x-=_)]=W<<24|P<<16|ie|0,x!==0;);for(_=1<<B-1;ee&_;)_>>=1;if(_!==0?(ee&=_-1,ee+=_):ee=0,Z++,--re[B]==0){if(B===ne)break;B=d[p+T[Z]]}if(me<B&&(ee&M)!==D){for(pe===0&&(pe=me),J+=I,le=1<<(X=B-pe);X+pe<ne&&!((le-=re[X+pe])<=0);)X++,le<<=1;if(be+=1<<X,u===1&&852<be||u===2&&592<be)return 1;g[D=ee&M]=me<<24|X<<16|J-y|0}}return ee!==0&&(g[J+ee]=B-pe<<24|64<<16|0),w.bits=me,0}},{"../utils/common":41}],51:[function(o,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,i,r){var n=o("../utils/common"),s=0,a=1;function l(m){for(var E=m.length;0<=--E;)m[E]=0}var c=0,u=29,d=256,p=d+1+u,f=30,g=19,y=2*p+1,T=15,w=16,_=7,x=256,D=16,M=17,J=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ie=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],fe=new Array(2*(p+2));l(fe);var B=new Array(2*f);l(B);var Z=new Array(512);l(Z);var I=new Array(256);l(I);var ne=new Array(u);l(ne);var me,X,pe,le=new Array(f);function be(m,E,O,L,$){this.static_tree=m,this.extra_bits=E,this.extra_base=O,this.elems=L,this.max_length=$,this.has_stree=m&&m.length}function ee(m,E){this.dyn_tree=m,this.max_code=0,this.stat_desc=E}function F(m){return m<256?Z[m]:Z[256+(m>>>7)]}function te(m,E){m.pending_buf[m.pending++]=255&E,m.pending_buf[m.pending++]=E>>>8&255}function re(m,E,O){m.bi_valid>w-O?(m.bi_buf|=E<<m.bi_valid&65535,te(m,m.bi_buf),m.bi_buf=E>>w-m.bi_valid,m.bi_valid+=O-w):(m.bi_buf|=E<<m.bi_valid&65535,m.bi_valid+=O)}function Q(m,E,O){re(m,O[2*E],O[2*E+1])}function q(m,E){for(var O=0;O|=1&m,m>>>=1,O<<=1,0<--E;);return O>>>1}function N(m,E,O){var L,$,oe=new Array(T+1),ae=0;for(L=1;L<=T;L++)oe[L]=ae=ae+O[L-1]<<1;for($=0;$<=E;$++){var se=m[2*$+1];se!==0&&(m[2*$]=q(oe[se]++,se))}}function A(m){var E;for(E=0;E<p;E++)m.dyn_ltree[2*E]=0;for(E=0;E<f;E++)m.dyn_dtree[2*E]=0;for(E=0;E<g;E++)m.bl_tree[2*E]=0;m.dyn_ltree[2*x]=1,m.opt_len=m.static_len=0,m.last_lit=m.matches=0}function G(m){8<m.bi_valid?te(m,m.bi_buf):0<m.bi_valid&&(m.pending_buf[m.pending++]=m.bi_buf),m.bi_buf=0,m.bi_valid=0}function j(m,E,O,L){var $=2*E,oe=2*O;return m[$]<m[oe]||m[$]===m[oe]&&L[E]<=L[O]}function k(m,E,O){for(var L=m.heap[O],$=O<<1;$<=m.heap_len&&($<m.heap_len&&j(E,m.heap[$+1],m.heap[$],m.depth)&&$++,!j(E,L,m.heap[$],m.depth));)m.heap[O]=m.heap[$],O=$,$<<=1;m.heap[O]=L}function C(m,E,O){var L,$,oe,ae,se=0;if(m.last_lit!==0)for(;L=m.pending_buf[m.d_buf+2*se]<<8|m.pending_buf[m.d_buf+2*se+1],$=m.pending_buf[m.l_buf+se],se++,L===0?Q(m,$,E):(Q(m,(oe=I[$])+d+1,E),(ae=V[oe])!==0&&re(m,$-=ne[oe],ae),Q(m,oe=F(--L),O),(ae=W[oe])!==0&&re(m,L-=le[oe],ae)),se<m.last_lit;);Q(m,x,E)}function R(m,E){var O,L,$,oe=E.dyn_tree,ae=E.stat_desc.static_tree,se=E.stat_desc.has_stree,Ee=E.stat_desc.elems,xe=-1;for(m.heap_len=0,m.heap_max=y,O=0;O<Ee;O++)oe[2*O]!==0?(m.heap[++m.heap_len]=xe=O,m.depth[O]=0):oe[2*O+1]=0;for(;m.heap_len<2;)oe[2*($=m.heap[++m.heap_len]=xe<2?++xe:0)]=1,m.depth[$]=0,m.opt_len--,se&&(m.static_len-=ae[2*$+1]);for(E.max_code=xe,O=m.heap_len>>1;1<=O;O--)k(m,oe,O);for($=Ee;O=m.heap[1],m.heap[1]=m.heap[m.heap_len--],k(m,oe,1),L=m.heap[1],m.heap[--m.heap_max]=O,m.heap[--m.heap_max]=L,oe[2*$]=oe[2*O]+oe[2*L],m.depth[$]=(m.depth[O]>=m.depth[L]?m.depth[O]:m.depth[L])+1,oe[2*O+1]=oe[2*L+1]=$,m.heap[1]=$++,k(m,oe,1),2<=m.heap_len;);m.heap[--m.heap_max]=m.heap[1],function(Ie,We){var At,Ft,rr,at,Tr,Bt,Nt=We.dyn_tree,an=We.max_code,Tw=We.stat_desc.static_tree,xw=We.stat_desc.has_stree,Iw=We.stat_desc.extra_bits,Yf=We.stat_desc.extra_base,ln=We.stat_desc.max_length,As=0;for(at=0;at<=T;at++)Ie.bl_count[at]=0;for(Nt[2*Ie.heap[Ie.heap_max]+1]=0,At=Ie.heap_max+1;At<y;At++)ln<(at=Nt[2*Nt[2*(Ft=Ie.heap[At])+1]+1]+1)&&(at=ln,As++),Nt[2*Ft+1]=at,an<Ft||(Ie.bl_count[at]++,Tr=0,Yf<=Ft&&(Tr=Iw[Ft-Yf]),Bt=Nt[2*Ft],Ie.opt_len+=Bt*(at+Tr),xw&&(Ie.static_len+=Bt*(Tw[2*Ft+1]+Tr)));if(As!==0){do{for(at=ln-1;Ie.bl_count[at]===0;)at--;Ie.bl_count[at]--,Ie.bl_count[at+1]+=2,Ie.bl_count[ln]--,As-=2}while(0<As);for(at=ln;at!==0;at--)for(Ft=Ie.bl_count[at];Ft!==0;)an<(rr=Ie.heap[--At])||(Nt[2*rr+1]!==at&&(Ie.opt_len+=(at-Nt[2*rr+1])*Nt[2*rr],Nt[2*rr+1]=at),Ft--)}}(m,E),N(oe,xe,m.bl_count)}function b(m,E,O){var L,$,oe=-1,ae=E[1],se=0,Ee=7,xe=4;for(ae===0&&(Ee=138,xe=3),E[2*(O+1)+1]=65535,L=0;L<=O;L++)$=ae,ae=E[2*(L+1)+1],++se<Ee&&$===ae||(se<xe?m.bl_tree[2*$]+=se:$!==0?($!==oe&&m.bl_tree[2*$]++,m.bl_tree[2*D]++):se<=10?m.bl_tree[2*M]++:m.bl_tree[2*J]++,oe=$,xe=(se=0)===ae?(Ee=138,3):$===ae?(Ee=6,3):(Ee=7,4))}function z(m,E,O){var L,$,oe=-1,ae=E[1],se=0,Ee=7,xe=4;for(ae===0&&(Ee=138,xe=3),L=0;L<=O;L++)if($=ae,ae=E[2*(L+1)+1],!(++se<Ee&&$===ae)){if(se<xe)for(;Q(m,$,m.bl_tree),--se!=0;);else $!==0?($!==oe&&(Q(m,$,m.bl_tree),se--),Q(m,D,m.bl_tree),re(m,se-3,2)):se<=10?(Q(m,M,m.bl_tree),re(m,se-3,3)):(Q(m,J,m.bl_tree),re(m,se-11,7));oe=$,xe=(se=0)===ae?(Ee=138,3):$===ae?(Ee=6,3):(Ee=7,4)}}l(le);var S=!1;function h(m,E,O,L){re(m,(c<<1)+(L?1:0),3),function($,oe,ae,se){G($),se&&(te($,ae),te($,~ae)),n.arraySet($.pending_buf,$.window,oe,ae,$.pending),$.pending+=ae}(m,E,O,!0)}r._tr_init=function(m){S||(function(){var E,O,L,$,oe,ae=new Array(T+1);for($=L=0;$<u-1;$++)for(ne[$]=L,E=0;E<1<<V[$];E++)I[L++]=$;for(I[L-1]=$,$=oe=0;$<16;$++)for(le[$]=oe,E=0;E<1<<W[$];E++)Z[oe++]=$;for(oe>>=7;$<f;$++)for(le[$]=oe<<7,E=0;E<1<<W[$]-7;E++)Z[256+oe++]=$;for(O=0;O<=T;O++)ae[O]=0;for(E=0;E<=143;)fe[2*E+1]=8,E++,ae[8]++;for(;E<=255;)fe[2*E+1]=9,E++,ae[9]++;for(;E<=279;)fe[2*E+1]=7,E++,ae[7]++;for(;E<=287;)fe[2*E+1]=8,E++,ae[8]++;for(N(fe,p+1,ae),E=0;E<f;E++)B[2*E+1]=5,B[2*E]=q(E,5);me=new be(fe,V,d+1,p,T),X=new be(B,W,0,f,T),pe=new be(new Array(0),P,0,g,_)}(),S=!0),m.l_desc=new ee(m.dyn_ltree,me),m.d_desc=new ee(m.dyn_dtree,X),m.bl_desc=new ee(m.bl_tree,pe),m.bi_buf=0,m.bi_valid=0,A(m)},r._tr_stored_block=h,r._tr_flush_block=function(m,E,O,L){var $,oe,ae=0;0<m.level?(m.strm.data_type===2&&(m.strm.data_type=function(se){var Ee,xe=4093624447;for(Ee=0;Ee<=31;Ee++,xe>>>=1)if(1&xe&&se.dyn_ltree[2*Ee]!==0)return s;if(se.dyn_ltree[18]!==0||se.dyn_ltree[20]!==0||se.dyn_ltree[26]!==0)return a;for(Ee=32;Ee<d;Ee++)if(se.dyn_ltree[2*Ee]!==0)return a;return s}(m)),R(m,m.l_desc),R(m,m.d_desc),ae=function(se){var Ee;for(b(se,se.dyn_ltree,se.l_desc.max_code),b(se,se.dyn_dtree,se.d_desc.max_code),R(se,se.bl_desc),Ee=g-1;3<=Ee&&se.bl_tree[2*ie[Ee]+1]===0;Ee--);return se.opt_len+=3*(Ee+1)+5+5+4,Ee}(m),$=m.opt_len+3+7>>>3,(oe=m.static_len+3+7>>>3)<=$&&($=oe)):$=oe=O+5,O+4<=$&&E!==-1?h(m,E,O,L):m.strategy===4||oe===$?(re(m,2+(L?1:0),3),C(m,fe,B)):(re(m,4+(L?1:0),3),function(se,Ee,xe,Ie){var We;for(re(se,Ee-257,5),re(se,xe-1,5),re(se,Ie-4,4),We=0;We<Ie;We++)re(se,se.bl_tree[2*ie[We]+1],3);z(se,se.dyn_ltree,Ee-1),z(se,se.dyn_dtree,xe-1)}(m,m.l_desc.max_code+1,m.d_desc.max_code+1,ae+1),C(m,m.dyn_ltree,m.dyn_dtree)),A(m),L&&G(m)},r._tr_tally=function(m,E,O){return m.pending_buf[m.d_buf+2*m.last_lit]=E>>>8&255,m.pending_buf[m.d_buf+2*m.last_lit+1]=255&E,m.pending_buf[m.l_buf+m.last_lit]=255&O,m.last_lit++,E===0?m.dyn_ltree[2*O]++:(m.matches++,E--,m.dyn_ltree[2*(I[O]+d+1)]++,m.dyn_dtree[2*F(E)]++),m.last_lit===m.lit_bufsize-1},r._tr_align=function(m){re(m,2,3),Q(m,x,fe),function(E){E.bi_valid===16?(te(E,E.bi_buf),E.bi_buf=0,E.bi_valid=0):8<=E.bi_valid&&(E.pending_buf[E.pending++]=255&E.bi_buf,E.bi_buf>>=8,E.bi_valid-=8)}(m)}},{"../utils/common":41}],53:[function(o,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,i,r){(function(n){(function(s,a){if(!s.setImmediate){var l,c,u,d,p=1,f={},g=!1,y=s.document,T=Object.getPrototypeOf&&Object.getPrototypeOf(s);T=T&&T.setTimeout?T:s,l={}.toString.call(s.process)==="[object process]"?function(D){He.nextTick(function(){_(D)})}:function(){if(s.postMessage&&!s.importScripts){var D=!0,M=s.onmessage;return s.onmessage=function(){D=!1},s.postMessage("","*"),s.onmessage=M,D}}()?(d="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(D){s.postMessage(d+D,"*")}):s.MessageChannel?((u=new MessageChannel).port1.onmessage=function(D){_(D.data)},function(D){u.port2.postMessage(D)}):y&&"onreadystatechange"in y.createElement("script")?(c=y.documentElement,function(D){var M=y.createElement("script");M.onreadystatechange=function(){_(D),M.onreadystatechange=null,c.removeChild(M),M=null},c.appendChild(M)}):function(D){setTimeout(_,0,D)},T.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var M=new Array(arguments.length-1),J=0;J<M.length;J++)M[J]=arguments[J+1];var V={callback:D,args:M};return f[p]=V,l(p),p++},T.clearImmediate=w}function w(D){delete f[D]}function _(D){if(g)setTimeout(_,0,D);else{var M=f[D];if(M){g=!0;try{(function(J){var V=J.callback,W=J.args;switch(W.length){case 0:V();break;case 1:V(W[0]);break;case 2:V(W[0],W[1]);break;case 3:V(W[0],W[1],W[2]);break;default:V.apply(a,W)}})(M)}finally{w(D),g=!1}}}}function x(D){D.source===s&&typeof D.data=="string"&&D.data.indexOf(d)===0&&_(+D.data.slice(d.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(yw);var a8=yw.exports;const l8=Df(a8);var xa={exports:{}},c8={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function u8(e){return e&&e.replace?e.replace(/([&"<>'])/g,function(t,o){return c8[o]}):e}var d8=u8,md=d8,Tv=Bf.Stream,f8="    ";function h8(e,t){typeof t!="object"&&(t={indent:t});var o=t.stream?new Tv:null,i="",r=!1,n=t.indent?t.indent===!0?f8:t.indent:"",s=!0;function a(p){s?He.nextTick(p):p()}function l(p,f){if(f!==void 0&&(i+=f),p&&!r&&(o=o||new Tv,r=!0),p&&r){var g=i;a(function(){o.emit("data",g)}),i=""}}function c(p,f){Gf(l,Ia(p,n,n?1:0),f)}function u(){if(o){var p=i;a(function(){o.emit("data",p),o.emit("end"),o.readable=!1,o.emit("close")})}}function d(p){var f=p.encoding||"UTF-8",g={version:"1.0",encoding:f};p.standalone&&(g.standalone=p.standalone),c({"?xml":{_attr:g}}),i=i.replace("/>","?>")}return a(function(){s=!1}),t.declaration&&d(t.declaration),e&&e.forEach?e.forEach(function(p,f){var g;f+1===e.length&&(g=u),c(p,g)}):c(e,u),o?(o.readable=!0,o):i}function p8(){var e=Array.prototype.slice.call(arguments),t={_elem:Ia(e)};return t.push=function(o){if(!this.append)throw new Error("not assigned to a parent!");var i=this,r=this._elem.indent;Gf(this.append,Ia(o,r,this._elem.icount+(r?1:0)),function(){i.append(!0)})},t.close=function(o){o!==void 0&&this.push(o),this.end&&this.end()},t}function m8(e,t){return new Array(t||0).join(e||"")}function Ia(e,t,o){o=o||0;var i=m8(t,o),r,n=e,s=!1;if(typeof e=="object"){var a=Object.keys(e);if(r=a[0],n=e[r],n&&n._elem)return n._elem.name=r,n._elem.icount=o,n._elem.indent=t,n._elem.indents=i,n._elem.interrupt=n,n._elem}var l=[],c=[],u;function d(p){var f=Object.keys(p);f.forEach(function(g){l.push(v8(g,p[g]))})}switch(typeof n){case"object":if(n===null)break;n._attr&&d(n._attr),n._cdata&&c.push(("<![CDATA["+n._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),n.forEach&&(u=!1,c.push(""),n.forEach(function(p){if(typeof p=="object"){var f=Object.keys(p)[0];f=="_attr"?d(p._attr):c.push(Ia(p,t,o+1))}else c.pop(),u=!0,c.push(md(p))}),u||c.push(""));break;default:c.push(md(n))}return{name:r,interrupt:s,attributes:l,content:c,icount:o,indents:i,indent:t}}function Gf(e,t,o){if(typeof t!="object")return e(!1,t);var i=t.interrupt?1:t.content.length;function r(){for(;t.content.length;){var s=t.content.shift();if(s!==void 0){if(n(s))return;Gf(e,s)}}e(!1,(i>1?t.indents:"")+(t.name?"</"+t.name+">":"")+(t.indent&&!o?`
`:"")),o&&o()}function n(s){return s.interrupt?(s.interrupt.append=e,s.interrupt.end=r,s.interrupt=!1,e(!0),!0):!1}if(e(!1,t.indents+(t.name?"<"+t.name:"")+(t.attributes.length?" "+t.attributes.join(" "):"")+(i?t.name?">":"":t.name?"/>":"")+(t.indent&&i>1?`
`:"")),!i)return e(!1,t.indent?`
`:"");n(t)||r()}function v8(e,t){return e+'="'+md(t)+'"'}xa.exports=h8;xa.exports.element=xa.exports.Element=p8;var g8=xa.exports;const Tt=Df(g8);class y8{format(t,o={stack:[]}){const i=t.prepForXml(o);if(i)return i;throw Error("XMLComponent did not format correctly")}}class b8{replace(t,o,i){let r=t;return o.forEach((n,s)=>{r=r.replace(new RegExp(`{${n.fileName}}`,"g"),(i+s).toString())}),r}getMediaData(t,o){return o.Array.filter(i=>t.search(`{${i.fileName}}`)>0)}}class w8{replace(t,o){let i=t;for(const r of o)i=i.replace(new RegExp(`{${r.reference}-${r.instance}}`,"g"),r.numId.toString());return i}}class E8{constructor(){we(this,"formatter"),we(this,"imageReplacer"),we(this,"numberingReplacer"),this.formatter=new y8,this.imageReplacer=new b8,this.numberingReplacer=new w8}compile(t,o){const i=new l8,r=this.xmlifyFile(t,o),n=new Map(Object.entries(r));for(const[,s]of n)if(Array.isArray(s))for(const a of s)i.file(a.path,a.data);else i.file(s.path,s.data);for(const{stream:s,fileName:a}of t.Media.Array)i.file(`word/media/${a}`,s);return i}xmlifyFile(t,o){const i=t.Document.Relationships.RelationshipCount+1,r=Tt(this.formatter.format(t.Document.View,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{standalone:"yes",encoding:"UTF-8"}}),n=this.imageReplacer.getMediaData(r,t.Media);return{Relationships:{data:(()=>(n.forEach((s,a)=>{t.Document.Relationships.createRelationship(i+a,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${s.fileName}`)}),Tt(this.formatter.format(t.Document.Relationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}})))(),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const s=this.imageReplacer.replace(r,n,i);return this.numberingReplacer.replace(s,t.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const s=Tt(this.formatter.format(t.Styles,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(s,t.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Tt(this.formatter.format(t.CoreProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Tt(this.formatter.format(t.Numbering,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Tt(this.formatter.format(t.FileRelationships,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:t.Headers.map((s,a)=>{const l=Tt(this.formatter.format(s.View,{viewWrapper:s,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(l,t.Media).forEach((u,d)=>{s.Relationships.createRelationship(d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),{data:Tt(this.formatter.format(s.Relationships,{viewWrapper:s,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${a+1}.xml.rels`}}),FooterRelationships:t.Footers.map((s,a)=>{const l=Tt(this.formatter.format(s.View,{viewWrapper:s,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(l,t.Media).forEach((u,d)=>{s.Relationships.createRelationship(d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${u.fileName}`)}),{data:Tt(this.formatter.format(s.Relationships,{viewWrapper:s,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${a+1}.xml.rels`}}),Headers:t.Headers.map((s,a)=>{const l=Tt(this.formatter.format(s.View,{viewWrapper:s,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(l,t.Media),u=this.imageReplacer.replace(l,c,0);return{data:this.numberingReplacer.replace(u,t.Numbering.ConcreteNumbering),path:`word/header${a+1}.xml`}}),Footers:t.Footers.map((s,a)=>{const l=Tt(this.formatter.format(s.View,{viewWrapper:s,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(l,t.Media),u=this.imageReplacer.replace(l,c,0);return{data:this.numberingReplacer.replace(u,t.Numbering.ConcreteNumbering),path:`word/footer${a+1}.xml`}}),ContentTypes:{data:Tt(this.formatter.format(t.ContentTypes,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Tt(this.formatter.format(t.CustomProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Tt(this.formatter.format(t.AppProperties,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Tt(this.formatter.format(t.FootNotes.View,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Tt(this.formatter.format(t.FootNotes.Relationships,{viewWrapper:t.FootNotes,file:t,stack:[]}),{indent:o,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Tt(this.formatter.format(t.Settings,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Tt(this.formatter.format(t.Comments,{viewWrapper:t.Document,file:t,stack:[]}),{indent:o,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"}}}}const Sn=e=>e===!0?"  ":e===!1?void 0:e;class bw{static async toString(t,o){return await this.compiler.compile(t,Sn(o)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}static async toBuffer(t,o){return await this.compiler.compile(t,Sn(o)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}static async toBase64String(t,o){return await this.compiler.compile(t,Sn(o)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}static async toBlob(t,o){return await this.compiler.compile(t,Sn(o)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})}static toStream(t,o){const i=new Bf.Stream;return this.compiler.compile(t,Sn(o)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(n=>{i.emit("data",n),i.emit("end")}),i}}we(bw,"compiler",new E8);var vd={},_8={get exports(){return vd},set exports(e){vd=e}};(function(e,t){(function(o,i){i()})(zo,function(){function o(c,u){return typeof u>"u"?u={autoBom:!1}:typeof u!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),u={autoBom:!u}),u.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob(["\uFEFF",c],{type:c.type}):c}function i(c,u,d){var p=new XMLHttpRequest;p.open("GET",c),p.responseType="blob",p.onload=function(){l(p.response,u,d)},p.onerror=function(){console.error("could not download file")},p.send()}function r(c){var u=new XMLHttpRequest;u.open("HEAD",c,!1);try{u.send()}catch{}return 200<=u.status&&299>=u.status}function n(c){try{c.dispatchEvent(new MouseEvent("click"))}catch{var u=document.createEvent("MouseEvents");u.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),c.dispatchEvent(u)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof zo=="object"&&zo.global===zo?zo:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(c,u,d){var p=s.URL||s.webkitURL,f=document.createElement("a");u=u||c.name||"download",f.download=u,f.rel="noopener",typeof c=="string"?(f.href=c,f.origin===location.origin?n(f):r(f.href)?i(c,u,d):n(f,f.target="_blank")):(f.href=p.createObjectURL(c),setTimeout(function(){p.revokeObjectURL(f.href)},4e4),setTimeout(function(){n(f)},0))}:"msSaveOrOpenBlob"in navigator?function(c,u,d){if(u=u||c.name||"download",typeof c!="string")navigator.msSaveOrOpenBlob(o(c,d),u);else if(r(c))i(c,u,d);else{var p=document.createElement("a");p.href=c,p.target="_blank",setTimeout(function(){n(p)})}}:function(c,u,d,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof c=="string")return i(c,u,d);var f=c.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||f&&g||a)&&typeof FileReader<"u"){var T=new FileReader;T.onloadend=function(){var x=T.result;x=y?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=x:location=x,p=null},T.readAsDataURL(c)}else{var w=s.URL||s.webkitURL,_=w.createObjectURL(c);p?p.location=_:location.href=_,p=null,setTimeout(function(){w.revokeObjectURL(_)},4e4)}});s.saveAs=l.saveAs=l,e.exports=l})})(_8);const S8="/caracol/assets/graduationCap-8fa1ce8e.svg",A8="/caracol/assets/alienar-fb2c87c3.svg",N8="/caracol/assets/starSolid-2cad5fc9.svg",ww="/caracol/assets/creditcardSolid-55ddbf9b.svg",Sl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAApVBMVEUAAAAFBQUKCgozMzMzMzMoKCgsLCw4ODgsLCwxMTEVFRUzMzM7Ozs2NjY0NDQzMzNMTEw1NTUlJSUxMTEvLy8xMTExMTEtLS0VFRUcHBwuLi4oKCgxMTEuLi4rKyswMDAwMDArKystLS0uLi4xMTEuLi4kJCQxMTEwMDArKysqKioxMTEuLi4rKys0NDQsLCwkJCQuLi4vLy8uLi42NjYwMDAzMzMGZa9aAAAANnRSTlMABgFL7bBzQ9VhGOAzJeq3Coku+Lr16sIMCZhO/JRC5qV2KBDKehnt2bqvoIRWPB8K0bWOjGo12immAAAA/ElEQVRIx+3Sy1LCMBiG4STUoiIeGmKVJG1paUXOnv77vzRjNlJy0AwLGKbvpjNf55ksEnSG4ZJfOes1FlHKnAohaHRrFgmWrgxRFfCTqG8sZepnHpM9sqKaTKv2nHHOE/V5AWCTtiESdKPn1vz0SimVBCWPYBg8t5NUbWNNDIMv/iLafAUTmGXBBMY4mLw1weTy+kSIvkon8T8YN6F1OTRbL8BNQAws5WAnvo5NiknsTlILmW6QJ1xYyN29j5DPcPLQkY4cQubBhHz8j4y2vwNnAGnlJQtF6p1hKwXQZdZ3F+cA70O0U7OcMRZ5Ymwgk72DN+uet36JUZfqG2Wjeg1GwVSoAAAAAElFTkSuQmCC",C8=864e5,T8=Ce`
fragment fragBloqueSubscripcion on BloqueSubscripcion{
id
    dateInicio
    duracion
    valorPagado
}
`,eu=Ce`
  query ($idUsuario: ID!) {
    Usuario(idUsuario: $idUsuario) {
      id
      informesMaestraVida {
        id
        year
        periodo
        idProfe
        nombreProfe
        categoria
        texto
      }
    }
  }
`,x8={components:{Calendario:Tf,Loading:ut,RutaGrado:n0,BloqueSubscripcion:z5},props:{personasConEspacio:Array,mostrarEspacioActual:Boolean,estaPersona:Object,seleccionado:Boolean},name:"PersonaVistaLista",apollo:{informes:{query:eu,variables(){return{idUsuario:this.estaPersona.id}},skip(){return this.mostrando!="informe"},update({Usuario:e}){return e.informesMaestraVida},fetchPolicy:"network-only"},bloquesSubscripcion:{query:Ln,variables(){return{idUsuario:this.estaPersona.id}},update({Usuario:e}){return e.bloquesSubscripcion},skip(){return!this.mostrandoBloquesSubscripcion}}},data(){return{dateInicioCrearBloqueSubscripcion:null,duracionCrearBloqueSubscripcion:1,valorCrearBloqueSubscripcion:25e3,bloquesSubscripcion:[],guardandoBloqueSub:!1,escribiendoBloqueSub:!1,mostrandoBloquesSubscripcion:!1,permisosPosibles:["usuario","subscripcion-ilimitada","administrador","atlasAdministrador","superadministrador","maestraVida","maestraVida-estudiante","maestraVida-profesor","maestraVida-acompañante","maestraVida-graduado"],informes:[],objetivos:[],mostrando:null,reseteandoPassword:!1,alienando:!1,mostrandoPermisos:!1,togglingPermiso:!1,settingPresenciaNodoSolidaridad:!1,guardandoInformeObjetivos:!1,guardandoInformeEspacios:!1,guardandoInformeComentario:!1,guardandoInformeProyectos:!1,creandoDocumentoInforme:!1,nuevoInformeObjetivos:null,nuevoInformeProyectos:null,nuevoInformeEspacios:null,nuevoInformeComentario:null,periodoInforme:"segundo",activable:0}},methods:{crearBloqueSubscripcion(){let e=new Date(this.$refs.inputDateInicioCrearBloqueSubscripcion.value),t=parseInt(this.$refs.duracionCrearBloqueSubscripcion.value),o=parseInt(this.$refs.valorCrearBloqueSubscripcion.value);this.guardandoBloqueSub=!0,this.$apollo.mutate({mutation:Ce`
                mutation($idUsuario: ID!, $infoBloque: InputBloqueSubscripcion!){
                    crearBloqueSubscripcionUsuario(idUsuario: $idUsuario, infoBloque: $infoBloque){
                        ...fragBloqueSubscripcion
                    }
                }
                ${T8}
                `,variables:{idUsuario:this.estaPersona.id,infoBloque:{dateInicio:e,duracion:t,valorPagado:o}}}).then(({data:{crearBloqueSubscripcionUsuario:i}})=>{var a;console.log("creada nueva subscripcion con id "+i.id),this.escribiendoBloqueSub=!1,this.guardandoBloqueSub=!1;const r=this.$apollo.provider.defaultClient,n=r.readQuery({query:Ln,variables:{idUsuario:this.estaPersona.id}});let s=JSON.parse(JSON.stringify(n));if((a=s.Usuario.bloquesSubscripcion)!=null&&a.some(l=>l.id===i.id)){console.log("El bloque ya estaba en caché");return}s.Usuario.bloquesSubscripcion.splice(0,0,i),r.writeQuery({query:Ln,variables:{idUsuario:this.estaPersona.id},data:s})}).catch(i=>{console.log("Error: "+i),this.guardandoBloqueSub=!1})},iniciarCrearBloqueSub(){let e=new Date;this.bloquesSubscripcion.length>0&&(e=new Date(new Date(this.bloquesSubscripcion[0].dateInicio).getTime()+this.bloquesSubscripcion[0].duracion*C8*31)),this.escribiendoBloqueSub=!0,this.$nextTick(()=>{console.log("Setting");let t=e.getFullYear(),o=("0"+(Number(e.getMonth())+1)).slice(-2),i=("0"+e.getDate()).slice(-2);console.log(t),console.log(o),console.log(i),this.$refs.inputDateInicioCrearBloqueSubscripcion.value=t+"-"+o+"-"+i})},resetearPassword(){confirm("¿Confirmar resetear el password de "+this.estaPersona.nombres+"?")&&(console.log("Reseteando password usuario"),this.reseteandoPassword=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($idUsuario: ID!) {
              resetearPasswordUsuario(idUsuario: $idUsuario)
            }
          `,variables:{idUsuario:this.estaPersona.id}}).then(()=>{this.reseteandoPassword=!1,alert("Contraseña reseteada")}).catch(()=>{this.reseteandoPassword=!1}))},alienar(){!this.usuarioProfe&&!this.usuarioSuperadministrador||(this.alienando=!0,this.$apollo.query({query:Ce`
            query ($idAlienado: ID!) {
              alienarUsuario(idAlienado: $idAlienado)
            }
          `,variables:{idAlienado:this.estaPersona.id}}).then(({data:{alienarUsuario:e}})=>{console.log("Alienando"),this.alienando=!0,this.$emit("alienandoPersona",e)}).catch(e=>{console.log(`Error: ${e}`),this.alienando=!1}))},togglePermiso(e){this.usuarioSuperadministrador&&(this.togglingPermiso=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($permiso: String!, $idUsuario: ID!) {
              togglePermisoUsuario(permiso: $permiso, idUsuario: $idUsuario) {
                id
                permisos
              }
            }
          `,variables:{permiso:e,idUsuario:this.estaPersona.id}}).then(()=>{this.togglingPermiso=!1}).catch(t=>{console.log(`Error: ${t}`),this.togglingPermiso=!1}))},toggleResponsableNodoSolidaridad(e){console.log(`Setting presencia de ${this.estaPersona.id} en el nodo ${e.id}`),e.responsables.includes(this.estaPersona.id)?(console.log("Sacándolo"),this.settingPresenciaNodoSolidaridad=!0,this.$apollo.mutate({mutation:Ce`
              mutation ($idNodo: ID!, $idUsuario: ID!) {
                removeResponsableNodoSolidaridad(
                  idNodo: $idNodo
                  idUsuario: $idUsuario
                ) {
                  id
                  responsables
                }
              }
            `,variables:{idNodo:e.id,idUsuario:this.estaPersona.id}}).then(()=>{this.settingPresenciaNodoSolidaridad=!1}).catch(o=>{console.log(`Error: ${o}`),this.settingPresenciaNodoSolidaridad=!1})):(console.log("Dentrándolo"),this.settingPresenciaNodoSolidaridad=!0,this.$apollo.mutate({mutation:Ce`
              mutation ($idNodo: ID!, $idUsuario: ID!) {
                addResponsableNodoSolidaridad(
                  idNodo: $idNodo
                  idUsuario: $idUsuario
                ) {
                  id
                  responsables
                }
              }
            `,variables:{idNodo:e.id,idUsuario:this.estaPersona.id}}).then(()=>{this.settingPresenciaNodoSolidaridad=!1}).catch(o=>{console.log(`Error: ${o}`),this.settingPresenciaNodoSolidaridad=!1}))},guardarInforme(e){console.log("Guardando informe");var t=null;if(e==="objetivos"){if(t=this.$refs.inputInformeCategoriaObjetivos.value,t===this.misInformesActivos.objetivos)return;this.guardandoInformeObjetivos=!0,t&&(t=t.trim()),this.nuevoInformeObjetivos=t}if(e==="espacios"){if(t=this.$refs.inputInformeCategoriaEspacios.value,t===this.misInformesActivos.espacios)return;this.guardandoInformeEspacios=!0,t&&(t=t.trim()),this.nuevoInformeEspacios=t}if(e==="comentario"){if(t=this.$refs.inputInformeCategoriaComentario.value,t===this.misInformesActivos.comentario)return;this.guardandoInformeComentario=!0,t&&(t=t.trim()),this.nuevoInformeComentario=t}if(e==="proyectos"){if(t=this.$refs.inputInformeCategoriaProyectos.value,t===this.misInformesActivos.proyectos)return;this.guardandoInformeProyectos=!0,t&&(t=t.trim()),this.nuevoInformeProyectos=t}this.$apollo.mutate({mutation:Ce`
            mutation (
              $idUsuario: ID!
              $year: Int!
              $periodo: String!
              $idProfe: ID!
              $categoria: String!
              $texto: String!
            ) {
              guardarInformeEstudianteMaestraVida(
                idUsuario: $idUsuario
                year: $year
                periodo: $periodo
                idProfe: $idProfe
                categoria: $categoria
                texto: $texto
              ) {
                id
                year
                periodo
                idProfe
                nombreProfe
                categoria
                texto
              }
            }
          `,variables:{idUsuario:this.estaPersona.id,year:2023,periodo:this.periodoInforme,idProfe:this.usuario.id,categoria:e,texto:t}}).then(({data:{guardarInformeEstudianteMaestraVida:o}})=>{const i=this.$apollo.provider.defaultClient,r=i.readQuery({query:eu,variables:{idUsuario:this.estaPersona.id}});var n=JSON.parse(JSON.stringify(r)),s=n.Usuario.informesMaestraVida.find(a=>a.id===o.id);s||(n.Usuario.informesMaestraVida.push(o),i.writeQuery({query:eu,variables:{idUsuario:this.estaPersona.id},data:n})),e==="objetivos"&&(this.guardandoInformeObjetivos=!1),e==="espacios"&&(this.guardandoInformeEspacios=!1),e==="comentario"&&(this.guardandoInformeComentario=!1),e==="proyectos"&&(this.guardandoInformeProyectos=!1)}).catch(o=>{alert("¡Error guardando informe!"),console.log("error: "+o),e==="objetivos"&&(this.guardandoInformeObjetivos=!1),e==="espacios"&&(this.guardandoInformeEspacios=!1),e==="comentario"&&(this.guardandoInformeComentario=!1),e==="proyectos"&&(this.guardandoInformeProyectos=!1)})},descargarArchivoInforme(){console.log("Creando documento docx de informe para "+this.estaPersona.nombres+" en el periodo "+this.periodoInforme),this.creandoDocumentoInforme=!0;var e=new Vs({children:[new Io({children:[new lt({text:"Acerca de los objetivos",style:"nombreSeccion",alignment:wt.CENTER})],width:{size:300,type:go.DXA}}),new Io({children:[...this.informes.filter(s=>s.year==2023&&s.periodo===this.periodoInforme&&s.categoria==="objetivos"&&s.texto&&s.texto.length>10).reduce((s,a)=>s.concat([new lt({children:a.texto.split(`
`).map(l=>new qr({text:l,break:1})),style:"textoProfe"}),new lt({text:a.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:go.DXA}})]}),t=new Vs({children:[new Io({width:{size:3e3,type:go.DXA},children:[new lt({text:"Proyectos pedagógicos productivos",style:"nombreSeccion",alignment:wt.CENTER})]}),new Io({width:{size:2700,type:go.DXA},children:[...this.informes.filter(s=>s.year==2023&&s.periodo===this.periodoInforme&&s.categoria==="proyectos"&&s.texto&&s.texto.length>10).reduce((s,a)=>s.concat([new lt({children:a.texto.split(`
`).map(l=>new qr({text:l,break:1})),style:"textoProfe"}),new lt({text:a.nombreProfe,style:"firmaProfe"})]),[])]})]}),o=new Vs({children:[new Io({children:[new lt({text:"Acerca de los espacios",style:"nombreSeccion",alignment:wt.CENTER})],width:{size:300,type:go.DXA}}),new Io({children:[...this.informes.filter(s=>s.year==2023&&s.periodo===this.periodoInforme&&s.categoria==="espacios"&&s.texto&&s.texto.length>10).reduce((s,a)=>s.concat([new lt({children:a.texto.split(`
`).map(l=>new qr({text:l,break:1})),style:"textoProfe"}),new lt({text:a.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:go.DXA}})]}),i=new Vs({children:[new Io({children:[new lt({text:"Comentario",style:"nombreSeccion",alignment:wt.CENTER})],width:{size:300,type:go.DXA}}),new Io({children:[...this.informes.filter(s=>s.year==2023&&s.periodo===this.periodoInforme&&s.categoria==="comentario"&&s.texto&&s.texto.length>10).reduce((s,a)=>s.concat([new lt({children:a.texto.split(`
`).map(l=>new qr({text:l,break:1})),style:"textoProfe"}),new lt({text:a.nombreProfe,style:"firmaProfe"})]),[])],width:{size:700,type:go.DXA}})]}),r=new $4({rows:[e,t,o,i],width:{size:8500,type:go.DXA}}),n=new s8({styles:{paragraphStyles:[{id:"estiloGlobal",name:"Estilo global",run:{font:"Maiandra GD"}},{id:"titulos",name:"titulos",basedOn:"estiloGlobal",run:{bold:!0,size:24},paragraph:{spacing:{after:200}}},{id:"nombreEstudiante",name:"nombre del estudiante",basedOn:"estiloGlobal",run:{bold:!0,allCaps:!0},paragraph:{spacing:{after:120}}},{id:"nombreSeccion",name:"nombre de seccion",basedOn:"estiloGlobal",run:{bold:!0,size:24},paragraph:{spacing:{after:120}}},{id:"objetivo",name:"Objetivo del estudiante",basedOn:"estiloGlobal",run:{size:24}},{id:"textoProfe",name:"Texto escrito por un profe",basedOn:"estiloGlobal",run:{size:24},paragraph:{spacing:{after:30}}},{id:"firmaProfe",name:"Firma del profe",basedOn:"estiloGlobal",run:{italics:!0,size:18},paragraph:{spacing:{after:100}}}]},sections:[{children:[new lt({text:"INSTITUCIÓN EDUCATIVA MAESTRA VIDA",heading:xn.TITLE,style:"titulos",alignment:wt.CENTER}),new lt({text:"RESOLUCIÓN DE APROBACIÓN N° 5549 DE JUNIO DE 2013",heading:xn.TITLE,style:"titulos",alignment:wt.CENTER}),new lt({text:"EVALUACIÓN DE CONOCIMIENTO Y DESEMPEÑO",heading:xn.TITLE,style:"titulos",alignment:wt.CENTER}),new lt({text:"PERIODO MAYO - JULIO DE 2023",style:"titulos",alignment:wt.CENTER}),new lt({text:"Nombre:  "+this.estaPersona.nombres+" "+this.estaPersona.apellidos,style:"nombreEstudiante"}),new lt({text:"Objetivos",style:"nombreSeccion"}),...this.estaPersona.objetivos.map(s=>new lt({text:s,style:"objetivo",bullet:{level:0}})),new lt({text:"",spacing:{after:200}}),r,new lt({children:[new qr({text:"EQUIPO PEDAGÓGICO",bold:!0})],alignment:wt.CENTER,style:"estiloGlobal",spacing:{before:1500}}),new lt({text:"Corporación Maestra Vida",heading:xn.TITLE,style:"titulos",alignment:wt.CENTER})]}]});I8(n,`informe${this.estaPersona.username}.docx`),this.creandoDocumentoInforme=!1}},computed:{misInformesActivos(){if(!this.informes)return{objetivos:null,espacios:null,comentario:null,proyectos:null};var e=this.informes.find(r=>r.year===2023&&r.periodo===this.periodoInforme&&r.idProfe===this.usuario.id&&r.categoria==="objetivos"),t=this.informes.find(r=>r.year===2023&&r.periodo===this.periodoInforme&&r.idProfe===this.usuario.id&&r.categoria==="espacios"),o=this.informes.find(r=>r.year===2023&&r.periodo===this.periodoInforme&&r.idProfe===this.usuario.id&&r.categoria==="comentario"),i=this.informes.find(r=>r.year===2023&&r.periodo===this.periodoInforme&&r.idProfe===this.usuario.id&&r.categoria==="proyectos");return{objetivos:e?e.texto:null,espacios:t?t.texto:null,comentario:o?o.texto:null,proyectos:i?i.texto:null}},miEspacioActual(){const e=this.personasConEspacio.find(t=>t.id===this.estaPersona.id);return e?e.espacioActual:null},colorBarraSuperior(){if(!this.usuarioLogeado||!this.estaPersona.permisos||!this.estaPersona.permisos.includes("maestraVida-estudiante"))return{};var e="rgb(161, 240, 82)";return{backgroundColor:e}}},watch:{seleccionado(e){e||(this.mostrando=null)},informes:function(){this.activable++},misInformesActivos(){this.nuevoInformeObjetivos=this.misInformesActivos.objetivos,this.nuevoInformeProyectos=this.misInformesActivos.proyectos,this.nuevoInformeEspacios=this.misInformesActivos.espacios,this.nuevoInformeComentario=this.misInformesActivos.comentario}},mounted(){setTimeout(()=>{this.activable++},1e3),this.nuevoInformeObjetivos=this.misInformesActivos.objetivos,this.nuevoInformeProyectos=this.misInformesActivos.proyectos,this.nuevoInformeEspacios=this.misInformesActivos.espacios,this.nuevoInformeComentario=this.misInformesActivos.comentario}};function I8(e,t){const o="application/vnd.openxmlformats-officedocument.wordprocessingml.document";bw.toBlob(e).then(i=>{const r=i.slice(0,i.size,o);vd.saveAs(r,t)})}const yt=e=>(Ge("data-v-3357c93e"),e=e(),Ke(),e),D8={id:"barraSuperior"},P8={class:"iconoPersona"},k8={key:0,src:Zb,alt:"Profesor"},O8={id:"zonaNombres"},R8={id:"nombres"},M8={id:"zonaApellidos"},F8={id:"apellidos"},B8={id:"contenedorControlesPersona",class:"contenedorControles"},L8=yt(()=>v("img",{src:Wy,alt:"Ruta",style:{}},null,-1)),$8=[L8],U8=["title"],q8=yt(()=>v("img",{src:If,alt:"calendario"},null,-1)),j8=[q8],z8=["title"],V8=yt(()=>v("img",{src:hl,alt:"Cog"},null,-1)),H8=[V8],W8=yt(()=>v("img",{src:A8,alt:"Virus"},null,-1)),Q8=[W8],G8=["title"],K8=["title"],J8=yt(()=>v("img",{src:N8,alt:"Objetivo"},null,-1)),Y8=[J8],X8={id:"zonaContenidosMostrando"},Z8={key:0,id:"zonaAdministracion"},e3={id:"barraInfoAdicional"},t3={key:0,id:"username"},o3={id:"contenedorAcciones",class:"contenedorControles"},r3=["title"],i3=yt(()=>v("img",{src:Qy,alt:"Id"},null,-1)),n3=[i3],s3=yt(()=>v("img",{src:g0,alt:"Llave"},null,-1)),a3=[s3],l3=yt(()=>v("img",{src:ww,alt:"Credit card"},null,-1)),c3=[l3],u3=["onClick"],d3={key:1,id:"zonaPagos"},f3={key:0,class:"ventanaSplash"},h3={class:"bloqueSplash"},p3=yt(()=>v("img",{src:Rt,alt:"x"},null,-1)),m3=[p3],v3=yt(()=>v("div",{class:"tituloSplash"},[v("img",{src:ww,alt:"Credit card"}),$e(" Creando bloque de subscripcion ")],-1)),g3={id:"zonaDateInicioCrearBloqueSubscripcion"},y3=yt(()=>v("label",{for:"dateInicioCrearBloqueSubscripcion"},"Fecha de inicio",-1)),b3={name:"dateInicioCrearBloqueSubscripcion",ref:"inputDateInicioCrearBloqueSubscripcion",type:"date"},w3={id:"zonaDuracionCrearBloqueSubscripcion"},E3=yt(()=>v("label",{for:"duracionCrearBloqueSubscripcion"},"Duracion(Meses)",-1)),_3={id:"zonaValorCrearBloqueSubscripcion"},S3=yt(()=>v("label",{for:"valorCrearBloqueSubscripcion"},"Valor pagado",-1)),A3={key:1,id:"listaPagos"},N3={key:0,class:"anuncioZonaVacia"},C3={id:"zonaInforme"},T3={key:0,class:"contenedorSeccionInforme"},x3={class:"contenedorControles"},I3={id:"selectoresPeriodo",style:{display:"flex"}},D3=yt(()=>v("img",{src:nl,alt:"archivo"},null,-1)),P3=[D3],k3=yt(()=>v("div",{class:"tituloSeccionInforme"},"Sobre objetivos",-1)),O3={class:"controlesSeccionInforme"},R3=yt(()=>v("img",{src:Sl,alt:"Guardar"},null,-1)),M3=[R3],F3=yt(()=>v("div",{class:"tituloSeccionInforme"},"Sobre proyectos",-1)),B3={class:"controlesSeccionInforme"},L3=yt(()=>v("img",{src:Sl,alt:"Guardar"},null,-1)),$3=[L3],U3=yt(()=>v("div",{class:"tituloSeccionInforme"},"Sobre espacios",-1)),q3={class:"controlesSeccionInforme"},j3=yt(()=>v("img",{src:Sl,alt:"Guardar"},null,-1)),z3=[j3],V3=yt(()=>v("div",{class:"tituloSeccionInforme"},"Comentario",-1)),H3={class:"controlesSeccionInforme"},W3=yt(()=>v("img",{src:Sl,alt:"Guardar"},null,-1)),Q3=[W3],G3={key:1,id:"zonaCalendario",class:"zonaPrimerNivel"},K3={key:2,id:"zonaRutaGrado"},J3={id:"zonaObjetivos"},Y3={class:"anuncioZonaVacia"};function X3(e,t,o,i,r,n){var u;const s=Te("loading"),a=Te("BloqueSubscripcion"),l=Te("calendario"),c=Te("ruta-grado");return H(),Y("div",{class:de(["personaVistaLista",{seleccionado:o.seleccionado}])},[v("div",D8,[v("div",P8,[o.estaPersona.permisos.includes("maestraVida-profesor")?(H(),Y("img",k8)):he("",!0),o.estaPersona.permisos.includes("maestraVida-estudiante")?(H(),Y("img",{key:1,src:S8,alt:"CapGraduacion",onClick:t[0]||(t[0]=d=>e.usuarioSuperadministrador?n.togglePermiso("maestraVida-estudiante"):"")})):he("",!0),!o.estaPersona.permisos.includes("maestraVida-profesor")&&!o.estaPersona.permisos.includes("maestraVida-estudiante")?(H(),Y("img",{key:2,src:as,alt:"Usuario",onClick:t[1]||(t[1]=d=>e.usuarioSuperadministrador?n.togglePermiso("maestraVida-estudiante"):"")})):he("",!0)]),v("div",O8,[v("div",R8,[$e(ve(o.estaPersona.nombres)+" ",1),n.miEspacioActual?U((H(),Y("span",{key:0,class:"espacioActual"},"("+ve(n.miEspacioActual)+")",513)),[[K,o.mostrarEspacioActual]]):he("",!0)])]),v("div",M8,[v("div",F8,ve(o.estaPersona.apellidos),1)]),U(v("div",B8,[v("div",{class:de(["boton selector",{activo:r.mostrando==="rutaGrado"}]),onClick:t[2]||(t[2]=d=>r.mostrando=r.mostrando==="rutaGrado"?null:"rutaGrado")},$8,2),U(v("div",{class:de(["boton selector",{activo:r.mostrando==="calendario"}]),title:r.mostrando==="calendario"?"Ocultar calendario":"Mostrar calendario",onClick:t[3]||(t[3]=d=>r.mostrando=r.mostrando==="calendario"?null:"calendario")},j8,10,U8),[[K,e.usuario&&(e.usuarioProfe||e.usuario.id===o.estaPersona.id||e.usuarioSuperadministrador)]]),e.usuarioSuperadministrador?(H(),Y("div",{key:0,class:de(["boton selector",{activo:r.mostrando==="administracion"}]),title:r.mostrando==="administracion"?"Ocultar administracion":"Mostrar administracion",onClick:t[4]||(t[4]=d=>r.mostrando=r.mostrando==="administracion"?null:"administracion")},H8,10,z8)):he("",!0),U(v("div",{class:"boton",onClick:t[5]||(t[5]=(...d)=>n.alienar&&n.alienar(...d)),title:"alienar"},Q8,512),[[K,e.usuarioProfe||e.usuarioSuperadministrador]]),e.usuarioLogeado&&e.usuarioProfe?(H(),Y("div",{key:1,class:de(["botonTexto selector",{activo:r.mostrando==="informe"}]),style:{width:"100px"},title:r.mostrando==="informe"?"Ocultar informe":"Mostrar informe",onClick:t[6]||(t[6]=d=>r.mostrando=r.mostrando==="informe"?null:"informe")}," Informes ",10,G8)):he("",!0),e.usuarioLogeado&&e.usuarioProfe?(H(),Y("div",{key:2,class:de(["boton selector",{activo:r.mostrando==="objetivos"}]),title:r.mostrando==="objetivos"?"Ocultar objetivos":"Mostrar objetivos",onClick:t[7]||(t[7]=d=>r.mostrando=r.mostrando==="objetivos"?null:"objetivos")},Y8,10,K8)):he("",!0)],512),[[K,o.seleccionado]])]),v("div",X8,[e.usuarioSuperadministrador?U((H(),Y("div",Z8,[U(v("div",e3,[e.usuarioSuperadministrador?(H(),Y("div",t3,ve(o.estaPersona.username),1)):he("",!0)],512),[[K,o.seleccionado]]),v("div",o3,[e.usuarioSuperadministrador?(H(),Y("div",{key:0,class:de(["boton selector",{activo:r.mostrandoPermisos}]),onClick:t[8]||(t[8]=d=>r.mostrandoPermisos=!r.mostrandoPermisos),title:r.mostrandoPermisos?"Ocultar permisos":"Mostrar permisos"},n3,10,r3)):he("",!0),U(v("div",{class:"boton",title:"Restaurar password (123456)",onClick:t[9]||(t[9]=(...d)=>n.resetearPassword&&n.resetearPassword(...d))},a3,512),[[K,!r.reseteandoPassword]]),e.usuarioSuperadministrador?(H(),Y("div",{key:1,class:de(["boton selector",{activo:r.mostrandoBloquesSubscripcion}]),title:"Subscripción",onClick:t[10]||(t[10]=d=>r.mostrandoBloquesSubscripcion=!r.mostrandoBloquesSubscripcion)},c3,2)):he("",!0),U(Se(s,{texto:""},null,512),[[K,r.reseteandoPassword]])]),e.usuarioSuperadministrador?U((H(),Y("div",{key:0,id:"listaPermisos",class:de({deshabilitado:r.togglingPermiso})},[(H(!0),Y(Me,null,Ve(r.permisosPosibles,d=>(H(),Y("div",{class:de(["activadorPermiso",{permisoGranted:o.estaPersona.permisos.includes(d)}]),onClick:p=>n.togglePermiso(d),key:d+"permiso"},ve(d),11,u3))),128))],2)),[[K,r.mostrandoPermisos]]):he("",!0),e.usuarioSuperadministrador?U((H(),Y("div",d3,[v("div",{class:de(["botonTexto",{deshabilitado:r.guardandoBloqueSub||r.escribiendoBloqueSub}]),onClick:t[11]||(t[11]=Ae((...d)=>n.iniciarCrearBloqueSub&&n.iniciarCrearBloqueSub(...d),["stop"])),style:{margin:"10px auto",width:"150px"}}," Crear pago ",2),r.escribiendoBloqueSub?(H(),Y("div",f3,[v("div",h3,[v("div",{class:"botonEquis",onClick:t[12]||(t[12]=d=>r.escribiendoBloqueSub=!1)},m3),v3,v("div",g3,[y3,v("input",b3,null,512)]),v("div",w3,[E3,U(v("input",{type:"number",name:"duracionCrearBloqueSubscripcion",ref:"duracionCrearBloqueSubscripcion","onUpdate:modelValue":t[13]||(t[13]=d=>r.duracionCrearBloqueSubscripcion=d),min:"1",max:"500"},null,512),[[je,r.duracionCrearBloqueSubscripcion]])]),v("div",_3,[S3,U(v("input",{type:"number",name:"valorPagadoCrearBloqueSubscripcion",ref:"valorCrearBloqueSubscripcion","onUpdate:modelValue":t[14]||(t[14]=d=>r.valorCrearBloqueSubscripcion=d),min:"1000",max:"1000000000"},null,512),[[je,r.valorCrearBloqueSubscripcion]])]),v("div",{class:"botonTexto",onClick:t[15]||(t[15]=(...d)=>n.crearBloqueSubscripcion&&n.crearBloqueSubscripcion(...d))}," Aceptar ")])])):he("",!0),U(Se(s,{style:{margin:"2px auto"}},null,512),[[K,r.guardandoBloqueSub]]),e.usuarioSuperadministrador?U((H(),Y("div",A3,[r.bloquesSubscripcion.length===0?(H(),Y("div",N3," Aun no hay bloques de subscripción registrados. ")):he("",!0),(H(!0),Y(Me,null,Ve(r.bloquesSubscripcion,d=>(H(),qe(a,{key:d.id,esteBloque:d,idPersona:o.estaPersona.id},null,8,["esteBloque","idPersona"]))),128))],512)),[[K,r.mostrandoBloquesSubscripcion]]):he("",!0)],512)),[[K,r.mostrandoBloquesSubscripcion]]):he("",!0)],512)),[[K,r.mostrando==="administracion"]]):he("",!0),U(v("div",C3,[U(Se(s,null,null,512),[[K,e.$apollo.queries.informes.loading]]),e.$apollo.queries.informes.loading?he("",!0):(H(),Y("div",T3,[v("div",x3,[U(v("div",I3,[v("div",{class:de(["boton selector",{activo:r.periodoInforme==="primero"}]),onClick:t[16]||(t[16]=d=>r.periodoInforme="primero")}," I ",2),v("div",{class:de(["boton selector",{activo:r.periodoInforme==="segundo"}]),onClick:t[17]||(t[17]=d=>r.periodoInforme="segundo")}," II ",2),v("div",{class:de(["boton selector",{activo:r.periodoInforme==="tercero"}]),onClick:t[18]||(t[18]=d=>r.periodoInforme="tercero")}," III ",2),v("div",{class:de(["boton selector",{activo:r.periodoInforme==="total"}]),onClick:t[19]||(t[19]=d=>r.periodoInforme="total")}," Total ",2)],512),[[K,e.usuarioProfe]]),U(v("div",{class:"boton",onClick:t[20]||(t[20]=(...d)=>n.descargarArchivoInforme&&n.descargarArchivoInforme(...d))},P3,512),[[K,!r.creandoDocumentoInforme]]),U(Se(s,{texto:""},null,512),[[K,r.creandoDocumentoInforme]])]),k3,U(v("textarea",{id:"textAreaInformeObjetivos",onBlur:t[21]||(t[21]=d=>n.guardarInforme("objetivos")),ref:"inputInformeCategoriaObjetivos",class:de(["seccionInforme",{deshabilitado:r.guardandoInformeObjetivos,guardado:r.nuevoInformeObjetivos==n.misInformesActivos.objetivos}]),"onUpdate:modelValue":t[22]||(t[22]=d=>r.nuevoInformeObjetivos=d)},null,34),[[je,r.nuevoInformeObjetivos]]),v("div",O3,[U(v("div",{class:de([{guardado:r.nuevoInformeObjetivos===n.misInformesActivos.objetivos},"boton botonGuardarSeccion"]),onClick:t[23]||(t[23]=d=>n.guardarInforme("objetivos"))},M3,2),[[K,!r.guardandoInformeObjetivos]]),U(Se(s,null,null,512),[[K,r.guardandoInformeObjetivos]])]),F3,U(v("textarea",{id:"textAreaInformeProyectos",onBlur:t[24]||(t[24]=d=>n.guardarInforme("proyectos")),ref:"inputInformeCategoriaProyectos",class:de(["seccionInforme",{deshabilitado:r.guardandoInformeProyectos,guardado:r.nuevoInformeProyectos==n.misInformesActivos.proyectos}]),"onUpdate:modelValue":t[25]||(t[25]=d=>r.nuevoInformeProyectos=d)},null,34),[[je,r.nuevoInformeProyectos]]),v("div",B3,[U(v("div",{class:de([{guardado:r.nuevoInformeProyectos===n.misInformesActivos.proyectos},"boton botonGuardarSeccion"]),onClick:t[26]||(t[26]=d=>n.guardarInforme("proyectos"))},$3,2),[[K,!r.guardandoInformeProyectos]]),U(Se(s,null,null,512),[[K,r.guardandoInformeProyectos]])]),U3,U(v("textarea",{id:"textAreaInformeProyectos",onBlur:t[27]||(t[27]=d=>n.guardarInforme("espacios")),ref:"inputInformeCategoriaEspacios",class:de(["seccionInforme",{deshabilitado:r.guardandoInformeEspacios,guardado:r.nuevoInformeEspacios==n.misInformesActivos.espacios}]),"onUpdate:modelValue":t[28]||(t[28]=d=>r.nuevoInformeEspacios=d)},null,34),[[je,r.nuevoInformeEspacios]]),v("div",q3,[U(v("div",{class:de([{guardado:r.nuevoInformeEspacios===n.misInformesActivos.espacios},"boton botonGuardarSeccion"]),onClick:t[29]||(t[29]=d=>n.guardarInforme("espacios"))},z3,2),[[K,!r.guardandoInformeEspacios]]),U(Se(s,null,null,512),[[K,r.guardandoInformeEspacios]])]),V3,U(v("textarea",{id:"textAreaInformeComentario",onBlur:t[30]||(t[30]=d=>n.guardarInforme("comentario")),ref:"inputInformeCategoriaComentario",class:de(["seccionInforme",{deshabilitado:r.guardandoInformeComentario,guardado:r.nuevoInformeComentario==n.misInformesActivos.comentario}]),"onUpdate:modelValue":t[31]||(t[31]=d=>r.nuevoInformeComentario=d)},null,34),[[je,r.nuevoInformeComentario]]),v("div",H3,[U(v("div",{class:de([{guardado:r.nuevoInformeComentario===n.misInformesActivos.comentario},"boton botonGuardarSeccion"]),onClick:t[32]||(t[32]=d=>n.guardarInforme("comentario"))},Q3,2),[[K,!r.guardandoInformeComentario]]),U(Se(s,null,null,512),[[K,r.guardandoInformeComentario]])])]))],512),[[K,r.mostrando==="informe"]]),r.mostrando==="calendario"?(H(),Y("div",G3,[Se(l,{idUsuarioTarget:o.estaPersona.id,ref:"calendario",enfasis:"eventosPersonales"},null,8,["idUsuarioTarget"])])):he("",!0),r.mostrando==="rutaGrado"?U((H(),Y("div",K3,[Se(c,{idUsuario:o.estaPersona.id},null,8,["idUsuario"])],512)),[[K,r.mostrando==="rutaGrado"]]):he("",!0),U(v("div",J3,[(H(!0),Y(Me,null,Ve(o.estaPersona.objetivos,(d,p)=>(H(),Y("div",{class:"objetivoPersonal",key:"objetivo"+p},ve(d),1))),128)),U(v("div",Y3," Aún no hay objetivos ",512),[[K,!((u=o.estaPersona.objetivos)!=null&&u.length)>0]])],512),[[K,r.mostrando=="objetivos"]])])],2)}const Z3=Le(x8,[["render",X3],["__scopeId","data-v-3357c93e"]]),ej="/caracol/assets/search-f1647707.svg",tj=/[^ a-zA-Z-]/,xv=Pe`
    query {
        todosUsuarios {
            id
            nombres
            apellidos
            permisos
            username
            objetivos
        }
    }
    `,oj=Pe`
    query($listaPermisos: [String], $pagina: Int!){
        usuariosByPermisos(listaPermisos: $listaPermisos, pagina: $pagina){
            id
            nombres
            apellidos
            permisos
            username
            objetivos
        }
    }
    `,rj={name:"Personas",components:{Loading:ut,PersonaVistaLista:Z3},apollo:{personas:{query:oj,variables(){return{listaPermisos:this.arrayPermisosDescargarPersonas,pagina:0}},update:function({usuariosByPermisos:e}){return e.length<this.sizePaginaPersonas&&(this.hayMasPaginasPersonas=!1),e},skip(){return!this.tipoMostrarUsuarios},fetchPolicy:"cache-and-network"},personasConEspacio:{query:Pe`
                query ($dateActual: Date) {
                    todosUsuarios(dateActual: $dateActual) {
                        id
                        espacioActual
                    }
                }
                `,variables(){return{dateActual:Date.now()}},update({todosUsuarios:e}){return e}}},data(){const e=localStorage.getItem("configuracionPersonas");var t={};return e&&(t=JSON.parse(e)),{hayMasPaginasPersonas:!0,sizePaginaPersonas:10,personas:[],arrayPermisosDescargarPersonas:[],paginaFetchMorePersonas:0,personasConEspacio:[],nodosSolidaridadPublicitados:[],idPersonaMenuCx:null,idPersonaSeleccionada:null,tipoMostrarUsuarios:"estudiantes",permisoInput:"",textoBuscar:null,mostrandoInputBuscar:!1,personasBuscadas:[],descargandoBuscados:!1,mostrarEspacioActual:t.mostrarEspacioActual!=null&&t.mostrarEspacioActual!=null?t.mostrarEspacioActual:!0,mostrandoConfiguracion:!1}},methods:{checkIfFetchMore(){this.$refs.listaPersonas.getBoundingClientRect().bottom<=window.innerHeight&&this.fetchMorePersonas()},fetchMorePersonas(){console.log("Refetching more personas"),!this.$apollo.queries.personas.loading&&this.hayMasPaginasPersonas&&(this.paginaFetchMorePersonas++,console.log("De página "+this.paginaFetchMorePersonas),this.$apollo.queries.personas.fetchMore({variables:{permisos:this.arrayPermisosDescargarPersonas,pagina:this.paginaFetchMorePersonas},updateQuery:(e,{fetchMoreResult:t})=>(console.log("Updating query"),t.usuariosByPermisos.length<this.sizePaginaPersonas&&(this.hayMasPaginasPersonas=!1),{usuariosByPermisos:[...e.usuariosByPermisos,...t.usuariosByPermisos]})}))},setLocalStorageConfiguracion(){const e={mostrarEspacioActual:this.mostrarEspacioActual},t=JSON.stringify(e);localStorage.setItem("configuracionPersonas",t)},copiarId(e){let t=e.target.innerText.trim();const o=document.createElement("textarea");o.value=t,document.body.appendChild(o),o.select(),document.execCommand("copy"),document.body.removeChild(o)},eliminarPersonaDeDatabase(e){confirm("¿Seguro de eliminar a este individuo?")&&console.log(`Se eliminara una persona con id ${e} de la base de datos`),this.$apollo.mutate({mutation:Pe`
                        mutation ($idUsuario: ID!) {
                            eliminarUsuario(idUsuario: $idUsuario)
                        }
                        `,variables:{idUsuario:e},update:(t,{data:{eliminarUsuario:o}})=>{if(console.log(`Data: ${o}`),o)try{let i=t.readQuery({query:xv,variables:{idUsuario:e}});console.log(`cache: ${i}`);let r=i.todosUsuarios.findIndex(n=>n.id==e);r>-1&&i.todosUsuarios.splice(r,1),console.log(`cache: ${i}`),t.writeQuery({query:xv,variables:{idUsuario:e},data:i})}catch(i){console.log(`Error actualizando cache. E:${i}`)}}}).then(t=>{console.log(`Res: ${JSON.stringify(t)}`),t.data&&console.log("Usuario eliminado exitosamente")}).catch(t=>{console.log(`Error eliminando usuario: E: ${t}`)})},asignarPermisoTodos(){if(this.permisoIlegal){console.log("No enviado");return}confirm("¿Asignar este permiso a todas las personas?")&&this.$apollo.mutate({mutation:Pe`
                        mutation ($nuevoPermiso: String!) {
                            asignarPermisoTodosUsuarios(nuevoPermiso: $nuevoPermiso)
                        }
                        `,variables:{nuevoPermiso:this.permisoInput}}).then(()=>{alert("Permiso "+this.permisoInput+" asignado para todos los usuarios")})},iniciarBuscar(){this.mostrandoInputBuscar=!0,this.$nextTick(()=>{this.$refs.inputBuscar.focus()})},cancelarBusqueda(){this.textoBuscar=null,this.mostrandoInputBuscar=!1},getBuscados(){if(this.textoBuscar=this.$refs.inputBuscar.value,!this.textoBuscar||this.textoBuscar.length<3){console.log("Demasiado corto");return}this.textoBuscar=this.textoBuscar.trim(),console.log("Descargando lista de personas buscadas"),this.descargandoBuscados=!0,this.$apollo.query({query:Pe`
                query($textoBuscar: String!, $permisos: [String!]){
                    buscarPersonas(textoBuscar: $textoBuscar, permisos: $permisos){
            id
            nombres
            apellidos
            permisos
            username
            objetivos
                    }
                }
                `,variables:{textoBuscar:this.textoBuscar,permisos:this.arrayPermisosDescargarPersonas}}).then(({data:{buscarPersonas:e}})=>{this.descargandoBuscados=!1,this.personasBuscadas=e}).catch(e=>{this.descargandoBuscados=!1,console.log("Error getting personas buscadas: "+e)})}},computed:{opcionesEspecialesPersona:function(){let e=[];return this.usuarioSuperadministrador&&(e=e.concat([{textoVisible:"Eliminar de la base de datos",evento:"eliminandoseDeDatabase"},{textoVisible:"resetear contraseña (123456)",evento:"reseteandoPass"}])),e},permisoIlegal(){return!!(this.permisoInput.length<1||tj.test(this.permisoInput))},personasVisibles(){return this.mostrandoInputBuscar?this.personasBuscadas:this.personas}},watch:{tipoMostrarUsuarios:{handler:function(e,t){let o=[];e==="estudiantes"?o=["maestraVida-estudiante"]:e==="profesores"?o=["maestraVida-profesor"]:e==="graduados"?o=["maestraVida-graduado"]:e==="todos"&&(o=["usuario"]),this.paginaFetchMorePersonas=0,this.hayMasPaginasPersonas=!0,this.mostrandoInputBuscar=!1,this.textoBuscar=null,this.arrayPermisosDescargarPersonas=o},immediate:!0},mostrarEspacioActual(){this.setLocalStorageConfiguracion()}}},Lo=e=>(Ge("data-v-5b3a4e59"),e=e(),Ke(),e),ij={class:"barraSeccion"},nj={class:"contenedorControles",style:{"margin-left":"auto"}},sj=Lo(()=>v("img",{src:hl,alt:"Configuración",style:{}},null,-1)),aj=[sj],lj={class:"zonaConfiguracion"},cj=Lo(()=>v("div",{class:"barraSeccion"},"Configuración",-1)),uj={class:"contenedorBloquesConfiguracion"},dj={class:"bloqueConfiguracion"},fj={class:"campoConfiguracion"},hj=Lo(()=>v("label",{for:"checkMostrarEspacioActual"},"Mostrar espacio en el que se encuentra cada persona",-1)),pj={class:"zonaConfiguracion"},mj={class:"contenedorBloquesConfiguracion"},vj={class:"bloqueConfiguracion"},gj={class:"campoConfiguracion",id:"campoUsuariosMostrados"},yj=Lo(()=>v("span",{style:{width:"100%"}}," Mostrar:",-1)),bj={class:"opcion"},wj=Lo(()=>v("label",{for:"mostrarTodos"},"Todos",-1)),Ej={class:"opcion"},_j=Lo(()=>v("label",{for:"mostrarEstudiantes"},"Estudiantes",-1)),Sj={class:"opcion"},Aj=Lo(()=>v("label",{for:"mostrarProfesores"},"Profesorxs",-1)),Nj={class:"opcion"},Cj=Lo(()=>v("label",{for:"mostrarGraduados"},"Graduados",-1)),Tj={id:"zonaBuscar"},xj={class:"barraSuperior"},Ij=Lo(()=>v("img",{src:ej,alt:"Lupa"},null,-1)),Dj=[Ij],Pj=Lo(()=>v("img",{src:Rt,alt:"Equis"},null,-1)),kj=[Pj],Oj={class:"anuncioZonaVacia"};function Rj(e,t,o,i,r,n){const s=Te("router-view"),a=Te("loading"),l=Te("persona-vista-lista");return H(),Y("div",{class:"personas",onScroll:t[13]||(t[13]=(...c)=>n.checkIfFetchMore&&n.checkIfFetchMore(...c))},[Se(s),v("div",ij,[v("div",nj,[v("div",{class:"boton",onClick:t[0]||(t[0]=c=>r.mostrandoConfiguracion=!r.mostrandoConfiguracion)},aj)])]),U(v("div",lj,[cj,v("div",uj,[v("div",dj,[v("div",fj,[hj,U(v("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>r.mostrarEspacioActual=c),type:"checkbox",name:"checkMostrarEspacioActual",id:"checkMostrarEspacioActual",ref:"checkMostrarEspacioActual"},null,512),[[dr,r.mostrarEspacioActual]])])])])],512),[[K,r.mostrandoConfiguracion]]),v("div",pj,[v("div",mj,[v("div",vj,[v("div",gj,[yj,v("div",bj,[wj,U(v("input",{type:"radio",name:"radioMostrarTodos",ref:"mostrarTodos",value:"todos","onUpdate:modelValue":t[2]||(t[2]=c=>r.tipoMostrarUsuarios=c),id:"radioMostrarTodos"},null,512),[[zr,r.tipoMostrarUsuarios]])]),v("div",Ej,[_j,U(v("input",{type:"radio",name:"radioMostrarEstudiantes",ref:"mostrarEstudiantes",value:"estudiantes","onUpdate:modelValue":t[3]||(t[3]=c=>r.tipoMostrarUsuarios=c),id:"radioMostrarEstudiantes"},null,512),[[zr,r.tipoMostrarUsuarios]])]),v("div",Sj,[Aj,U(v("input",{type:"radio",name:"radioMostrarProfesores",ref:"mostrarProfesores",value:"profesores","onUpdate:modelValue":t[4]||(t[4]=c=>r.tipoMostrarUsuarios=c),id:"radioMostrarProfesores"},null,512),[[zr,r.tipoMostrarUsuarios]])]),v("div",Nj,[Cj,U(v("input",{type:"radio",name:"radioMostrarGraduados",ref:"mostrarGraduados",value:"graduados","onUpdate:modelValue":t[5]||(t[5]=c=>r.tipoMostrarUsuarios=c),id:"radioMostrarGraduados"},null,512),[[zr,r.tipoMostrarUsuarios]])])])])])]),v("div",Tj,[v("div",xj,[U(v("input",{type:"text",ref:"inputBuscar","onUpdate:modelValue":t[6]||(t[6]=c=>r.textoBuscar=c),onKeypress:t[7]||(t[7]=pt((...c)=>n.getBuscados&&n.getBuscados(...c),["enter"]))},null,544),[[je,r.textoBuscar],[K,r.mostrandoInputBuscar]]),U(v("div",{class:"boton",onClick:t[8]||(t[8]=(...c)=>n.iniciarBuscar&&n.iniciarBuscar(...c))},Dj,512),[[K,!r.mostrandoInputBuscar]]),U(v("div",{class:"boton",title:"Cancelar",onClick:t[9]||(t[9]=(...c)=>n.cancelarBusqueda&&n.cancelarBusqueda(...c))},kj,512),[[K,r.mostrandoInputBuscar]])])]),v("div",{ref:"listaPersonas",id:"listaPersonas",onClick:t[12]||(t[12]=c=>r.idPersonaMenuCx=null)},[U(Se(a,null,null,512),[[K,r.mostrandoInputBuscar&&r.descargandoBuscados]]),U(v("div",Oj," ... ",512),[[K,n.personasVisibles.length<1]]),(H(!0),Y(Me,null,Ve(n.personasVisibles,c=>(H(),qe(l,{key:c.id,seleccionado:r.idPersonaSeleccionada===c.id,estaPersona:c,personasConEspacio:r.personasConEspacio,mostrarEspacioActual:r.mostrarEspacioActual,onClick:u=>r.idPersonaSeleccionada=c.id,onAlienandoPersona:t[10]||(t[10]=u=>e.$emit("alienandoPersona",u))},null,8,["seleccionado","estaPersona","personasConEspacio","mostrarEspacioActual","onClick"]))),128)),v("div",{class:de(["botonTexto",{deshabilitado:e.$apollo.queries.personas.loading}]),onClick:t[11]||(t[11]=Ae((...c)=>n.fetchMorePersonas&&n.fetchMorePersonas(...c),["stop"]))}," Cargar mas... ",2)],512),U(Se(a,{texto:"Cargando lista de personas..."},null,512),[[K,e.$apollo.queries.personas.loading]])],32)}const Mj=Le(rj,[["render",Rj],["__scopeId","data-v-5b3a4e59"]]),Ew="/caracol/assets/exclamationCircle-1e9df160.svg",Fj={components:{Loading:ut},name:"EventoItemLista",props:{esteEvento:Object},mixins:[vs,gs,s0,Nf],data(){return{mostrando:null,eliminandose:!1}}},Kf=e=>(Ge("data-v-8fbb8e28"),e=e(),Ke(),e),Bj={id:"barraSuperior"},Lj={id:"zonaInfoHorario",style:{display:"flex"}},$j={id:"horarioInicio",class:"infoHorario"},Uj={id:"zonaBotones"},qj=Kf(()=>v("img",{src:cl,alt:"Expandir"},null,-1)),jj=[qj],zj=Kf(()=>v("img",{src:Ew,alt:"Informacion"},null,-1)),Vj=[zj],Hj=Kf(()=>v("img",{src:Nr,alt:"Eliminar"},null,-1)),Wj=[Hj],Qj={id:"barraInfo"},Gj={id:"zonaNombre"},Kj={id:"zonaDescripcion",class:"zonaPrimerNivel"},Jj={class:"contenedorBotonesCampo"};function Yj(e,t,o,i,r,n){const s=Te("loading");return H(),Y("div",{class:de(["eventoItemLista",{deshabilitado:r.eliminandose}])},[v("div",Bj,[v("div",Lj,[v("div",$j,ve(e.dateInicioLegible+", "+e.duracionLegible),1)]),v("div",Uj,[v("div",{class:"boton botonControlEvento",title:"Expandir este evento",onClick:t[0]||(t[0]=Ae(a=>e.$router.push(e.$route.path+"/ventanaEventoPublico/"+o.esteEvento.id),["stop"]))},jj),v("div",{class:"boton botonMostrar",onClick:t[1]||(t[1]=a=>r.mostrando=r.mostrando==="descripcion"?null:"descripcion")},Vj),U(v("div",{class:"boton",id:"botonEliminarse",style:{"margin-left":"min(20px, 3%)"},onClick:t[2]||(t[2]=(...a)=>e.eliminarse&&e.eliminarse(...a))},Wj,512),[[K,e.administrador||e.usuarioSuperadministrador]])])]),v("div",Qj,[v("div",Gj,[U(v("input",{onKeypress:t[3]||(t[3]=pt(Ae((...a)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...a),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[4]||(t[4]=a=>e.nuevoNombre=a),style:{width:"250px"},onClick:t[5]||(t[5]=Ae(()=>{},["stop"])),onBlur:t[6]||(t[6]=a=>e.editandoNombre=!1),onKeydown:t[7]||(t[7]=(...a)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...a)),type:"text",class:de(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[je,e.nuevoNombre],[K,e.editandoNombre]]),U(Se(s,{texto:""},null,512),[[K,e.enviandoNuevoNombre]]),U(v("div",{id:"elNombre",class:de({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[8]||(t[8]=(...a)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...a))},ve(o.esteEvento.nombre),3),[[K,!e.editandoNombre]])])]),U(v("div",Kj,[U(v("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[9]||(t[9]=(...a)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...a))},ve(o.esteEvento.descripcion),513),[[K,!e.editandoDescripcion]]),U(v("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:de(["inputTextoNodo",{letrasRojas:e.nuevoDescripcionIlegal}]),"onUpdate:modelValue":t[10]||(t[10]=a=>e.nuevoDescripcion=a)},null,2),[[je,e.nuevoDescripcion],[K,e.editandoDescripcion]]),U(v("div",Jj,[v("img",{src:en,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[11]||(t[11]=(...a)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...a))}),v("img",{src:Rt,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[12]||(t[12]=a=>e.editandoDescripcion=!1)})],512),[[K,e.editandoDescripcion]]),U(Se(s,{texto:"Enviando..."},null,512),[[K,e.enviandoNuevoDescripcion]])],512),[[K,r.mostrando==="descripcion"]])],2)}const Xj=Le(Fj,[["render",Yj],["__scopeId","data-v-8fbb8e28"]]),tu=Ce`
  query ($idEspacio: ID!) {
    eventosPublicosEspacio(idEspacio: $idEspacio) {
      ...fragEventoPublico
    }
  }
  ${on}
`,Zj={components:{EventoItemLista:Xj,Loading:ut},props:{idEspacio:String},name:"ListaEventosEspacio",apollo:{eventosPublicosEspacio:{query:tu,variables(){return{idEspacio:this.idEspacio}},fetchPolicy:"cache-and-network"}},data(){return{idEventoSeleccionado:null,eventosPublicosEspacio:[]}},methods:{deleteEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var o=null;if(t==="eventoPublico")o={query:tu,variables:{idEspacio:this.idEspacio}};else if(t==="eventoPersonal"){console.log("add cache eventos personales not developed");return}else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,r=i.readQuery({...o});var n=JSON.parse(JSON.stringify(r)),s=null;t==="eventoPublico"?s=n.eventosPublicosEspacio:t==="eventoPersonal"&&(s=n.eventosPersonalesEspacio);const a=s.findIndex(l=>l.id===e.id);a>-1&&(s.splice(a,1),i.writeQuery({...o,data:n}))},addEventoCache(e){const t=e.__typename.charAt(0).toLowerCase()+e.__typename.slice(1);var o=null;if(t==="eventoPublico")o={query:tu,variables:{idEspacio:this.idEspacio}};else if(t==="eventoPersonal"){console.log("add cache eventos personales not developed");return}else{console.log(`Tipo evento ${t} no reconocido`);return}const i=this.$apollo.provider.defaultClient,r=i.readQuery({...o});var n=JSON.parse(JSON.stringify(r)),s=null;t==="eventoPublico"?s=n.eventosPublicosEspacio:t==="eventoPersonal"&&(s=n.eventosPersonalesEspacio),s.findIndex(l=>l.id===e.id)===-1&&(s.push(e),i.writeQuery({...o,data:n}))}},computed:{eventosPublicosEspacioOrdenados(){return[...this.eventosPublicosEspacio].sort((e,t)=>-new Date(e.horarioInicio).getTime()+new Date(t.horarioInicio).getTime())}}},ez={class:"listaEventosEspacio"};function tz(e,t,o,i,r,n){const s=Te("loading"),a=Te("evento-item-lista");return H(),Y("div",ez,[U(Se(s,{texto:""},null,512),[[K,e.$apollo.queries.eventosPublicosEspacio.loading]]),(H(!0),Y(Me,null,Ve(n.eventosPublicosEspacioOrdenados,l=>(H(),qe(a,{esteEvento:l,key:l.id,seleccionado:r.idEventoSeleccionado===l.id,onMeElimine:c=>{n.deleteEventoCache(l)}},null,8,["esteEvento","seleccionado","onMeElimine"]))),128))])}const oz=Le(Zj,[["render",tz],["__scopeId","data-v-304cab60"]]),rz="/caracol/assets/userCog-13234f22.svg",iz="/caracol/assets/clipboardList-6ff4ab60.svg",Al="/caracol/assets/equis-115f5fad.svg",nz={components:{Loading:ut,IconoPersonaAutonomo:Zi,Calendario:Tf,ListaEventosEspacio:oz},name:"Espacio",props:{esteEspacio:Object},data(){return{abierto:!1,mostrando:null,nuevoNombre:"Nuevo nombre",editandoNombre:!1,enviandoNuevoNombre:!1,nuevoDescripcion:"Nueva descripcion",editandoDescripcion:!1,enviandoNuevoDescripcion:!1,mostrandoCuadroCrearEventoPublico:!1,nombreNuevoEventoPublico:"Espacio de "+this.esteEspacio.nombre,dateInicioNuevoEventoPublico:null,dateFinalNuevoEventoPublico:null,horarioInicioNuevoEventoPublico:null,horarioFinalNuevoEventoPublico:null,duracionNuevoEventoPublico:60,creandoEventoPublico:!1,enviandoNuevoEventoPublico:!1,introduciendoEventoPublicoCalendario:!1,settingEstadoParaChiquis:!1,eliminandose:!1}},methods:{toggleEstadoParaChiquis(){if(!this.usuarioSuperadministrador&&!this.administrador){console.log("No autorizado");return}this.settingEstadoParaChiquis=!0,this.$apollo.mutate({mutation:Ce`
          mutation($idEspacio: ID!, $nuevoEstado:Boolean!){
            setEspacioParaChiquis(idEspacio: $idEspacio, nuevoEstado: $nuevoEstado){
               id
               paraChiquis 
            }
          }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoEstado:!this.esteEspacio.paraChiquis}}).then(()=>{this.settingEstadoParaChiquis=!1}).catch(e=>{console.log("Error: "+e),this.settingEstadoParaChiquis=!1})},guardarNuevoNombre(){if(this.nuevoNombre=this.$refs.inputNuevoNombre.value,this.nuevoNombreIlegal){console.log("No enviado");return}if(this.nuevoNombre==this.esteEspacio.nombre){this.editandoNombre=!1;return}console.log("guardando nuevo nombre"),this.enviandoNuevoNombre=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($idEspacio: ID!, $nuevoNombre: String!) {
              editarNombreEspacio(
                idEspacio: $idEspacio
                nuevoNombre: $nuevoNombre
              ) {
                id
                nombre
              }
            }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoNombre:this.nuevoNombre}}).then(()=>{this.enviandoNuevoNombre=!1,this.editandoNombre=!1}).catch(e=>{this.enviandoNuevoNombre=!1,console.log(`Error. E :${e}`)})},guardarNuevoDescripcion(){if(this.nuevoDescripcionIlegal){console.log("No enviado");return}if(this.nuevoDescripcion==this.esteEspacio.descripcion){this.editandoDescripcion=!1;return}console.log("guardando nuevo descripcion"),this.enviandoNuevoDescripcion=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($idEspacio: ID!, $nuevoDescripcion: String!) {
              editarDescripcionEspacio(
                idEspacio: $idEspacio
                nuevoDescripcion: $nuevoDescripcion
              ) {
                id
                descripcion
              }
            }
          `,variables:{idEspacio:this.esteEspacio.id,nuevoDescripcion:this.nuevoDescripcion}}).then(()=>{this.enviandoNuevoDescripcion=!1,this.editandoDescripcion=!1}).catch(e=>{this.enviandoNuevoDescripcion=!1,console.log(`Error. E :${e}`)})},toggleEditandoDescripcion(){this.administrador&&(this.$refs.inputNuevoDescripcion.style.height=this.$refs.descripcion.offsetHeight+"px",this.editandoDescripcion=!this.editandoDescripcion,this.nuevoDescripcion=this.esteEspacio.descripcion,this.editandoDescripcion&&this.$nextTick(()=>{this.$refs.inputNuevoDescripcion.focus()}))},toggleEditandoNombre(e){this.administrador&&(e.stopPropagation(),this.editandoNombre=!0,this.nuevoNombre=this.esteEspacio.nombre,this.$nextTick(()=>{this.$refs.inputNuevoNombre.focus()}))},keydownInputNuevoNombre(e){e.key==="Escape"&&(this.editandoNombre=!1)},iniciarCreacionEvento(){this.introduciendoEventoPublicoCalendario=!0},eliminarse(){confirm("¿Confirmar la eliminación de este espacio? (Esta acción no puede deshacerse)")&&(!this.administrador&&!this.usuarioSuperadministrador||(this.eliminandose=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($idEspacio: ID!) {
              eliminarEspacio(idEspacio: $idEspacio)
            }
          `,variables:{idEspacio:this.esteEspacio.id}}).then(()=>{this.$emit("meElimine")}).catch(e=>{console.log(`Error: ${e}`)})))},iniciarCuadroCrearEventoPublico(){this.nombreNuevoEventoPublico="Espacio de "+this.esteEspacio.nombre;var e=new Date;e.setHours(8),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e=new Date(e.getTime()+864e5);const t=e.toISOString().split("T")[0],i=new Date(e.getTime()+36e5).toISOString().split("T")[0];this.dateInicioNuevoEventoPublico=t,this.dateFinalNuevoEventoPublico=i,this.horarioInicioNuevoEventoPublico="08:00",this.horarioFinalNuevoEventoPublico="09:00",this.mostrandoCuadroCrearEventoPublico=!0},crearEventoPublico(){if(!this.administrador&&!this.usuarioSuperadministrador)return;console.log(`Date saved: ${this.dateInicioNuevoEventoPublico}`),this.duracionNuevoEventoPublico=this.$refs.inputDuracionNuevoEventoPublico.value;var e=new Date(this.dateInicioNuevoEventoPublico);console.log(`Date parsed: ${e}`);const t=e.getUTCDate();console.log(`Creando evento público el ${t}`);const o=parseInt(this.horarioInicioNuevoEventoPublico.substring(0,2)),i=parseInt(this.horarioInicioNuevoEventoPublico.substring(3));e.setDate(t),e.setHours(o),e.setMinutes(i);var r=new Date(e.getTime()+this.duracionNuevoEventoPublico*6e4);console.log(`Creando evento público el ${t}`),this.enviandoNuevoEventoPublico=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($infoNuevoEvento: InputCrearEventoPublico) {
              crearEventoPublico(infoNuevoEvento: $infoNuevoEvento) {
                ...fragEventoPublico
              }
            }
            ${on}
          `,variables:{infoNuevoEvento:{nombre:this.$refs.inputNombreNuevoEventoPublico.value,horarioInicio:e,horarioFinal:r,tipoParent:"espacio",idParent:this.esteEspacio.id}}}).then(({data:{crearEventoPublico:n}})=>{this.enviandoNuevoEventoPublico=!1,this.$refs.listaEventosEspacio.addEventoCache(n),this.mostrandoCuadroCrearEventoPublico=!1}).catch(n=>{console.log(`Error: ${n}`),this.enviandoNuevoEventoPublico=!1})}},computed:{administrador(){return this.usuarioLogeado?this.usuario.id===this.esteEspacio.idAdministrador:!1},nuevoNombreIlegal(){return!!(this.nuevoNombre.length<1||sl.test(this.nuevoNombre))},nuevoDescripcionIlegal(){return!!(!this.nuevoDescripcion||this.nuevoDescripcion.length<1||Kb.test(this.nuevoDescripcion))}},watch:{mostrando(e){e!="descripcion"&&(this.editandoDescripcion=!1),e==="descripcion"&&(!this.esteEspacio.descripcion||this.esteEspacio.descripcion.length<1)&&(this.editandoDescripcion||this.toggleEditandoDescripcion())},introduciendoEventoPublicoCalendario(e){e?this.$refs.calendario.eventoSiendoCreado={idParent:this.esteEspacio.id,tipoParent:"espacio",tipoEvento:"eventoPublico",idAdministrador:this.usuario.id}:this.$refs.calendario.eventoSiendoCreado=null}}},Zt=e=>(Ge("data-v-c84e2b4f"),e=e(),Ke(),e),sz={class:"barraSuperior"},az={id:"zona1"},lz={id:"zonaNombre"},cz={id:"zonaBotones"},uz=Zt(()=>v("img",{src:ys,alt:"Informacion"},null,-1)),dz=[uz],fz=Zt(()=>v("img",{src:rz,alt:"Administrador"},null,-1)),hz=[fz],pz=Zt(()=>v("img",{src:If,alt:"Calendario"},null,-1)),mz=[pz],vz=Zt(()=>v("img",{src:iz,alt:"Lista de eventos"},null,-1)),gz=[vz],yz=Zt(()=>v("img",{src:Nr,alt:"Eliminar"},null,-1)),bz=[yz],wz={id:"zonaDescripcion",class:"zonaPrimerNivel"},Ez=Zt(()=>v("img",{src:h0,alt:"Chiqui",style:{height:"15px"}},null,-1)),_z={class:"contenedorBotonesCampo"},Sz={id:"zonaAdministrador",class:"zonaPrimerNivel"},Az={key:0,id:"zonaCalendario",class:"zonaPrimerNivel"},Nz={id:"contenedorControlesCalendario"},Cz=["title"],Tz=Zt(()=>v("img",{src:Cf,alt:"Calendario"},null,-1)),xz=[Tz],Iz=Zt(()=>v("img",{src:Al,alt:"Cancelar"},null,-1)),Dz=[Iz],Pz={key:1,id:"zonaListaEventos",class:"zonaPrimerNivel"},kz={id:"controlesListaEventos",class:"contenedorControles"},Oz=Zt(()=>v("img",{src:Ji,alt:"Crear evento"},null,-1)),Rz=[Oz],Mz=Zt(()=>v("img",{src:Al,alt:"Cancelar"},null,-1)),Fz=[Mz],Bz={class:"bloqueCampoNuevoEventoPublico"},Lz=Zt(()=>v("div",{class:"nombreCampo"},"Nombre",-1)),$z={class:"bloqueCampoNuevoEventoPublico"},Uz=Zt(()=>v("div",{class:"nombreCampo"},"Inicio",-1)),qz={class:"bloqueCampoNuevoEventoPublico"},jz=Zt(()=>v("div",{class:"nombreCampo"},"Duración",-1)),zz=Zt(()=>v("img",{src:Cf,alt:"CrearEvento"},null,-1)),Vz=[zz];function Hz(e,t,o,i,r,n){const s=Te("loading"),a=Te("icono-persona-autonomo"),l=Te("calendario"),c=Te("lista-eventos-espacio");return H(),Y("div",{class:de(["espacio",{mostrando:r.mostrando,deshabilitado:r.eliminandose}])},[v("div",sz,[v("div",az,[v("div",lz,[U(v("input",{onKeypress:t[0]||(t[0]=pt(Ae((...u)=>n.guardarNuevoNombre&&n.guardarNuevoNombre(...u),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[1]||(t[1]=u=>r.nuevoNombre=u),style:{width:"250px"},onClick:t[2]||(t[2]=Ae(()=>{},["stop"])),onBlur:t[3]||(t[3]=(...u)=>n.guardarNuevoNombre&&n.guardarNuevoNombre(...u)),onKeydown:t[4]||(t[4]=(...u)=>n.keydownInputNuevoNombre&&n.keydownInputNuevoNombre(...u)),type:"text",class:de(["inputNuevoNombre inputNombreCosa",{deshabilitado:r.enviandoNuevoNombre}])},null,34),[[je,r.nuevoNombre],[K,r.editandoNombre]]),U(Se(s,{texto:""},null,512),[[K,r.enviandoNuevoNombre]]),U(v("div",{id:"elNombre",class:de({deshabilitado:r.enviandoNuevoNombre,administrador:n.administrador}),onClick:t[5]||(t[5]=(...u)=>n.toggleEditandoNombre&&n.toggleEditandoNombre(...u))},ve(o.esteEspacio.nombre),3),[[K,!r.editandoNombre]])])]),v("div",cz,[v("div",{class:de(["boton botonMostrar selector",{activo:r.mostrando==="descripcion"}]),onClick:t[6]||(t[6]=u=>r.mostrando=r.mostrando==="descripcion"?null:"descripcion")},dz,2),v("div",{class:de(["boton botonMostrar selector",{activo:r.mostrando==="administrador"}]),onClick:t[7]||(t[7]=u=>r.mostrando=r.mostrando==="administrador"?null:"administrador")},hz,2),v("div",{class:de(["boton botonMostrar selector",{activo:r.mostrando==="calendario"}]),onClick:t[8]||(t[8]=u=>r.mostrando=r.mostrando==="calendario"?null:"calendario")},mz,2),v("div",{class:de(["boton botonMostrar selector",{activo:r.mostrando==="listaEventos"}]),onClick:t[9]||(t[9]=u=>r.mostrando=r.mostrando==="listaEventos"?null:"listaEventos")},gz,2),U(v("div",{class:"boton",id:"botonEliminarse",onClick:t[10]||(t[10]=(...u)=>n.eliminarse&&n.eliminarse(...u))},bz,512),[[K,n.administrador||e.usuarioSuperadministrador]])])]),U(v("div",wz,[v("div",{id:"zonaParaChiquis",onClick:t[11]||(t[11]=(...u)=>n.toggleEstadoParaChiquis&&n.toggleEstadoParaChiquis(...u)),class:de({deshabilitado:r.settingEstadoParaChiquis})},[Ez,$e(" "+ve(o.esteEspacio.paraChiquis?"Espacio dirigido a niñxs pequeñxs":"Espacio abierto para todos"),1)],2),U(v("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[12]||(t[12]=(...u)=>n.toggleEditandoDescripcion&&n.toggleEditandoDescripcion(...u))},ve(o.esteEspacio.descripcion),513),[[K,!r.editandoDescripcion]]),U(v("textarea",{id:"inputNuevoDescripcion",ref:"inputNuevoDescripcion",class:de(["inputTextoNodo",{letrasRojas:n.nuevoDescripcionIlegal}]),"onUpdate:modelValue":t[13]||(t[13]=u=>r.nuevoDescripcion=u)},null,2),[[je,r.nuevoDescripcion],[K,r.editandoDescripcion]]),U(v("div",_z,[v("img",{src:en,class:"botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[14]||(t[14]=(...u)=>n.guardarNuevoDescripcion&&n.guardarNuevoDescripcion(...u))}),v("img",{src:Rt,class:"botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[15]||(t[15]=u=>r.editandoDescripcion=!1)})],512),[[K,r.editandoDescripcion]]),U(Se(s,{texto:"Enviando..."},null,512),[[K,r.enviandoNuevoDescripcion]])],512),[[K,r.mostrando==="descripcion"]]),U(v("div",Sz,[Se(a,{idPersona:o.esteEspacio.idAdministrador},null,8,["idPersona"])],512),[[K,r.mostrando==="administrador"]]),r.mostrando==="calendario"?(H(),Y("div",Az,[v("div",Nz,[n.administrador?U((H(),Y("div",{key:0,class:"boton botonControlCalendario",title:"Programar una sesión de "+o.esteEspacio.nombre,onClick:t[16]||(t[16]=(...u)=>n.iniciarCreacionEvento&&n.iniciarCreacionEvento(...u))},xz,8,Cz)),[[K,r.mostrando==="calendario"&&!r.introduciendoEventoPublicoCalendario]]):he("",!0),U(v("div",{class:"boton botonControlCalendario",title:"Cancelar creación de evento",onClick:t[17]||(t[17]=u=>r.introduciendoEventoPublicoCalendario=!1)},Dz,512),[[K,r.mostrando==="calendario"&&r.introduciendoEventoPublicoCalendario]])]),Se(l,{idUsuarioTarget:e.usuario.id,ref:"calendario",idParent:o.esteEspacio.id,enfasis:"eventosPublicos",tipoParent:"espacio",onIniciaCreacionEvento:t[18]||(t[18]=u=>r.introduciendoEventoPublicoCalendario=!1)},null,8,["idUsuarioTarget","idParent"])])):he("",!0),r.mostrando==="listaEventos"?(H(),Y("div",Pz,[v("div",kz,[U(v("div",{class:"boton",title:"Crear nuevo evento de este espacio",onClick:t[19]||(t[19]=(...u)=>n.iniciarCuadroCrearEventoPublico&&n.iniciarCuadroCrearEventoPublico(...u))},Rz,512),[[K,!r.mostrandoCuadroCrearEventoPublico&&(n.administrador||e.usuarioSuperadministrador)]]),U(v("div",{class:"boton",title:"Cancelar",onClick:t[20]||(t[20]=u=>r.mostrandoCuadroCrearEventoPublico=!1)},Fz,512),[[K,r.mostrandoCuadroCrearEventoPublico]]),U(Se(s,{texto:""},null,512),[[K,r.creandoEventoPublico]])]),U(v("div",{id:"cuadroCrearEventoPublico",class:de({deshabilitado:r.enviandoNuevoEventoPublico})},[v("div",Bz,[Lz,U(v("input",{class:"inputCampo",type:"text",name:"",id:"inputNombreNuevoEventoPublico",ref:"inputNombreNuevoEventoPublico","onUpdate:modelValue":t[21]||(t[21]=u=>r.nombreNuevoEventoPublico=u)},null,512),[[je,r.nombreNuevoEventoPublico]])]),v("div",$z,[Uz,U(v("input",{type:"date","onUpdate:modelValue":t[22]||(t[22]=u=>r.dateInicioNuevoEventoPublico=u),class:"inputCampo"},null,512),[[je,r.dateInicioNuevoEventoPublico]]),U(v("input",{type:"time","onUpdate:modelValue":t[23]||(t[23]=u=>r.horarioInicioNuevoEventoPublico=u),class:"inputCampo"},null,512),[[je,r.horarioInicioNuevoEventoPublico]])]),v("div",qz,[jz,U(v("input",{type:"number",ref:"inputDuracionNuevoEventoPublico","onUpdate:modelValue":t[24]||(t[24]=u=>r.duracionNuevoEventoPublico=u),class:"inputCampo"},null,512),[[je,r.duracionNuevoEventoPublico]]),$e(" Minutos ")]),U(v("div",{class:de(["boton",{deshabilitado:!r.duracionNuevoEventoPublico||r.duracionNuevoEventoPublico<5}]),id:"botonCrearEventoPublico",style:{margin:"10px auto"},title:"Crear evento",onClick:t[25]||(t[25]=(...u)=>n.crearEventoPublico&&n.crearEventoPublico(...u))},Vz,2),[[K,!r.creandoEventoPublico]]),U(Se(s,{texto:"",style:{margin:"10px auto"}},null,512),[[K,r.enviandoNuevoEventoPublico]])],2),[[K,r.mostrandoCuadroCrearEventoPublico]]),Se(c,{idEspacio:this.esteEspacio.id,ref:"listaEventosEspacio"},null,8,["idEspacio"])])):he("",!0)],2)}const Wz=Le(nz,[["render",Hz],["__scopeId","data-v-c84e2b4f"]]),Iv="/caracol/assets/angleDown-f350642e.svg",An=Ce`
  query {
    todosEspacios {
      ...fragEspacio
    }
  }
  ${dl}
`,Qz={components:{Espacio:Wz,Loading:ut,OrganizadorHorarioSemanal:v0},props:{yo:Object},apollo:{todosEspacios:{query:An}},name:"Espacios",data(){return{todosEspacios:[],verTodos:!1,creandoEspacio:!1,mostrandoEspacios:!1,mostrandoOrganizadorSemanal:!1,mostrandoConfiguracion:!1,tipoMostrarEspacios:"mios"}},methods:{crearNuevoEspacio(){this.creandoEspacio=!0,this.$apollo.mutate({mutation:Ce`
            mutation ($info: InputCrearEspacio) {
              crearEspacio(info: $info) {
                ...fragEspacio
              }
            }
            ${dl}
          `,variables:{info:{idAdministrador:this.usuario.id}}}).then(({data:{crearEspacio:e}})=>{const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:An}),i=JSON.parse(JSON.stringify(o));i.todosEspacios.findIndex(n=>n.id===e.id)===-1?(i.todosEspacios.push(e),t.writeQuery({query:An,data:i})):console.log("El espacio ya estaba en caché"),this.creandoEspacio=!1}).catch(e=>{console.log(`Error: ${e}`),this.creandoEspacio=!1})},eliminarEspacioCache(e){const t=this.$apollo.provider.defaultClient,o=t.readQuery({query:An});var i=JSON.parse(JSON.stringify(o));const r=i.todosEspacios.findIndex(n=>n.id===e);r>-1&&(i.todosEspacios.splice(r,1),t.writeQuery({query:An,data:i}))},manejarCreacionEventos(e){console.log(`Manejando la repeticion de los eventos de un espacio con id ${e[0].idParent}`)},handleCambioFechaEvento(){console.log("Handling")}},computed:{usuarioProfe(){return this.usuarioLogeado?this.usuario.permisos.includes("maestraVida-profesor"):!1},espaciosVisibles(){return this.tipoMostrarEspacios==="todos"?this.espaciosUsuario.concat(this.espaciosNoUsuario):this.espaciosUsuario},espaciosUsuario(){return this.usuarioLogeado?this.todosEspacios.filter(e=>e.idAdministrador===this.usuario.id):[]},espaciosNoUsuario(){return this.usuarioLogeado?this.todosEspacios.filter(e=>e.idAdministrador!=this.usuario.id):this.todosEspacios}},watch:{mostrandoOrganizadorSemanal(e){e&&this.$refs.organizadorSemanal.$apollo.queries.espacios.refetch()}},beforeRouteLeave(e,t,o){if(this.$refs.organizadorSemanal.checkVentanaBloque()){console.log("Había bloque en ventana");return}o()}},Ss=e=>(Ge("data-v-d09db217"),e=e(),Ke(),e),Gz={class:"espacios"},Kz=Ss(()=>v("img",{src:hl,alt:"Config",style:{}},null,-1)),Jz=[Kz],Yz=Ss(()=>v("img",{src:Ji,alt:"Crear",style:{}},null,-1)),Xz=[Yz],Zz={class:"zonaConfiguracion"},eV=Ss(()=>v("div",{class:"barraSeccion"}," Configuración ",-1)),tV={class:"contenedorBloquesConfiguracion"},oV={class:"bloqueConfiguracion"},rV={class:"campoConfiguracion"},iV=Ss(()=>v("label",{for:"checkMostrarTodosEspacios"},"Mis espacios",-1)),nV=Ss(()=>v("label",{for:"checkMostrarTodosEspacios"},"Todos los espacios",-1)),sV={id:"listaEspacios"},aV={key:0,class:"anuncioZonaVacia"};function lV(e,t,o,i,r,n){const s=Te("router-view"),a=Te("loading"),l=Te("espacio"),c=Te("organizador-horario-semanal");return H(),Y("div",Gz,[Se(s,{id:"visorVentanaEventoPublico",onMeRepetiPeriodicamente:n.manejarCreacionEventos,onEventoCambioFecha:t[0]||(t[0]=u=>n.manejarCreacionEventos([u]))},null,8,["onMeRepetiPeriodicamente"]),v("div",{class:"barraSeccion",onClick:t[4]||(t[4]=u=>r.mostrandoEspacios=!r.mostrandoEspacios)},[v("img",{src:Iv,style:Re([{height:"20px"},[{transform:r.mostrandoEspacios?"none":"rotate(-90deg)"}]]),alt:"Abrir"},null,4),$e(" Espacios "),U(v("div",{class:"contenedorControles",onClick:t[3]||(t[3]=Ae(()=>{},["stop"])),style:{"margin-left":"auto"}},[v("div",{class:"boton",onClick:t[1]||(t[1]=u=>r.mostrandoConfiguracion=!r.mostrandoConfiguracion)},Jz),U(v("div",{class:"boton",onClick:t[2]||(t[2]=Ae((...u)=>n.crearNuevoEspacio&&n.crearNuevoEspacio(...u),["stop"]))},Xz,512),[[K,r.mostrandoEspacios&&!r.creandoEspacio]]),U(Se(a,{texto:""},null,512),[[K,r.creandoEspacio]])],512),[[K,r.mostrandoEspacios]])]),U(v("div",Zz,[eV,v("div",tV,[v("div",oV,[v("div",rV,[$e(" Mostrar: "),iV,U(v("input",{type:"radio",name:"checkMostrarTodosEspacios",id:"checkMostrarTodosEspacios",ref:"checkMostrarTodosEspacios",value:"mios","onUpdate:modelValue":t[5]||(t[5]=u=>r.tipoMostrarEspacios=u)},null,512),[[zr,r.tipoMostrarEspacios]]),nV,U(v("input",{type:"radio",name:"checkMostrarTodosEspacios",id:"checkMostrarTodosEspacios",ref:"checkMostrarTodosEspacios",value:"todos","onUpdate:modelValue":t[6]||(t[6]=u=>r.tipoMostrarEspacios=u)},null,512),[[zr,r.tipoMostrarEspacios]])])])])],512),[[K,r.mostrandoConfiguracion&&r.mostrandoEspacios]]),U(v("div",sV,[!n.espaciosVisibles||n.espaciosVisibles.length<1?(H(),Y("div",aV," Aún no hay espacios ")):he("",!0),(H(!0),Y(Me,null,Ve(n.espaciosVisibles,u=>(H(),qe(l,{ref_for:!0,ref:"espacios",key:u.id,esteEspacio:u,onMeElimine:d=>n.eliminarEspacioCache(u.id)},null,8,["esteEspacio","onMeElimine"]))),128))],512),[[K,r.mostrandoEspacios]]),v("div",{class:"barraSeccion",onClick:t[7]||(t[7]=u=>r.mostrandoOrganizadorSemanal=!r.mostrandoOrganizadorSemanal)},[v("img",{src:Iv,style:Re([{height:"20px"},[{transform:r.mostrandoOrganizadorSemanal?"none":"rotate(-90deg)"}]]),alt:"Abrir"},null,4),$e(" Calendario semanal ")]),U(Se(c,{ref:"organizadorSemanal",yo:o.yo},null,8,["yo"]),[[K,r.mostrandoOrganizadorSemanal]])])}const cV=Le(Qz,[["render",lV],["__scopeId","data-v-d09db217"]]),uV={name:"InfoParticipanteEventoPublico",props:{estaParticipacion:Object,eventoPublico:Object,duracionEventoPublico:Number},data(){return{mostrando:null}},computed:{offsetBarraPresencia(){const o=(this.dateInicio-new Date(this.eventoPublico.horarioInicio))/6e4*100/this.duracionEventoPublico,i=this.duracionMinutos*100/this.duracionEventoPublico;return{left:o+"%",width:i+"%"}},duracionMinutos(){return(this.dateFinal-this.dateInicio)/6e4},horaInicioLegible(){var e=this.dateInicio.getHours(),t=this.dateInicio.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},horaFinalLegible(){var e=this.dateFinal.getHours(),t=this.dateFinal.getMinutes();return(""+e).length<2&&(e="0"+e),(""+t).length<2&&(t="0"+t),e+":"+t},dateInicio(){return new Date(this.estaParticipacion.horarioInicio)},dateFinal(){return new Date(this.estaParticipacion.horarioFinal)}}},_w=e=>(Ge("data-v-0f790998"),e=e(),Ke(),e),dV={class:"infoParticipanteEventoPublico"},fV={id:"barraSuperior"},hV=_w(()=>v("div",{class:"boton iconoUser"},[v("img",{src:as,alt:"Usuario"})],-1)),pV={id:"nombrePersona"},mV={class:"contenedorControles",style:{"margin-left":"auto"}},vV=_w(()=>v("img",{src:ys,alt:"Info"},null,-1)),gV=[vV],yV={id:"barraTiempos"},bV={id:"bloqueInformacion"},wV={id:"nombreEventoPersonal"},EV={id:"horariosEventoPersonal"},_V={key:0,id:"descripcion"};function SV(e,t,o,i,r,n){return H(),Y("div",dV,[v("div",fV,[hV,v("div",pV,ve(o.estaParticipacion.nombresPersona),1),v("div",mV,[v("div",{class:de(["boton",{activo:r.mostrando==="descripcion"}]),onClick:t[0]||(t[0]=s=>r.mostrando=r.mostrando==="descripcion"?null:"descripcion")},gV,2)])]),v("div",yV,[v("div",{id:"barraPresencia",style:Re([n.offsetBarraPresencia])},null,4)]),U(v("div",bV,[v("div",wV,ve(this.estaParticipacion.nombre),1),v("div",EV,ve(n.horaInicioLegible)+"-"+ve(n.horaFinalLegible),1),o.estaParticipacion.descripcion?(H(),Y("div",_V,ve(o.estaParticipacion.descripcion),1)):he("",!0)],512),[[K,r.mostrando==="descripcion"]])])}const AV=Le(uV,[["render",SV],["__scopeId","data-v-0f790998"]]),Sw="/caracol/assets/hourglass-d9e3c275.svg",Aw="/caracol/assets/check-29c8fc2c.svg",NV="/caracol/assets/broadcastTower-216b6220.svg",CV=Ce`
  query ($idEvento: ID!) {
    eventoPublico(idEvento: $idEvento) {
      ...fragEventoPublico
    }
  }
  ${on}
`,TV={name:"VentanaEvento",apollo:{esteEvento:{query:CV,variables(){return{idEvento:this.$route.params.idEvento}},update({eventoPublico:e}){return e},fetchPolicy:"cache-and-network"}},components:{Loading:ut,IconoPersonaAutonomo:Zi,InfoParticipanteEventoPublico:AV},mixins:[vs,Nf,gs,s0,l0],data(){return{}},methods:{broadcastAFuturoMaximoParticipantes(){console.log(`Se fijará que todos los eventos futuros de este espacio tengan ${this.esteEvento.limiteDeCupos}`),confirm("Se fijará que todos los eventos de este espacio (Posteriores a este) tendrán un límite de cupos de "+this.esteEvento.limiteDeCupos+". ¿Continuar?")&&this.$apollo.mutate({mutation:Ce`
          mutation($idEspacio: ID!, $dateFrom: Date!, $limiteDeCupos: Int!){
            setLimiteDeCuposEventosPublicosEspacioFromDate(idEspacio: $idEspacio, dateFrom: $dateFrom, limiteDeCupos: $limiteDeCupos)                        
          }
        `,variables:{idEspacio:this.esteEvento.idParent,dateFrom:this.dateInicio,limiteDeCupos:this.esteEvento.limiteDeCupos}}).then(()=>{}).catch(e=>{console.log(`Error: ${e}`)})}},computed:{}},eo=e=>(Ge("data-v-92bf6e6d"),e=e(),Ke(),e),xV={class:"ventanaEventoPublico"},IV={id:"zonaCobertura"},DV={id:"laVentana"},PV={id:"contenido"},kV={id:"barraSuperior"},OV=eo(()=>v("img",{src:Al,alt:"Salir"},null,-1)),RV=[OV],MV=eo(()=>v("img",{src:Sw,alt:"Repetir"},null,-1)),FV=[MV],BV={id:"zonaRepetir"},LV=eo(()=>v("div",{class:"instruccion",style:{"margin-bottom":"10px"}}," Repetir este evento... ",-1)),$V=eo(()=>v("option",{value:"diariamente"},"Diariamente",-1)),UV=eo(()=>v("option",{value:"semanalmente"},"Semanalmente",-1)),qV=[$V,UV],jV={id:"bloqueCantidadRepetir",style:{margin:"10px auto"}},zV=["min","max"],VV=eo(()=>v("img",{src:Aw,alt:"Aceptar"},null,-1)),HV=[VV],WV={id:"zonaNombre"},QV={id:"zonaTiempos"},GV={id:"bloqueHorarioInicio",class:"bloqueCampo"},KV=eo(()=>v("div",{class:"nombreCampo"},"Inicio",-1)),JV={class:"valorCampo"},YV={id:"bloqueDuracion",class:"bloqueCampo"},XV=eo(()=>v("div",{class:"nombreCampo"},"Duracion",-1)),ZV={class:"valorCampo"},eH={key:0,id:"bloqueLugar",class:"bloqueCampo"},tH=eo(()=>v("div",{class:"nombreCampo"},"Lugar",-1)),oH={class:"valorCampo"},rH={class:"bloqueAdministrador bloqueCampo"},iH=eo(()=>v("div",{class:"nombreCampo"},"Administra",-1)),nH={class:"valorCampo",style:{opacity:"0.9"}},sH={id:"contenedorSelectoresMostrar"},aH=["title"],lH=eo(()=>v("img",{src:ys,alt:"Descripción"},null,-1)),cH=[lH],uH=["title"],dH=eo(()=>v("img",{src:as,alt:"Participantes"},null,-1)),fH=[dH],hH={id:"zonaContenidoMostrando"},pH={id:"zonaDescripcion",class:"zonaInformacion"},mH={class:"contenedorBotonesCampo"},vH={id:"zonaParticipantes"},gH={id:"bloqueMaxParticipantes",class:"bloqueCampo"},yH=eo(()=>v("div",{class:"nombreCampo"},"Maximo:",-1)),bH={class:"valorCampo"},wH=eo(()=>v("img",{src:NV,alt:"Todos"},null,-1)),EH=[wH],_H={id:"listaParticipantes"};function SH(e,t,o,i,r,n){const s=Te("loading"),a=Te("icono-persona-autonomo"),l=Te("info-participante-evento-publico");return H(),Y("div",xV,[v("div",IV,[v("div",DV,[U(Se(s,{texto:""},null,512),[[K,e.$apollo.queries.esteEvento.loading]]),U(v("div",PV,[v("div",kV,[v("div",{class:"boton",title:"Cerrar",style:{"margin-left":"auto"},onClick:t[0]||(t[0]=(...c)=>e.cerrarVentana&&e.cerrarVentana(...c))},RV),e.administrador||e.usuarioSuperadministrador?(H(),Y("div",{key:0,class:"boton",title:"Repetir este evento",onClick:t[1]||(t[1]=c=>e.mostrandoZonaRepetir=!e.mostrandoZonaRepetir)},FV)):he("",!0)]),U(v("div",BV,[LV,U(v("select",{name:"",id:"selectFrecuenciaRepetir","onUpdate:modelValue":t[2]||(t[2]=c=>e.periodoRepetir=c)},qV,512),[[is,e.periodoRepetir]]),v("div",jV,[U(v("input",{type:"number",min:e.minRepetir,max:e.maxRepetir,style:{width:"50px","margin-right":"20px"},name:"",id:"inputCantidadRepetir","onUpdate:modelValue":t[3]||(t[3]=c=>e.cantidadRepetir=c)},null,8,zV),[[je,e.cantidadRepetir]]),$e(" "+ve(e.cantidadRepetir>1?"veces":"vez"),1)]),U(v("div",{class:"boton",style:{margin:"10px auto"},title:"Aceptar",onClick:t[4]||(t[4]=c=>e.repetirEvento(e.cantidadRepetir,e.periodoRepetir))},HV,512),[[K,!e.enviandoQueryRepetir]]),U(Se(s,{texto:"",style:{margin:"10px auto"}},null,512),[[K,e.enviandoQueryRepetir]])],512),[[K,e.mostrandoZonaRepetir]]),v("div",WV,[U(v("input",{onKeypress:t[5]||(t[5]=pt(Ae((...c)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...c),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[6]||(t[6]=c=>e.nuevoNombre=c),onClick:t[7]||(t[7]=Ae(()=>{},["stop"])),onBlur:t[8]||(t[8]=(...c)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...c)),onKeydown:t[9]||(t[9]=(...c)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...c)),type:"text",class:de(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[je,e.nuevoNombre],[K,e.editandoNombre]]),U(Se(s,{texto:""},null,512),[[K,e.enviandoNuevoNombre]]),U(v("div",{id:"elNombre",class:de({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[10]||(t[10]=(...c)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...c))},ve(e.esteEvento.nombre),3),[[K,!e.editandoNombre]])]),v("div",QV,[v("div",GV,[KV,v("div",JV,[U(v("div",{id:"fechaInicio",onClick:t[11]||(t[11]=Ae((...c)=>e.iniciarEdicionFechaInicio&&e.iniciarEdicionFechaInicio(...c),["stop"]))},ve(e.fechaInicioLegible),513),[[K,!e.editandoFechaInicio]]),U(v("input",{type:"date",id:"inputFechaInicio",ref:"inputFechaInicio",onKeypress:t[12]||(t[12]=pt(c=>e.updateFechaInicioHoldDuration(c.target.value),["enter"])),onBlur:t[13]||(t[13]=c=>e.updateFechaInicioHoldDuration(c.target.value))},null,544),[[K,e.editandoFechaInicio]]),U(v("div",{id:"horaInicio",onClick:t[14]||(t[14]=Ae((...c)=>e.iniciarEdicionHoraInicio&&e.iniciarEdicionHoraInicio(...c),["stop"]))},ve(e.horaInicioLegible),513),[[K,!e.editandoHoraInicio]]),U(v("input",{type:"time",id:"inputHoraInicio",ref:"inputHoraInicio",class:de({deshabilitado:e.enviandoSomeHorario}),onBlur:t[15]||(t[15]=c=>e.updateHoraInicioHoldDuration(c.target.value)),onKeypress:t[16]||(t[16]=pt(c=>e.updateHoraInicioHoldDuration(c.target.value),["enter"]))},null,34),[[K,e.editandoHoraInicio]])])]),v("div",YV,[XV,v("div",ZV,[U(v("div",{id:"duracion",onClick:t[17]||(t[17]=Ae((...c)=>e.iniciarEdicionDuracion&&e.iniciarEdicionDuracion(...c),["stop"]))},ve(e.duracionMinutos)+ve(e.duracionMinutos!=1?" minutos":" minuto"),513),[[K,!e.editandoDuracion]]),U(v("input",{type:"number",id:"inputDuracion",style:{width:"100px"},ref:"inputDuracion",class:de({deshabilitado:e.enviandoSomeHorario}),onBlur:t[18]||(t[18]=c=>e.updateDuracion(c.target.value)),onKeypress:t[19]||(t[19]=pt(c=>e.updateDuracion(c.target.value),["enter"]))},null,34),[[K,e.editandoDuracion]])])])]),e.esteEvento.lugar?(H(),Y("div",eH,[tH,v("div",oH,ve(e.esteEvento.lugar),1)])):he("",!0),v("div",rH,[iH,v("div",nH,[Se(a,{factorEscala:"0.5",idPersona:e.esteEvento.idAdministrador},null,8,["factorEscala","idPersona"])])]),v("div",sH,[v("div",{class:de(["boton",{deshabilitado:(!e.esteEvento.descripcion||e.esteEvento.descripcion.length<1)&&!e.administrador}]),style:Re({borderColor:e.mostrando==="descripcion"?"white":"black"}),onClick:t[20]||(t[20]=c=>e.mostrando="descripcion"),title:e.mostrando==="descripcion"?"":"Mostrar descripción"},cH,14,aH),v("div",{class:"boton",style:Re({borderColor:e.mostrando==="participantes"?"white":"black"}),onClick:t[21]||(t[21]=c=>e.mostrando="participantes"),title:e.mostrando==="participantes"?"":"Mostrar participantes del evento"},fH,12,uH)]),v("div",hH,[U(v("div",pH,[U(v("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[22]||(t[22]=(...c)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...c))},ve(e.esteEvento.descripcion),513),[[K,!e.editandoDescripcion]]),U(v("textarea",{id:"inputNuevoDescripcion",class:de(["inputTexto",{letrasRojas:e.nuevoDescripcionIlegal}]),ref:"inputNuevoDescripcion","onUpdate:modelValue":t[23]||(t[23]=c=>e.nuevoDescripcion=c)},null,2),[[je,e.nuevoDescripcion],[K,e.editandoDescripcion]]),U(v("div",mH,[v("img",{src:en,class:"boton botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[24]||(t[24]=(...c)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...c))}),v("img",{src:Rt,class:"boton botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[25]||(t[25]=c=>e.editandoDescripcion=!1)})],512),[[K,e.editandoDescripcion]]),U(Se(s,{texto:"Enviando..."},null,512),[[K,e.enviandoNuevoDescripcion]])],512),[[K,e.mostrando==="descripcion"]]),U(v("div",vH,[v("div",gH,[yH,v("div",bH,[U(v("input",{onKeypress:t[26]||(t[26]=pt(Ae((...c)=>e.guardarNuevoLimiteDeCupos&&e.guardarNuevoLimiteDeCupos(...c),["prevent"]),["enter"])),ref:"inputNuevoLimiteDeCupos","onUpdate:modelValue":t[27]||(t[27]=c=>e.nuevoLimiteDeCupos=c),onClick:t[28]||(t[28]=Ae(()=>{},["stop"])),onBlur:t[29]||(t[29]=(...c)=>e.guardarNuevoLimiteDeCupos&&e.guardarNuevoLimiteDeCupos(...c)),type:"number",class:de(["inputNuevoLimiteDeCupos inputLimiteDeCuposCosa",{deshabilitado:e.enviandoNuevoLimiteDeCupos}])},null,34),[[je,e.nuevoLimiteDeCupos],[K,e.editandoLimiteDeCupos]]),U(Se(s,{texto:""},null,512),[[K,e.enviandoNuevoLimiteDeCupos]]),U(v("div",{id:"elLimiteDeCupos",class:de({deshabilitado:e.enviandoNuevoLimiteDeCupos,administrador:e.administrador}),onClick:t[30]||(t[30]=(...c)=>e.toggleEditandoLimiteDeCupos&&e.toggleEditandoLimiteDeCupos(...c))},ve(e.esteEvento.limiteDeCupos||"Sin límite"),3),[[K,!e.editandoLimiteDeCupos]])]),v("div",{class:"boton",style:{"margin-left":"20px"},onClick:t[31]||(t[31]=(...c)=>n.broadcastAFuturoMaximoParticipantes&&n.broadcastAFuturoMaximoParticipantes(...c)),title:"Fijar este valor para todos los eventos futuros de este espacio"},EH)]),v("div",_H,[(H(!0),Y(Me,null,Ve(e.esteEvento.eventosEnmarcados,c=>(H(),qe(l,{estaParticipacion:c,key:c.id,eventoPublico:e.esteEvento,duracionEventoPublico:e.duracionMinutos},null,8,["estaParticipacion","eventoPublico","duracionEventoPublico"]))),128))])],512),[[K,e.mostrando==="participantes"]])])],512),[[K,!e.$apollo.queries.esteEvento.loading]])])])])}const ou=Le(TV,[["render",SH],["__scopeId","data-v-92bf6e6d"]]),AH=Ce`
  query ($idEvento: ID!) {
    eventoPersonal(idEvento: $idEvento) {
      ...fragEventoPersonal
    }
  }
  ${ni}
`,NH={name:"VentanaEventoPersonal",apollo:{esteEvento:{query:AH,variables(){return{idEvento:this.$route.params.idEvento}},update({eventoPersonal:e}){return e},fetchPolicy:"cache-and-network"}},components:{Loading:ut,IconoPersonaAutonomo:Zi},mixins:[vs,HF,gs,l0],data(){return{mostrandoZonaRepetir:!1,periodoRepetir:"diariamente",cantidadRepetir:1,esteEvento:{idsParticipantes:[]}}},methods:{},computed:{}},Co=e=>(Ge("data-v-4735d611"),e=e(),Ke(),e),CH={class:"ventanaEventoPersonal"},TH={id:"zonaCobertura"},xH={id:"laVentana"},IH={id:"contenido"},DH={id:"barraSuperior"},PH=Co(()=>v("img",{src:Al,alt:"Salir"},null,-1)),kH=[PH],OH=Co(()=>v("img",{src:Sw,alt:"Repetir"},null,-1)),RH=[OH],MH={id:"zonaRepetir"},FH=Co(()=>v("div",{class:"instruccion",style:{"margin-bottom":"10px"}}," Repetir este evento... ",-1)),BH=Co(()=>v("option",{value:"diariamente"},"Diariamente",-1)),LH=Co(()=>v("option",{value:"semanalmente"},"Semanalmente",-1)),$H=[BH,LH],UH={id:"bloqueCantidadRepetir",style:{margin:"10px auto"}},qH=["min","max"],jH=Co(()=>v("img",{src:Aw,alt:"Aceptar"},null,-1)),zH=[jH],VH={id:"zonaNombre"},HH={id:"zonaTiempos"},WH={id:"bloqueHorarioInicio",class:"bloqueCampo"},QH=Co(()=>v("div",{class:"nombreCampo"},"Inicio",-1)),GH={class:"valorCampo"},KH={id:"bloqueDuracion",class:"bloqueCampo"},JH=Co(()=>v("div",{class:"nombreCampo"},"Duracion",-1)),YH={class:"valorCampo"},XH={key:0,id:"bloqueLugar",class:"bloqueCampo"},ZH=Co(()=>v("div",{class:"nombreCampo"},"Lugar",-1)),e2={class:"valorCampo"},t2={id:"contenedorSelectoresMostrar"},o2=["title"],r2=Co(()=>v("img",{src:ys,alt:"Descripción"},null,-1)),i2=[r2],n2=["title"],s2=Co(()=>v("img",{src:Hy,alt:"Participantes"},null,-1)),a2=[s2],l2={id:"zonaContenidoMostrando"},c2={id:"zonaDescripcion",class:"zonaInformacion"},u2={class:"contenedorBotonesCampo"},d2={id:"zonaParticipantes",class:"zonaInformacion"},f2={key:0,id:"listaParticipantes"};function h2(e,t,o,i,r,n){const s=Te("loading"),a=Te("icono-persona-autonomo");return H(),Y("div",CH,[v("div",TH,[v("div",xH,[U(Se(s,{texto:""},null,512),[[K,e.$apollo.queries.esteEvento.loading]]),U(v("div",IH,[v("div",DH,[v("div",{class:"boton",title:"Cerrar",style:{"margin-left":"auto"},onClick:t[0]||(t[0]=(...l)=>e.cerrarVentana&&e.cerrarVentana(...l))},kH),e.administrador||e.usuarioSuperadministrador?(H(),Y("div",{key:0,class:"boton",title:"Repetir este evento",onClick:t[1]||(t[1]=l=>r.mostrandoZonaRepetir=!r.mostrandoZonaRepetir)},RH)):he("",!0)]),U(v("div",MH,[FH,U(v("select",{name:"",id:"selectFrecuenciaRepetir","onUpdate:modelValue":t[2]||(t[2]=l=>r.periodoRepetir=l)},$H,512),[[is,r.periodoRepetir]]),v("div",UH,[U(v("input",{type:"number",min:e.minRepetir,max:e.maxRepetir,style:{width:"50px","margin-right":"20px"},name:"",id:"inputCantidadRepetir","onUpdate:modelValue":t[3]||(t[3]=l=>r.cantidadRepetir=l)},null,8,qH),[[je,r.cantidadRepetir]]),$e(" "+ve(r.cantidadRepetir>1?"veces":"vez"),1)]),U(v("div",{class:"boton",style:{margin:"10px auto"},title:"Aceptar",onClick:t[4]||(t[4]=l=>e.repetirEvento(r.cantidadRepetir,r.periodoRepetir))},zH,512),[[K,!e.enviandoQueryRepetir]]),U(Se(s,{texto:"",style:{margin:"10px auto"}},null,512),[[K,e.enviandoQueryRepetir]])],512),[[K,r.mostrandoZonaRepetir]]),v("div",VH,[U(v("input",{onKeypress:t[5]||(t[5]=pt(Ae((...l)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...l),["prevent"]),["enter"])),ref:"inputNuevoNombre","onUpdate:modelValue":t[6]||(t[6]=l=>e.nuevoNombre=l),onClick:t[7]||(t[7]=Ae(()=>{},["stop"])),onBlur:t[8]||(t[8]=(...l)=>e.guardarNuevoNombre&&e.guardarNuevoNombre(...l)),onKeydown:t[9]||(t[9]=(...l)=>e.keydownInputNuevoNombre&&e.keydownInputNuevoNombre(...l)),type:"text",class:de(["inputNuevoNombre inputNombreCosa",{deshabilitado:e.enviandoNuevoNombre}])},null,34),[[je,e.nuevoNombre],[K,e.editandoNombre]]),U(Se(s,{texto:""},null,512),[[K,e.enviandoNuevoNombre]]),U(v("div",{id:"elNombre",class:de({deshabilitado:e.enviandoNuevoNombre,administrador:e.administrador}),onClick:t[10]||(t[10]=(...l)=>e.toggleEditandoNombre&&e.toggleEditandoNombre(...l))},ve(r.esteEvento.nombre),3),[[K,!e.editandoNombre]])]),v("div",HH,[v("div",WH,[QH,v("div",GH,[U(v("div",{id:"fechaInicio",onClick:t[11]||(t[11]=Ae((...l)=>e.iniciarEdicionFechaInicio&&e.iniciarEdicionFechaInicio(...l),["stop"]))},ve(e.fechaInicioLegible),513),[[K,!e.editandoFechaInicio]]),U(v("input",{type:"date",id:"inputFechaInicio",ref:"inputFechaInicio",onKeypress:t[12]||(t[12]=pt(l=>e.updateFechaInicioHoldDuration(l.target.value),["enter"])),onBlur:t[13]||(t[13]=l=>e.updateFechaInicioHoldDuration(l.target.value))},null,544),[[K,e.editandoFechaInicio]]),U(v("div",{id:"horaInicio",onClick:t[14]||(t[14]=Ae((...l)=>e.iniciarEdicionHoraInicio&&e.iniciarEdicionHoraInicio(...l),["stop"]))},ve(e.horaInicioLegible),513),[[K,!e.editandoHoraInicio]]),U(v("input",{type:"time",id:"inputHoraInicio",ref:"inputHoraInicio",class:de({deshabilitado:e.enviandoSomeHorario}),onBlur:t[15]||(t[15]=l=>e.updateHoraInicioHoldDuration(l.target.value)),onKeypress:t[16]||(t[16]=pt(l=>e.updateHoraInicioHoldDuration(l.target.value),["enter"]))},null,34),[[K,e.editandoHoraInicio]])])]),v("div",KH,[JH,v("div",YH,[U(v("div",{id:"duracion",onClick:t[17]||(t[17]=Ae((...l)=>e.iniciarEdicionDuracion&&e.iniciarEdicionDuracion(...l),["stop"]))},ve(e.duracionMinutos)+ve(e.duracionMinutos!=1?" minutos":" minuto"),513),[[K,!e.editandoDuracion]]),U(v("input",{type:"number",id:"inputDuracion",style:{width:"100px"},ref:"inputDuracion",class:de({deshabilitado:e.enviandoSomeHorario}),onBlur:t[18]||(t[18]=l=>e.updateDuracion(l.target.value)),onKeypress:t[19]||(t[19]=pt(l=>e.updateDuracion(l.target.value),["enter"]))},null,34),[[K,e.editandoDuracion]])])])]),r.esteEvento.lugar?(H(),Y("div",XH,[ZH,v("div",e2,ve(r.esteEvento.lugar),1)])):he("",!0),v("div",t2,[v("div",{class:de(["boton",{deshabilitado:(!r.esteEvento.descripcion||r.esteEvento.descripcion.length<1)&&!e.administrador}]),style:Re({borderColor:e.mostrando==="descripcion"?"white":"black"}),onClick:t[20]||(t[20]=l=>e.mostrando="descripcion"),title:e.mostrando==="descripcion"?"":"Mostrar descripción"},i2,14,o2),v("div",{class:"boton",title:e.mostrando==="participantes"?"Ocultar participantes":"Mostrar participantes",onClick:t[21]||(t[21]=l=>e.mostrando=e.mostrando==="participantes"?null:"participantes")},a2,8,n2)]),v("div",l2,[U(v("div",c2,[U(v("div",{id:"descripcion",class:"contenidoTexto",ref:"descripcion",onClick:t[22]||(t[22]=(...l)=>e.toggleEditandoDescripcion&&e.toggleEditandoDescripcion(...l))},ve(r.esteEvento.descripcion),513),[[K,!e.editandoDescripcion]]),U(v("textarea",{id:"inputNuevoDescripcion",class:de(["inputTexto",{letrasRojas:e.nuevoDescripcionIlegal}]),ref:"inputNuevoDescripcion","onUpdate:modelValue":t[23]||(t[23]=l=>e.nuevoDescripcion=l)},null,2),[[je,e.nuevoDescripcion],[K,e.editandoDescripcion]]),U(v("div",u2,[v("img",{src:en,class:"boton botonGuardarCampo",alt:"Guardar",title:"Guardar descripción",id:"botonGuardarDescripcion",onClick:t[24]||(t[24]=(...l)=>e.guardarNuevoDescripcion&&e.guardarNuevoDescripcion(...l))}),v("img",{src:Rt,class:"boton botonGuardarCampo",alt:"Cancelar",title:"Cancelar edición",id:"botonCancelarEdicionDescripcion",onClick:t[25]||(t[25]=l=>e.editandoDescripcion=!1)})],512),[[K,e.editandoDescripcion]]),U(Se(s,{texto:"Enviando..."},null,512),[[K,e.enviandoNuevoDescripcion]])],512),[[K,e.mostrando==="descripcion"]]),U(v("div",d2,[r.esteEvento.idPersona?(H(),Y("div",f2,[(H(!0),Y(Me,null,Ve([r.esteEvento.idPersona].concat(r.esteEvento.idsParticipantes),l=>(H(),qe(a,{key:"participante"+l,idPersona:l,factorEscala:"0.7"},null,8,["idPersona","factorEscala"]))),128))])):he("",!0)],512),[[K,e.mostrando==="participantes"]])])],512),[[K,!e.$apollo.queries.esteEvento.loading]])])])])}const ru=Le(NH,[["render",h2],["__scopeId","data-v-4735d611"]]),p2="/caracol/assets/caracol-38cbe907.png",m2="/caracol/assets/bigBotonAtlas-3c6c5acc.png",v2={name:"Landing",components:{PieProgreso:us},apollo:{yo:{query:Pe`
        query {
          yo {
            nombres
            apellidos
            atlas {
              id
              idNodoTarget
              colecciones {
                id
                nombre
              }
              datosNodos {
                id
                idNodo
                estadoAprendizaje
              }
            }
          }
        }
      `,fetchPolicy:"cache-first",skip(){var e;return!((e=this.usuario)!=null&&e.id)}},coleccionMostrada:{query:Pe`
        query ($idColeccion: ID!, $idUsuario: ID!) {
          coleccionNodosConocimiento(
            idColeccion: $idColeccion
            idUsuario: $idUsuario
          ) {
            id
            nombre
            progreso
          }
        }
      `,variables(){var e;return{idColeccion:this.idColeccionMostrada,idUsuario:(e=this.usuario)==null?void 0:e.id}},update({coleccionNodosConocimiento:e}){return e},skip(){var e;return!((e=this.usuario)!=null&&e.id)||!this.idColeccionMostrada}},nodoTarget:{query:Pe`
        query ($idNodo: ID!) {
          nodo(idNodo: $idNodo) {
            id
            nombre
          }
        }
      `,variables(){return{idNodo:this.idNodoTarget}},update({nodo:e}){return e},skip(){return!this.idNodoTarget}},nodoOlvidado:{query:Pe`
        query ($idNodo: ID!) {
          nodo(idNodo: $idNodo) {
            id
            nombre
            tipoNodo
          }
        }
      `,variables(){return{idNodo:this.idNodoOlvidado}},update({nodo:e}){return e},skip(){return!this.idNodoOlvidado}}},data(){return{coleccionMostrada:{idsNodos:[],idsRed:[]},yo:{atlas:{colecciones:[],datosNodos:[]}},nodoTarget:{},nodoOlvidado:{},versionFoto:0}},computed:{idColeccionMostrada(){let e=this.yo.atlas.colecciones,t=e.length;if(!(t<1))return e[Math.floor(Math.random()*t)].id},idNodoTarget(){return this.yo.atlas.idNodoTarget},idNodoOlvidado(){let e=this.yo.atlas.datosNodos.find(t=>t.estadoAprendizaje==="OLVIDADO");return e==null?void 0:e.idNodo}}},Jf=e=>(Ge("data-v-fa7a90f2"),e=e(),Ke(),e),g2={class:"landing"},y2=__('<div id="bloquePortada" data-v-fa7a90f2><div id="contenedorImagen" data-v-fa7a90f2><img src="'+p2+'" alt="Caracol" data-v-fa7a90f2></div><div id="contenedorCabecera" data-v-fa7a90f2><div id="titulo" data-v-fa7a90f2>La estrategia del caracol</div><div id="subtitulo" data-v-fa7a90f2>Plataforma de aprendizaje.</div></div></div>',1),b2={key:0,id:"bloqueInfoUsuario"},w2={id:"bloquePersonal"},E2={id:"contenedorFotoUsuario"},_2=["src"],S2={id:"nombreUsuario"},A2={id:"contenedorPerksUsuario"},N2={class:"contenedorImagenPerk"},C2={class:"perkTexto"},T2={class:"bolitaPerkNodo contenedorImagenPerk",style:{"background-color":"var(--atlasConocimientoRepasar)"}},x2={key:0,class:"perkImage",src:fs,alt:"Skill"},I2={key:1,src:ds,alt:"Skill",class:"perkImage"},D2={class:"perkTexto"},P2=Jf(()=>v("img",{src:al,alt:"Coleccion",class:"perkImage"},null,-1)),k2={class:"perkTexto"},O2=Jf(()=>v("div",{class:"ladoTexto"},[v("div",{class:"tituloBigBoton"},"Atlas de conocimiento"),v("div",{class:"subtituloBigBoton"}," Explora un universo de conocimientos y habilidades. ")],-1)),R2=Jf(()=>v("div",{class:"ladoImagen"},[v("img",{src:m2,alt:"Atlas"})],-1));function M2(e,t,o,i,r,n){var c,u;const s=Te("router-view"),a=Te("router-link"),l=Te("pie-progreso");return H(),Y("div",g2,[y2,Se(s,{onLogearse:t[0]||(t[0]=d=>e.$emit("logearse",d))}),e.usuarioLogeado?(H(),Y("div",b2,[v("div",w2,[v("div",E2,[v("img",{src:e.serverUrl+"/api/usuarios/fotografias/"+e.usuario.id+"?v="+r.versionFoto,alt:"Fotografía"},null,8,_2)]),v("div",S2,ve(r.yo.nombres+" "+r.yo.apellidos),1)]),v("div",A2,[Se(a,{to:r.nodoTarget.id?{name:"visorNodoConocimiento",params:{tipoBrowse:"mapa",idBrowsed:"idNodo",idNodo:r.nodoTarget.id}}:"",id:"perkNodoTarget",class:"perkStatus"},{default:ht(()=>[v("div",N2,[v("img",{class:"perkImage",src:Ki,alt:"Mira",style:Re([{filter:r.nodoTarget.id?"var(--filtroAtlasSeleccion)":""}])},null,4)]),v("div",C2,ve(n.idNodoTarget?r.nodoTarget.nombre||"":"¡Aún no tienes un nodo en la mira!"),1)]),_:1},8,["to"]),n.idNodoOlvidado&&r.nodoOlvidado.tipoNodo?(H(),qe(a,{key:0,to:(c=r.nodoOlvidado)!=null&&c.id?{name:"visorNodoConocimiento",params:{tipoBrowse:"mapa",idBrowsed:r.nodoOlvidado.id,idNodo:r.nodoOlvidado.id}}:"",id:"perkNodoOlvidado",class:"perkStatus"},{default:ht(()=>[v("div",T2,[r.nodoOlvidado.tipoNodo==="concepto"?(H(),Y("img",x2)):(H(),Y("img",I2))]),v("div",D2,ve(r.nodoOlvidado.nombre),1)]),_:1},8,["to"])):he("",!0),r.coleccionMostrada?(H(),qe(a,{key:1,to:(u=r.coleccionMostrada)!=null&&u.id?{name:"atlas",params:{tipoBrowse:"browseColeccion",idBrowsed:r.coleccionMostrada.id}}:"",id:"perkColeccion",class:"perkStatus"},{default:ht(()=>[Se(l,{mostrarNumero:!1,progreso:r.coleccionMostrada?r.coleccionMostrada.progreso:0,size:e.widthScreen<900?50:75},{default:ht(()=>[P2]),_:1},8,["progreso","size"]),v("div",k2,ve(e.$apollo.queries.yo.loading?"":r.coleccionMostrada.nombre||"¡Aún no has creado tu primera colección!"),1)]),_:1},8,["to"])):he("",!0)])])):he("",!0),Se(a,{to:{name:"atlas",params:{tipoBrowse:"mapa",idBrowsed:"123"}},id:"bigBotonAtlas",class:"bigBoton"},{default:ht(()=>[O2,R2]),_:1})])}const F2=Le(v2,[["render",M2],["__scopeId","data-v-fa7a90f2"]]),B2={name:"LoginScreen",components:{Loading:ut},data(){return{mostrandoPassword:!1,enviandoLogin:!1,inputUsernameActivo:!1,inputPasswordActivo:!1,inputUsername:"",inputPassword:""}},methods:{enviarLogin(){let e=this.validarUsername(),t=this.validarPassword();!e||!t||(this.enviandoLogin=!0,this.$apollo.query({query:Pe`
            query ($username: String!, $password: String!) {
              login(username: $username, password: $password)
            }
          `,variables:{username:e,password:t}}).then(({data:{login:o}})=>{console.log("logeado"),this.$emit("logearse",o),this.$router.push({name:"home"}),this.enviandoLogin=!1}).catch(o=>{console.log(`Error: ${o}`),this.$refs.campoPassword.select(),this.enviandoLogin=!1}))},validarUsername(){let e=this.$refs.campoUsername.value.trim();const t=30,o=6,i=/[^ a-zA-ZÀ-ž0-9_()-]/;if(e.length<o||e.length>t){this.raiseAccion("Nombre de usuario no válido","error");return}if(i.test(e)){this.raiseAccion("Nombre de usuario contiene caracteres no válidos","error");return}return e},validarPassword(){let e=this.$refs.campoPassword.value.trim();const t=6,o=30;if(e.length<t||e.length>o){this.raiseAccion("Contraseña no válida");return}return e}},mounted(){this.$apollo.skipAll=!1}},L2=e=>(Ge("data-v-a2ee4448"),e=e(),Ke(),e),$2={class:"loginScreen"},U2=L2(()=>v("div",{id:"tituloZona"},"Autenticación",-1)),q2=["type"];function j2(e,t,o,i,r,n){const s=Te("Loading");return H(),Y("div",$2,[U2,v("div",{id:"bloqueInputUsername",class:de(["bloqueInput",{activo:r.inputUsernameActivo||r.inputUsername}])},[U(v("input",{type:"text",ref:"campoUsername",id:"inputUsername",class:"inputLogin","onUpdate:modelValue":t[0]||(t[0]=a=>r.inputUsername=a),onFocus:t[1]||(t[1]=a=>r.inputUsernameActivo=!0),onBlur:t[2]||(t[2]=a=>r.inputUsernameActivo=!1)},null,544),[[je,r.inputUsername]])],2),v("div",{id:"bloqueInputPassword",class:de(["bloqueInput",{activo:r.inputPasswordActivo||r.inputPassword}])},[U(v("input",{type:r.mostrandoPassword?"text":"password",ref:"campoPassword",id:"inputPassword",class:"inputLogin","onUpdate:modelValue":t[3]||(t[3]=a=>r.inputPassword=a),onKeypress:t[4]||(t[4]=pt(a=>e.$refs.botonEnviarLogin.click(),["enter"])),onFocus:t[5]||(t[5]=a=>r.inputPasswordActivo=!0),onBlur:t[6]||(t[6]=a=>r.inputPasswordActivo=!1)},null,40,q2),[[a1,r.inputPassword]])],2),v("div",{class:de(["botonTexto",{deshabilitado:r.enviandoLogin}]),id:"botonEnviarLogin",ref:"botonEnviarLogin",onClick:t[7]||(t[7]=Ae((...a)=>n.enviarLogin&&n.enviarLogin(...a),["stop"]))}," Enviar ",2),U(Se(s,null,null,512),[[K,r.enviandoLogin]])])}const z2=Le(B2,[["render",j2],["__scopeId","data-v-a2ee4448"]]),V2={name:"LogoutScreen",components:{Loading:ut},data(){return{}},methods:{waitApolloNotLoading(){this.$apollo.loading?(console.log("apollo is loading"),setTimeout(()=>{this.waitApolloNotLoading},500)):(console.log("Apollo idle"),this.$router.push({name:"loginScreen"}))},funcionesDeslogeo(){this.$apollo.skipAll=!0,this.$nextTick(()=>{const e=this.$apollo.provider.defaultClient;e.writeQuery({query:Xn,data:{auth_usuario:null}}),e.resetStore().then(()=>{console.log("Store reset"),this.waitApolloNotLoading()}).catch(t=>{console.log("Error resetting store: "+t)})})}},mounted(){this.funcionesDeslogeo()}},H2=e=>(Ge("data-v-139833f0"),e=e(),Ke(),e),W2={class:".logoutScreen"},Q2={id:"zonaCentral"},G2=H2(()=>v("div",{class:"anuncio"},"Cerrando sesión.",-1));function K2(e,t,o,i,r,n){const s=Te("loading");return H(),Y("div",W2,[v("div",Q2,[Se(s),G2])])}const J2=Le(V2,[["render",K2],["__scopeId","data-v-139833f0"]]),Y2={data(){return{}}},Nw=e=>(Ge("data-v-2326c21a"),e=e(),Ke(),e),X2={class:"promptSubscripcion"},Z2=Nw(()=>v("img",{src:Ew,alt:"Alert",id:"imagenAlerta"},null,-1)),e9=Nw(()=>v("div",{id:"anuncio"}," Tu subscripción no está activa ",-1)),t9=[Z2,e9];function o9(e,t,o,i,r,n){return H(),Y("div",X2,t9)}const r9=Le(Y2,[["render",o9],["__scopeId","data-v-2326c21a"]]),Cw=ST({history:UC("/caracol"),routes:[{path:"/",name:"home",component:F2,children:[{path:"login",name:"loginScreen",component:z2}]},{path:"/logout",name:"logoutScreen",component:J2},{path:"/atlas/:tipoBrowse/:idBrowsed",name:"atlas",component:ZM,children:[{path:"verNodo/:idNodo",name:"visorNodoConocimiento",component:nd}]},{path:"/rutaGrado/:idUsuario",name:"rutaGrado",component:n0,props:!0},{path:"/adminNodosConocimiento",name:"adminNodosConocimiento",component:bF},{path:"/login",name:"loginArea",component:jF},{path:"/miperfil",name:"perfilPersonal",component:o5,children:[{path:"ventanaEventoPublico/:idEvento",component:ou,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:ru,name:"VentanaEventoPersonal"}]},{path:"/nodoConocimiento/:idNodo",component:nd},{path:"/registro",name:"registro",component:O5},{path:"/personas",name:"personas",component:Mj,children:[{path:"ventanaEventoPublico/:idEvento",component:ou,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:ru,name:"VentanaEventoPersonal"}]},{path:"/espacios",name:"espacios",component:cV,children:[{path:"ventanaEventoPublico/:idEvento",component:ou,name:"VentanaEventoPublico"},{path:"ventanaEventoPersonal/:idEvento",component:ru,name:"VentanaEventoPersonal"}]},{path:"/subscripcionVencida",name:"promptSubscripcion",component:r9},{path:"/:catchAll(.*)",redirect(){return"/"}}]});Cw.beforeEach(async(e,t)=>{var i;if(!Aa)return!1;let o=Aa.readQuery({query:Xn});if(o!=null&&o.auth_usuario&&!o.auth_usuario.subscripcionIlimitada&&(!o.auth_usuario.millisFinSubscripcion||o.auth_usuario.millisFinSubscripcion<Date.now())&&!["home","perfilPersonal","logoutScreen","promptSubscripcion"].includes(e.name))return{name:"promptSubscripcion"};if((i=o==null?void 0:o.auth_usuario)!=null&&i.id){if(e.name=="loginScreen")return{name:"home"}}else if(e.name!="loginScreen")return{name:"loginScreen"}});const i9=async function(){await ox.restore(),Nl.mount("#app")},Nl=p1(_C);Nl.mixin(kN);Nl.use(Cw);Nl.use(px);i9()});export default n9();
